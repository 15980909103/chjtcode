{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?fcf3","webpack:///D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?6a56","webpack:///D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?b216","webpack:///D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?3241","uni-app:///pages/chat/index.vue","webpack:///D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?bbdc"],"names":["createPage","Page","renderjs","component","options","__file","components","uTabs","uSearch","uBadge","uPopup","uMask","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","s0","_self","_c","__get_style","menuTop","paddingTop","top","l0","current","data","length","__map","item","index","$orig","__get_orig","g0","$api","imgDirtoUrl","headimgurl","g1","$u","timeFormat","update_time","g2","Object","keys","informList","l1","m0","m1","m2","g3","QRcode","_isMounted","e0","searchShow","e1","$event","sub","e2","e3","e4","stopPropagation","$mp","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":"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","file":"pages/chat/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/chat/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=3fea99d8&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3fea99d8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fea99d8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chat/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=3fea99d8&scoped=true&\"","var components\ntry {\n  components = {\n    uTabs: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabs/u-tabs\" */ \"@/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    uSearch: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-search/u-search\" */ \"@/uview-ui/components/u-search/u-search.vue\"\n      )\n    },\n    uBadge: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-badge/u-badge\" */ \"@/uview-ui/components/u-badge/u-badge.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uMask: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-mask/u-mask\" */ \"@/uview-ui/components/u-mask/u-mask.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([\n    _vm.menuTop\n      ? {\n          paddingTop: _vm.menuTop.top + \"px\"\n        }\n      : \"\"\n  ])\n\n  var l0 =\n    _vm.current == 0 && _vm.data.length > 0\n      ? _vm.__map(_vm.data, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var g0 = _vm.$api.imgDirtoUrl(item.headimgurl)\n          var g1 = _vm.$u.timeFormat(item.update_time, \"mm-dd\")\n          return {\n            $orig: $orig,\n            g0: g0,\n            g1: g1\n          }\n        })\n      : null\n  var g2 = !(_vm.current == 0) ? Object.keys(_vm.informList) : null\n  var l1 =\n    !(_vm.current == 0) && g2.length > 0\n      ? _vm.__map(_vm.informList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 = index == 1 ? require(\"../../static/system.png\") : null\n          var m1 =\n            !(index == 1) && index == 4\n              ? require(\"../../static/house.png\")\n              : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1\n          }\n        })\n      : null\n  var m2 = !(_vm.current == 0) ? require(\"../../static/add.png\") : null\n  var g3 = _vm.$api.imgDirtoUrl(_vm.QRcode)\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function() {\n      _vm.searchShow = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.sub = true\n    }\n\n    _vm.e2 = function($event) {\n      _vm.sub = true\n    }\n\n    _vm.e3 = function() {\n      _vm.searchShow = false\n    }\n\n    _vm.e4 = function($event) {\n      $event.stopPropagation()\n      _vm.sub = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n        l0: l0,\n        g2: g2,\n        l1: l1,\n        m2: m2,\n        g3: g3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"wrap\">\r\n\t\t\t<view class=\"top\" :style=\"[menuTop ? { paddingTop: menuTop.top + 'px' } : '']\">\r\n\t\t\t\t<u-tabs \r\n\t\t\t\t\t:list=\"list\" \r\n\t\t\t\t\t:is-scroll=\"false\" \r\n\t\t\t\t\tfont-size=\"34\"\r\n\t\t\t\t\t:current=\"current\" \r\n\t\t\t\t\tactive-color=\"rgba(254, 130, 30, 1)\"\r\n\t\t\t\t\tbar-trans=\"-60%\"\r\n\t\t\t\t\tbar-width=\"30\"\r\n\t\t\t\t\t:is-dot=\"true\"\r\n\t\t\t\t\t:offset=\"[15,35]\"\r\n\t\t\t\t\t@change=\"tabChange\"\r\n\t\t\t\t>\r\n\t\t\t\t</u-tabs>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"search\">\r\n\t\t\t\t<view class=\"search-box\">\r\n\t\t\t\t\t<u-search\r\n\t\t\t\t\t\tv-if=\"current == 0\"\r\n\t\t\t\t\t\tplaceholder=\"搜索联系人\" \r\n\t\t\t\t\t\tshape=\"square\"\r\n\t\t\t\t\t\tbg-color=\"rgba(245, 248, 254, 1)\"\r\n\t\t\t\t\t\tsearch-icon-color=\"rgba(173, 173, 173, 1)\"\r\n\t\t\t\t\t\tplaceholder-color=\"rgba(173, 173, 173, 1)\"\r\n\t\t\t\t\t\tcolor=\"#606266\"\r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\t:show-action=\"false\"\r\n\t\t\t\t\t\theight=\"74\"\r\n\t\t\t\t\t\t:input-style=\"{\r\n\t\t\t\t\t\t\tfontSize: '26rpx'\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t@click=\"()=>{ searchShow = true }\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</u-search>\r\n\t\t\t\t\t<view class=\"search-box-item\" v-else>\r\n\t\t\t\t\t\t<text>关注公众号，不错过任何聊天记录</text>\r\n\t\t\t\t\t\t<text @click=\"sub = true\">去绑定</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<i class=\"iconfont iconlianxiren\" @click.stop=\"goPage('chat/address')\"></i>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"box\" v-if=\"current == 0\">\r\n\t\t\t<!-- <view class=\"group\">\r\n\t\t\t\t<view class=\"group-top\">\r\n\t\t\t\t\t<view class=\"group-top-left\">\r\n\t\t\t\t\t\t<i class=\"iconfont iconlianxiren-3\"></i>\r\n\t\t\t\t\t\t<text>群聊广场</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"group-top-right\">\r\n\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\tsrc=\"../../static/logo.png\" \r\n\t\t\t\t\t\t\tv-for=\"item in 6\" \r\n\t\t\t\t\t\t\t:key=\"item\"\r\n\t\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\t\tzIndex: item,\r\n\t\t\t\t\t\t\t\ttransform: `translate(-${60*(5-item)}%,0)`\r\n\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"group-bottom\">\r\n\t\t\t\t\t<view class=\"group-bottom-left\">\r\n\t\t\t\t\t\t<text>海沧区置业找房群</text>\r\n\t\t\t\t\t\t<text>124人正在热聊</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<i class=\"iconfont iconjiantou1-copy\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t\t<template v-if=\"data.length > 0\">\r\n\t\t\t\t<view class=\"chat\" v-for=\"(item,index) in data\" :key=\"index\" @tap=\"goChat(item.id, item.nickname, item.user_id)\">\r\n\t\t\t\t\t<view class=\"chat-head\">\r\n\t\t\t\t\t\t<img :src=\"$api.imgDirtoUrl(item.headimgurl)\">\r\n\t\t\t\t\t\t<u-badge :count=\"item.not_read\" :offset=\"[-5,-5]\"></u-badge>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"chat-info van-ellipsis\">\r\n\t\t\t\t\t\t<view class=\"chat-info-top\">\r\n\t\t\t\t\t\t\t<text>{{ item.nickname }}</text>\r\n\t\t\t\t\t\t\t<text>{{ $u.timeFormat(item.update_time, 'mm-dd') }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"chat-info-say van-ellipsis\">\r\n\t\t\t\t\t\t\t{{ !item.msg_type || item.msg_type == 1 ? item.last_msg : '[图片]' }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t\t<view v-else>\r\n\t\t\t<!-- <view class=\"info\">\r\n\t\t\t\t<view class=\"info-head\">\r\n\t\t\t\t\t<img src=\"../../static/system.png\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-info van-ellipsis\">\r\n\t\t\t\t\t<view class=\"info-info-top\">\r\n\t\t\t\t\t\t<text>系统消息</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info-info-say van-ellipsis\">\r\n\t\t\t\t\t\t2020.12.18日版本1.2.3更新提示\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info\">\r\n\t\t\t\t<view class=\"info-head\">\r\n\t\t\t\t\t<img src=\"../../static/house.png\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-info van-ellipsis\">\r\n\t\t\t\t\t<view class=\"info-info-top\">\r\n\t\t\t\t\t\t<text>楼盘消息</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info-info-say van-ellipsis\">\r\n\t\t\t\t\t\t恭喜您！您的房子升值17万\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info\">\r\n\t\t\t\t<view class=\"info-head\">\r\n\t\t\t\t\t<img src=\"../../static/activity.png\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-info van-ellipsis\">\r\n\t\t\t\t\t<view class=\"info-info-top\">\r\n\t\t\t\t\t\t<text>活动消息</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info-info-say van-ellipsis\">\r\n\t\t\t\t\t\t今日特惠活动来袭，赶快来领取啦！\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t\t<template v-if=\"Object.keys(informList).length > 0\">\r\n\t\t\t\t<view class=\"info\" v-for=\"( item, index ) in informList\" :key=\"index\" @click=\"goPage('chat/list',{ type: index, name: item.name })\">\r\n\t\t\t\t\t<view class=\"info-head\">\r\n\t\t\t\t\t\t<template v-if=\"index == 1\">\r\n\t\t\t\t\t\t\t<img src=\"../../static/system.png\">\r\n\t\t\t\t\t\t\t<u-badge :count=\"item.not_read_num\" :offset=\"[-5,-5]\"></u-badge>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else-if=\"index == 4\">\r\n\t\t\t\t\t\t\t<img src=\"../../static/house.png\">\r\n\t\t\t\t\t\t\t<u-badge :count=\"item.not_read_num\" :offset=\"[-5,-5]\"></u-badge>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info-info van-ellipsis\">\r\n\t\t\t\t\t\t<view class=\"info-info-top\">\r\n\t\t\t\t\t\t\t<text>{{ item.name }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info-info-say van-ellipsis\">\r\n\t\t\t\t\t\t\t{{ item.lastMsg.title }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<view class=\"info\" @click=\"sub = true\">\r\n\t\t\t\t<view class=\"info-head\">\r\n\t\t\t\t\t<img src=\"../../static/add.png\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-info van-ellipsis\">\r\n\t\t\t\t\t<view class=\"info-info-top\">\r\n\t\t\t\t\t\t<text>订阅号</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info-info-say van-ellipsis\">\r\n\t\t\t\t\t\t每日推送人居楼市、新闻资讯、市场动态\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 搜索弹窗 -->\r\n\t\t<u-popup \r\n\t\t\tv-model=\"searchShow\" \r\n\t\t\tmode=\"bottom\" \r\n\t\t\theight=\"100%\" \r\n\t\t\t:closeable=\"true\" \r\n\t\t\tclose-icon-pos=\"top-left\"\r\n\t\t\tclose-icon-size=\"40\"\r\n\t\t\t:close-top=\"menuTop ? menuTop.top + 10 + 'px' : ''\"\r\n\t\t\tclose-icon=\"arrow-down\"\r\n\t\t\t@close=\"searchClose\"\r\n\t\t>\r\n\t\t\t<search :data=\"searchList\" @close=\"()=>{ searchShow = false }\" ref=\"search\"></search>\r\n\t\r\n\t\t\t\r\n\t\t</u-popup>\r\n\t\t\r\n\t\t<!-- 公众号 -->\r\n\t\t<u-mask :show=\"sub\">\r\n\t\t\t<view class=\"poster\" @click.stop>\r\n\t\t\t\t<text class=\"title\">\r\n\t\t\t\t\t厦门九房网\r\n\t\t\t\t</text>\r\n\t\t\t\t<view class=\"QRcode\">\r\n\t\t\t\t\t<image :src=\"$api.imgDirtoUrl(QRcode)\" show-menu-by-longpress @click.stop>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"tip\">\r\n\t\t\t\t\t长按识别二维码，添加订阅号\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<image src=\"../../static/close.png\" class=\"close\" @click.stop=\"sub = false\">\r\n\t\t\t\r\n\t\t</u-mask>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport search from '@/components/chat/search'\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfirstLoad: true,\r\n\t\t\t\t// 小程序按钮位置\r\n\t\t\t\tmenuTop: 0,\r\n\t\t\t\t// tab栏目\r\n\t\t\t\tlist: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '微聊',\r\n\t\t\t\t\t\tcount: 0\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tname: '通知',\r\n\t\t\t\t\t\tcount: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\t// 搜索\r\n\t\t\t\tsearchShow: false,\r\n\t\t\t\tsearchList: [],\t\t\t//\t搜索联系人数据\r\n\t\t\t\t\r\n\t\t\t\t// 会话列表数据\r\n\t\t\t\tdata: [],\r\n\t\t\t\t\r\n\t\t\t\t// 订阅号二维码\r\n\t\t\t\tQRcode: '',\r\n\t\t\t\tinformList: {},\r\n\t\t\t\t\r\n\t\t\t\t// 是否已监听\r\n\t\t\t\tisListen: false,\r\n\t\t\t\t\r\n\t\t\t\t// 二维码窗口\r\n\t\t\t\tsub: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tsearch\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tsearchShow( newV ) {\r\n\t\t\t\tif( !newV ) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.$http.post( 'chat/getFriendList').then( res=>{\r\n\t\t\t\t\tthis.searchList = res.data.list;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsub( newV ) {\r\n\t\t\t\tif( newV ){\r\n\t\t\t\t\tuni.hideTabBar({\r\n\t\t\t\t\t\tanimation: true\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showTabBar({\r\n\t\t\t\t\t\tanimation: true\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.init();\r\n\t\t\tuni.$once('loginOk', this.init);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif( this.firstLoad ){\r\n\t\t\t\tthis.firstLoad = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.init();\r\n\t\t\t// this.initTabCount();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit() {\r\n\t\t\t\tthis.menuTop = getApp().globalData.menuInfo;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.getList();\r\n\t\t\t},\r\n\t\t\ttabChange(e) {\r\n\t\t\t\tthis.current = e;\r\n\t\t\t},\r\n\t\t\tgetList() {\r\n\t\t\t\t// console.log(getApp().globalData.userInfo)\r\n\t\t\t\t\r\n\t\t\t\tthis.$http.post( 'chat/getDialogueList' ).then( res=>{\r\n\t\t\t\t\tlet data = res.data.dialoguel;\r\n\t\t\t\t\tconsole.table(data)\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.data = data;\r\n\t\t\t\t\tthis.QRcode = res.data.gzh_qrcode;\r\n\t\t\t\t\tthis.informList = res.data.system_list;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.initTabCount();\r\n\t\t\t\t\tthis.listenNewTalk();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlistenNewTalk() {\r\n\t\t\t\tif( this.isListen ) return;\r\n\t\t\t\tthis.isListen = true;\r\n\t\t\t\t\r\n\t\t\t\tuni.$on('some_talk', (e)=>{\r\n\t\t\t\t\tthis.data.map( item=>{\r\n\t\t\t\t\t\tif( item.id == e.id ){\r\n\t\t\t\t\t\t\titem.last_msg = e.type == 1 ? e.val : '[图片]';\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst page = getCurrentPages();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif( page[page.length - 1].route == 'pages/chat/chat' && page[page.length - 1].options.id == e.id){\r\n\t\t\t\t\t\t\t\titem.not_read = 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\titem.not_read += 1;\r\n\t\t\t\t\t\t\t\tthis.initTabCount();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// console.log(e,'------some_talk')\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tuni.$on('system_msg', (e)=>{\r\n\t\t\t\t\tthis.informList[e.type].not_read_num = Number(this.informList[e.type].not_read_num) + 1;\r\n\t\t\t\t\tthis.informList[e.type].lastMsg.title = e.title;\r\n\t\t\t\t\tthis.initTabCount();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoChat( id, name, to_uid ) {\r\n\t\t\t\tthis.goPage('chat/chat', { id: id, name: name, to_uid: to_uid });\r\n\t\t\t\t\r\n\t\t\t\t// 消除未读\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.data.map( item=>{\r\n\t\t\t\t\t\tif( item.id == id ){\r\n\t\t\t\t\t\t\titem.not_read = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.initTabCount();\r\n\t\t\t\t}, 500);\r\n\t\t\t},\r\n\t\t\tinitTabCount() {\r\n\t\t\t\tlet index = 0;\r\n\t\t\t\t\r\n\t\t\t\tthis.data.map( item=>{\r\n\t\t\t\t\tindex += item.not_read;\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.list[0].count = index == 0 ? 0 : 1;\r\n\t\r\n\t\t\t\tif( Object.keys(this.informList).length > 0 ){\r\n\t\t\t\t\tlet num = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor( let i in this.informList ){\r\n\t\t\t\t\t\tindex += Number(this.informList[i].not_read_num);\r\n\t\t\t\t\t\tnum += Number(this.informList[i].not_read_num);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.list[1].count = num == 0 ? 0 : 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// console.log(index,'----666')\r\n\t\t\t\tif( index == 0 ){\r\n\t\t\t\t\tuni.removeTabBarBadge({\r\n\t\t\t\t\t\t index: 2\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.setTabBarBadge({\r\n\t\t\t\t\t  index: 2,\r\n\t\t\t\t\t  text: String(index)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tsearchClose() {\r\n\t\t\t\tthis.$refs.search.cancel();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.poster{\r\n\t\twidth: 500rpx;\r\n\t\theight: 565rpx;\r\n\t\toverflow: hidden;\r\n\t\tposition: absolute;\r\n\t\tbackground-color: #fff;\r\n\t\ttop: 300rpx;\r\n\t\tleft: 125rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\t\r\n\t\t.title{\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tcolor: rgba(33, 33, 33, 1);\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 50%;\r\n\t\t\ttop: 38rpx;\r\n\t\t\ttransform: translate(-50%,0);\r\n\t\t}\r\n\t\t\r\n\t\t.QRcode{\r\n\t\t\twidth: 360rpx;\r\n\t\t\theight: 360rpx;\r\n\t\t\tborder: 1px solid #E0E0E0;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 50%;\r\n\t\t\ttop: 114rpx;\r\n\t\t\ttransform: translate(-50%,0);\r\n\t\t\t\r\n\t\t\timage{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.tip{\r\n\t\t\twidth: 100%;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: rgba(153, 153, 153, 1);\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 30rpx;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.close{\r\n\t\twidth: 54rpx;\r\n\t\theight: 54rpx;\r\n\t\tposition: absolute;\r\n\t\tleft: 348rpx;\r\n\t\ttop: 950rpx;\r\n\t}\r\n\t\r\n\t.content{\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 32rpx;\r\n\t\t\r\n\t}\r\n\t\r\n\t.wrap{\r\n\t\tbackground-color: #fff;\r\n\t\tposition: sticky;\r\n\t\ttop: 0;\r\n\t\tz-index: 99;\r\n\t\tpadding-bottom: 28rpx;\r\n\t}\r\n\t\r\n\t.top{\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 170rpx;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.search{\r\n\t\tdisplay: flex;\r\n\t\tmargin: 16rpx 0 0 0;\r\n\t\t\r\n\t\t&-box{\r\n\t\t\tflex: 1;\r\n\t\t\theight: 74rpx;\r\n\t\t}\r\n\t\t\r\n\t\t&-box-item{\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\theight: 74rpx;\r\n\t\t\tbackground-color: rgba(245, 248, 254, 1);\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 0 36rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\t\r\n\t\t\ttext:first-child{\r\n\t\t\t\tcolor: rgba(117, 117, 117, 1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttext:last-child{\r\n\t\t\t\tcolor: rgba(254, 130, 30, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.iconfont{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding-left: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.group{\r\n\t\twidth: 100%;\r\n\t\theight: 145rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 14rpx 18rpx;\r\n\t\tborder: 10rpx solid rgba(245, 248, 254, 1);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t&-top,\r\n\t\t&-bottom{\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\t\t\r\n\t\t&-top{\r\n\t\t\t&-left{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\r\n\t\t\t\t.iconfont{\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&-right{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\t\r\n\t\t\t\timg{\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tborder: 2rpx solid #FFFFFF;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t&-bottom{\r\n\t\t\talign-items: center;\r\n\t\t\t\r\n\t\t\t&-left{\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\r\n\t\t\t\ttext:first-child{\r\n\t\t\t\t\tfont-weight: 800;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttext:last-child{\r\n\t\t\t\t\tcolor: rgba(117, 117, 117, 1);\r\n\t\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.iconfont{\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tcolor: rgba(173, 173, 173, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.chat,\r\n\t.info{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 34rpx 0;\r\n\t\tborder-bottom: 1px solid rgba(230, 230, 230, 1);\r\n\t\t\r\n\t\t&-head{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-right: 30rpx;\r\n\t\t\tposition: relative;\r\n\t\t\t\r\n\t\t\timg{\r\n\t\t\t\twidth: 92rpx;\r\n\t\t\t\theight: 92rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t&-info{\r\n\t\t\tflex: 1;\r\n\t\t\t\r\n\t\t\t&-top{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\r\n\t\t\t\ttext:first-child{\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\tfont-weight: 800;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttext:nth-child(2){\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: rgba(173, 173, 173, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&-say{\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: rgba(117, 117, 117, 1);\r\n\t\t\t\tmargin-top: 14rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.info{\r\n\t\timg{\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t}\r\n\t\t\r\n\t\t&-info{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\t\r\n\t\t\t&-say{\r\n\t\t\t\tmargin-top: 16rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3fea99d8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3fea99d8&lang=scss&scoped=true&\""],"sourceRoot":""}