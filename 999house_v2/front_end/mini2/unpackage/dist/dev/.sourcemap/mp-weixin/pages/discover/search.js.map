{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/999house_v2/front_end/mini2/pages/discover/search.vue?3478","webpack:///D:/code/999house_v2/front_end/mini2/pages/discover/search.vue?702d","webpack:///D:/code/999house_v2/front_end/mini2/pages/discover/search.vue?22eb","webpack:///D:/code/999house_v2/front_end/mini2/pages/discover/search.vue?49ab","uni-app:///pages/discover/search.vue","webpack:///D:/code/999house_v2/front_end/mini2/pages/discover/search.vue?ddb8"],"names":["createPage","Page","renderjs","component","options","__file","components","uTabs","uSearch","uEmpty","uLoadmore","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","resultDetail","e1","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,8C,mDACAA,EAAWC,a;;;;2DCHX,gTACIC,EADJ,iKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,4BACZ,aAAAF,E;;;;2GCvBf,+lC;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,sMAITC,QAAS,WACP,OAAO,8KAITC,OAAQ,WACN,OAAO,wKAITC,UAAW,WACT,OAAO,2LAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAASb,GAChBM,EAAIQ,aAAed,GAGrBM,EAAIS,GAAK,SAASf,GAChBM,EAAIQ,aAAed,KAIrBgB,GAAmB,EACnBC,EAAkB,GACtBZ,EAAOa,eAAgB,G;;;;2DCzDvB,utBAAgqB,eAAG,G;;;;glBCyGnqB,CACA,KADA,WAEA,OACA,SACA,SACA,iBACA,SACA,IACA,IACA,KAEA,cACA,iBACA,SACA,CACA,KACA,UACA,yBACA,yBAQA,CACA,KACA,WACA,0BACA,yBAGA,MACA,UACA,gBAEA,OACA,UACA,WACA,YAGA,YACA,oBACA,kBAEA,OACA,OADA,SACA,GACA,kCAGA,UACA,UADA,WAEA,uBACA,wBACA,SAEA,WAGA,YAIA,OAjEA,WAkEA,wCAGA,oBAEA,SACA,KADA,WAEA,qBACA,YACA,eACA,iBAEA,UAPA,SAOA,GAEA,OADA,cACA,oBACA,wBACA,yBACA,yBACA,mBAEA,cACA,sCACA,aAGA,YApBA,WAoBA,WACA,0CACA,uBACA,kBACA,SACA,SAEA,+BACA,2BACA,OACA,aACA,YACA,QAGA,aAIA,yBACA,wBACA,OACA,aACA,YACA,QAGA,aAIA,eAIA,SAvDA,SAuDA,GACA,aACA,8DAEA,UAGA,GAGA,MACA,4CAEA,uDACA,oCAGA,qCACA,iEAGA,iCAEA,kCACA,iCAIA,4FAGA,QAtFA,SAsFA,GACA,YACA,6BAEA,QA1FA,WA2FA,cACA,YACA,uCAGA,SAhGA,WAiGA,iBAEA,WAnGA,WAoGA,2CACA,mCACA,iBAGA,SAzGA,SAyGA,GACA,uBACA,aAEA,YADA,6CAGA,SAIA,aACA,oBAYA,SAhIA,SAgIA,cACA,oBAGA,gBAEA,kBACA,eACA,iBAIA,EACA,iBAEA,aAGA,gCAEA,oCACA,aACA,qBACA,eACA,SACA,kBACA,QACA,6BACA,2nBAkBA,4BACA,SACA,UACA,iGAEA,aACA,6BAEA,uBACA,gBACA,6BACA,wCAIA,yCAKA,wCACA,gCAEA,2BACA,2BACA,gBAGA,2CACA,qBACA,OACA,YACA,SACA,OACA,cACA,kBACA,aACA,KAEA,wBACA,6BAGA,wCACA,gCAEA,sBACA,sBACA,mBAIA,cAlOA,WAmOA,YACA,mB;;;;2DCpZA,+wCAAiuC,eAAG,G","file":"pages/discover/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/discover/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=1a700fb6&scoped=true&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=1a700fb6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a700fb6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/discover/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=1a700fb6&scoped=true&\"","var components\ntry {\n  components = {\n    uTabs: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabs/u-tabs\" */ \"@/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    uSearch: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-search/u-search\" */ \"@/uview-ui/components/u-search/u-search.vue\"\n      )\n    },\n    uEmpty: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function(e) {\n      _vm.resultDetail = e\n    }\n\n    _vm.e1 = function(e) {\n      _vm.resultDetail = e\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<div class=\"tabs\">\r\n\t\t\t<div class=\"tabs-wrap\">\r\n\t\t\t\t<u-tabs \r\n\t\t\t\t\t:list=\"tabList\" \r\n\t\t\t\t\t:is-scroll=\"false\"\r\n\t\t\t\t\t:current=\"active\" \r\n\t\t\t\t\tactive-color=\"rgba(254, 130, 30, 1)\" \r\n\t\t\t\t\t:active-item-style=\"{\r\n\t\t\t\t\t\tfontSize: '38rpx'\r\n\t\t\t\t\t}\"\r\n\t\t\t\t\tbar-trans=\"0\"\r\n\t\t\t\t\t@change=\"tabChange\"\r\n\t\t\t\t>\r\n\t\t\t\t</u-tabs>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<block v-for=\"(item,index) in tabList\" :key=\"index\" :title=\"item.name\">\r\n\t\t\t<block v-if=\"active==index\">\r\n\t\t\t\t<div class=\"search\">\r\n\t\t\t\t\t<form action=\"/\">\r\n\t\t\t\t\t\t<u-search \r\n\t\t\t\t\t\tv-model=\"value\"\r\n\t\t\t\t\t\t:show-action=\"showResultBox\"\r\n\t\t\t\t\t\tbg-color=\"#fff\"\r\n\t\t\t\t\t\tplaceholder-color=\"#ADADAD\"\r\n\t\t\t\t\t\t:placeholder=\"item.placeholder\"\r\n\t\t\t\t\t\tmaxlength=\"16\"\r\n\t\t\t\t\t\tshape=\"square\"\r\n\t\t\t\t\t\taction-text=\"取消\"\r\n\t\t\t\t\t\t@search=\"(val)=>{onSearch(val,1)}\"\r\n\t\t\t\t\t\t@change=\"onInput\"\r\n\t\t\t\t\t\t@custom=\"onClear\"\r\n\t\t\t\t\t\t@clear=\"onClear\"\r\n\t\t\t\t\t\t>\t\r\n\t\t\t\t\t\t</u-search>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"box\" v-show=\"!showResultBox\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"history\" v-if=\"searchHistory[item.historyKey] && searchHistory[item.historyKey].length > 0\">\r\n\t\t\t\t\t\t<view class=\"h4-title\">历史搜索</view>\r\n\t\t\t\t\t\t<span class=\"iconfont iconlajitong\" @click=\"delHistory\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"history-tip\" v-if=\"searchHistory[item.historyKey] && searchHistory[item.historyKey].length > 0\">\r\n\t\t\t\t\t\t<template v-for=\"(tip,num) in searchHistory[item.historyKey]\" >\r\n\t\t\t\t\t\t\t<span :key=\"num\" @click=\"tipClick(tip)\" v-if=\"num < 11\">\r\n\t\t\t\t\t\t\t\t{{tip}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"history\" >\r\n\t\t\t\t\t\t<view class=\"h4-title\">热门搜索</view>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"history-tip\">\r\n\t\t\t\t\t\t<span @click=\"goPage('index/find_house')\" >\r\n\t\t\t\t\t\t\t快捷找房\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<!-- <span @click=\"goPage('map/index')\" >\r\n\t\t\t\t\t\t\t地图找房\r\n\t\t\t\t\t\t</span> -->\r\n\t\t\t\t\t\t<block v-if=\"item.id==2 && hotTip.length > 0\" >\r\n\t\t\t\t\t\t\t<template v-for=\"(tip,num) in hotTip\" >\r\n\t\t\t\t\t\t\t\t<span :key=\"num\" @click=\"tipClick(tip)\" v-if=\"num < 11\">\r\n\t\t\t\t\t\t\t\t\t{{tip.name}}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"result\" v-show=\"showResultBox\">\r\n\t\t\t\t\t<!-- 资讯/有料/新房 -->\r\n\t\t\t\t\t<div class=\"detail\" v-show=\"showResult\">\r\n\t\t\t\t\t\t<template v-if=\"resultDetail.length == 0\">\r\n\t\t\t\t\t\t\t<u-empty text=\"暂无相关搜索\" mode=\"search\"></u-empty>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<common-information v-if=\"do_type==0\" :list=\"resultDetail\" @del=\"(e)=>{ resultDetail = e }\"></common-information>\r\n\t\t\t\t\t\t\t<common-newhouse v-if=\"do_type==2\" :list=\"resultDetail\" @del=\"(e)=>{ resultDetail = e }\"></common-newhouse>\r\n\t\t\t\t\t\t\t<u-loadmore\r\n\t\t\t\t\t\t\t\t:status=\"loadState\" \r\n\t\t\t\t\t\t\t\tmargin-top=\"60\"\r\n\t\t\t\t\t\t\t\t:load-text=\"{\r\n\t\t\t\t\t\t\t\t\tloadmore: '上拉加载',\r\n\t\t\t\t\t\t\t\t\tloading: '努力加载中~',\r\n\t\t\t\t\t\t\t\t\tnomore: '我是有底线的'\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</block>\r\n\t\t</block>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport commonInformation from '@/components/common/template_information';\r\n\timport commonNewhouse from '@/components/common/template_newHouse';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactive: 0,\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tsearchHistory: {},\r\n\t\t\t\tsortTab: {\r\n\t\t\t\t\t0: 0,\r\n\t\t\t\t\t2: 0,\r\n\t\t\t\t\t3: 0\r\n\t\t\t\t},\r\n\t\t\t\tshowResult: false,\r\n\t\t\t\tshowResultBox: false,\r\n\t\t\t\ttabList: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\tname: '资讯',\r\n\t\t\t\t\t\thistoryKey: 'news-search',\r\n\t\t\t\t\t\tplaceholder: '请输入感兴趣的内容'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tid: 1,\r\n\t\t\t\t\t// \tname: '视频',\r\n\t\t\t\t\t// \tplaceholder: '请输入感兴趣的内容',\r\n\t\t\t\t\t//  historyKey: 'video-search'\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\tname: '选好房',\r\n\t\t\t\t\t\thistoryKey: 'house-search',\r\n\t\t\t\t\t\tplaceholder: '请输入楼盘、地址'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tpid:9,\r\n\t\t\t\thotTip: [],\r\n\t\t\t\tresultDetail: [],\r\n\t\t\t\t// 分页\r\n\t\t\t\tpage: 0,\r\n\t\t\t\tmaxPage: 1,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tdo_type: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tcommonInformation,\r\n\t\t\tcommonNewhouse\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tactive(val){\r\n\t\t\t\tthis.do_type = this.tabList[val].id;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloadState() {\r\n\t\t\t\tif( this.loading == false ){\r\n\t\t\t\t\tif( this.page >= this.maxPage ){\r\n\t\t\t\t\t\treturn 'nomore';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn 'loadmore';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'loading';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.searchHistory = this.uHistory('get');\r\n\t\t\t\t\t\r\n\t\t\t//获取选好房热搜词\r\n\t\t\tthis.getHouseTip();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit() {\r\n\t\t\t\tthis.resultDetail = [];\r\n\t\t\t\tthis.page = 0;\r\n\t\t\t\tthis.maxPage = 1;\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t},\r\n\t\t\ttabChange(e) {\r\n\t\t\t\tthis.active = e\r\n\t\t\t\tswitch (this.tabList[e].id) {\r\n\t\t\t\t\tcase 0: this.pid=9;break;\r\n\t\t\t\t\tcase 1: this.pid=13;break;\r\n\t\t\t\t\tcase 2: this.pid=18;break;\r\n\t\t\t\t\tdefault:this.pid = 9 ;\r\n\t\t\t\t}\r\n\t\t\t\tthis.value = '';\r\n\t\t\t\tthis.showResult = this.showResultBox = false;\r\n\t\t\t\tthis.init();\r\n\t\t\t},\r\n\t\t\t//获取选好房热搜词\r\n\t\t\tgetHouseTip() {\r\n\t\t\t\tthis.$http.post('estates/getSearchWords',{\r\n\t\t\t\t\tcity_no: this.city_no\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconst arr = [];\r\n\t\t\t\t\tconst data = res.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif( data.estates&&data.estates.length > 0 ){\r\n\t\t\t\t\t\tdata.estates.map( item=>{\r\n\t\t\t\t\t\t\tconst obj = {\r\n\t\t\t\t\t\t\t\tid: item.bind_id,\r\n\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\ttype: 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tarr.push(obj);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif( data.tags&&data.tags.length > 0 ){\r\n\t\t\t\t\t\tdata.tags.map( item=>{\r\n\t\t\t\t\t\t\tconst obj = {\r\n\t\t\t\t\t\t\t\tid: item.bind_id,\r\n\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\ttype: 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tarr.push(obj);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.hotTip = arr;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 存取搜索历史\r\n\t\t\tuHistory(type) {\r\n\t\t\t\tif( type == 'get' ){\r\n\t\t\t\t\tconst val = this.$api.localStore.localGet('u-index-search-history');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif( val ){\r\n\t\t\t\t\t\treturn val;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn {};\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif( type ) {\r\n\t\t\t\t\t\tconst key = this.tabList[this.active].historyKey;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif( Object.keys(this.searchHistory).indexOf(String(key)) == -1 ){\r\n\t\t\t\t\t\t\tthis.$set(this.searchHistory,key,[]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif( this.searchHistory[key].indexOf(type) != -1 ){\r\n\t\t\t\t\t\t\tthis.searchHistory[key].splice(this.searchHistory[key].indexOf(type),1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.searchHistory[key].unshift(type);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif( this.searchHistory[key].length > 11 ){\r\n\t\t\t\t\t\t\tthis.searchHistory[key].length = 11;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$api.localStore.localSet('u-index-search-history',JSON.stringify(this.searchHistory));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonInput(val) {\r\n\t\t\t\tthis.init();\r\n\t\t\t\tval.length == 0 && this.onClear();\r\n\t\t\t},\r\n\t\t\tonClear() {\r\n\t\t\t\tthis.value = '';\r\n\t\t\t\tthis.init();\r\n\t\t\t\tthis.showResult = this.showResultBox = false;\r\n\t\t\t},\r\n\t\t\t// 取消按钮\r\n\t\t\tonCancel() {\r\n\t\t\t\tthis.goPage(-1);\r\n\t\t\t},\r\n\t\t\tdelHistory() {\r\n\t\t\t\tconst key = this.tabList[this.active].historyKey;\r\n\t\t\t\tthis.$set(this.searchHistory,key,[]);\r\n\t\t\t\tthis.uHistory();\r\n\t\t\t},\r\n\t\t\t// 标签点击\r\n\t\t\ttipClick(val) {\r\n\t\t\t\tif( typeof val == 'object' ){\r\n\t\t\t\t\tif( val.type == 0 ){\r\n\t\t\t\t\t\tthis.goPage('houses/index', { id: val.id, type:1 });\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tval = val.name;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.value = val;\r\n\t\t\t\tthis.onSearch( val, 1 );\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 热门资讯切换\r\n\t\t\t// changeSort(e) {\r\n\t\t\t// \tconst sort = this.sortTab[this.active];\r\n\t\t\t// \tconst newSort = e.target.dataset.id;\r\n\t\t\t\t\r\n\t\t\t// \tif( sort != newSort ){\r\n\t\t\t// \t\tthis.sortTab[this.active] = newSort;\r\n\t\t\t// \t}\r\n\t\t\t// },\r\n\t\t\tonSearch(val, refresh=0) {\r\n\t\t\t\tif(this.loading==true){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.loading = true;\r\n\r\n\t\t\t\tlet page = this.page + 1;\r\n\t\t\t\tif( page > this.maxPage ){\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif( val ){\r\n\t\t\t\t\tthis.uHistory(val);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tval = this.value;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( this.tabList[this.active].id != 2 ){\r\n\t\t\t\t\t// 显示结果模块\r\n\t\t\t\t\tthis.$http.post('/news/newsSearch',{\r\n\t\t\t\t\t\tpid: this.pid,\r\n\t\t\t\t\t\tcity_no: this.city_no,\r\n\t\t\t\t\t\tsearch_value: val,\r\n\t\t\t\t\t\tpage: page\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tlet that =this;\r\n\t\t\t\t\t\tlet newList = res.data.list ? res.data.list : [];\r\n\t\t\t\t\t\tlet write = `<span \r\n\t\t\t\t\t\t\t\t\t\tclass=\"template-title-write\" \r\n\t\t\t\t\t\t\t\t\t\tstyle=\"\r\n\t\t\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\t\t\tmargin-right: 4rpx;\r\n\t\t\t\t\t\t\t\t\t\theight: 30rpx;\r\n\t\t\t\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t\t\tpadding: 3rpx 10rpx !important;\r\n\t\t\t\t\t\t\t\t\t\tbackground: #FD4243;\r\n\t\t\t\t\t\t\t\t\t\tborder-radius: 2rpx;\r\n\t\t\t\t\t\t\t\t\t\tvertical-align: middle;\r\n\t\t\t\t\t\t\t\t\t\tline-height: 30rpx;\r\n\t\t\t\t\t\t\t\t\t\tmargin-top: 0 !important;\r\n\t\t\t\t\t\t\t\t\t\ttext-align: center;\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t原创\r\n\t\t\t\t\t\t\t\t\t</span>`\r\n\t\t\t\t\t\tnewList&&newList.forEach(function (item,index) {\r\n\t\t\t\t\t\t\titem.type = 1;\r\n\t\t\t\t\t\t\tif(item.title){\r\n\t\t\t\t\t\t\t\titem.html_title = item.title.replace(val,'<p style=\"color:rgb(254, 130, 30);display: inline;\">'+val+'</p>');//设置高亮\r\n\t\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t\tif(item.write == 1){\r\n\t\t\t\t\t\t\t\titem.html_title = write + item.html_title\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif( item.img instanceof  Array ){\r\n\t\t\t\t\t\t\t\tif(item.img.length > 0){\r\n\t\t\t\t\t\t\t\t\titem.img.forEach(function(img,i) {\r\n\t\t\t\t\t\t\t\t\t\tnewList[index]['img'][i] = that.$api.imgDirtoUrl(img);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnewList[index]['url'] = that.$api.imgDirtoUrl(item.url);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tthis.resultDetail = this.resultDetail.concat(newList);\r\n\t\t\t\t\t\tthis.showResult = this.showResultBox = true;\r\n\r\n\t\t\t\t\t\tthis.page = res.data.current_page;\r\n\t\t\t\t\t\tthis.maxPage = res.data.last_page;\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$http.post('/estates/getEstatesList',{\r\n\t\t\t\t\t\tcity_no: this.city_no,\r\n\t\t\t\t\t\tname: val,\r\n\t\t\t\t\t\trecommend: 1,\r\n\t\t\t\t\t\tno_adv: 1,\r\n\t\t\t\t\t\tpage: page,\r\n\t\t\t\t\t\tpage_size: 6\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tconst data = res.data;\r\n\t\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(data.list&&data.list.length){\r\n\t\t\t\t\t\t\tarr = this.$api.createHouseList( data );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.resultDetail = this.resultDetail.concat(arr);\r\n\t\t\t\t\t\tthis.showResult = this.showResultBox = true;\r\n\r\n\t\t\t\t\t\tthis.page = data.current_page;\r\n\t\t\t\t\t\tthis.maxPage = data.last_page;\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonReachBottom(){\r\n\t\t\t\tif(this.value){//处于搜索状态时\r\n\t\t\t\t\tthis.onSearch();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.tabs{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\t\r\n\t\t/deep/ .u-tab-item{\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tfont-weight: 800;\r\n\t\t\tcolor: rgba(33, 33, 33, 1);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\t.tabs-wrap{\r\n\t\twidth: 70%;\r\n\t\tmargin: 30rpx 0 40rpx;\r\n\t}\t\r\n\t\t\r\n\t.search{\r\n\t\tbox-sizing: border-box;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 32rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t\r\n\t\t/deep/ .u-content{\r\n\t\t\theight: 80rpx !important;\r\n\t\t\tbox-shadow: 0px 3px 20px 0px #F5F5F5;\r\n\t\t\tborder-radius: 6px;\r\n\t\t\tborder: 1px solid #BDBDBD;\r\n\t\t}\r\n\t\t\r\n\t\t/deep/ .u-iconfont{\r\n\t\t\tcolor: rgba(153, 153, 153, 1) !important;\r\n\t\t\tmargin-right: 8rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.box{\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 32rpx 100rpx;\r\n\t}\r\n\r\n\t.history{\r\n\t\theight: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tfont-size: 0.34rem;\r\n\t}\r\n\r\n\t.history .iconfont{\r\n\t\twidth: 80rpx;\r\n\t\theight: 100rpx;\r\n\t\tcolor: rgba(173, 173, 173, 1);\r\n\t\tfont-size: 28rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.history-tip{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t\t// margin-bottom: 40rpx;\r\n\t}\r\n\r\n\t.history-tip span{\r\n\t\theight: 55rpx;\r\n\t\tline-height: 55rpx;\r\n\t\tpadding: 0 15rpx;\r\n\t\tbackground-color: rgba(247, 247, 247, 1);\r\n\t\tmargin: 0 35rpx 20rpx 0;\r\n\t\tfont-size: 26rpx;\r\n\t\tborder-radius: 4rpx;\r\n\t}\r\n\r\n\t.sort{\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.sort span{\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.sort span:first-child{\r\n\t\tpadding-right: 25rpx;\r\n\t}\r\n\r\n\t.sort span:last-child{\r\n\t\tpadding-left: 25rpx;\r\n\t}\r\n\r\n\t.sort-item{\r\n\t\twidth: 100%;\r\n\t\theight: 140rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1rpx solid rgba(235, 235, 235, 1);\r\n\t}\r\n\r\n\t.sort-left{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.sort-left .iconfont{\r\n\t\tfont-size: 55rpx;\r\n\t\tcolor: rgba(189, 189, 189, 1);\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.sort-left .iconfont span{\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #fff;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-60%, -60%);\r\n\t}\r\n\r\n\t.top-three{\r\n\t\tcolor: rgba(252, 77, 57, 1) !important;\r\n\t}\r\n\r\n\t.history .h4-title{\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t.sort-wrap{\r\n\t\tmargin-left: 32rpx;\r\n\t}\r\n\r\n\t.sort-wrap .h4-title{\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.sort-site{\r\n\t\tcolor: rgba(117, 117, 117, 1);\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.sort-site span:first-child{\r\n\t\tpadding-right: 10rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.sort-site-area{\r\n\t\twidth: 340rpx;\r\n\t\tflex: 1;\r\n\t}\r\n\t\r\n\t.sort-site-line:after{\r\n\t\tcontent: '';\r\n\t\theight: 22rpx;\r\n\t\twidth: 1px;\r\n\t\tbackground-color: rgba(117, 117, 117, 1);\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(0,-45%);\r\n\t}\r\n\r\n\t.sort-site span:last-child{\r\n\t\tpadding-left: 10rpx;\r\n\t}\r\n\r\n\t.sort-price{\r\n\t\tfont-size: 34rpx;\r\n\t\tcolor: rgba(252, 77, 57, 1);\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.sort-price span{\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.more{\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: rgba(117, 117, 117, 1);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.more .iconfont{\r\n\t\tfont-size: 38rpx;\r\n\t\twidth: auto;\r\n\t\tmargin-left: 10rpx;\r\n\t\tcolor: rgba(117, 117, 117, 1);\r\n\t}\r\n\r\n\t.more2{\r\n\t\tpadding-top: 20rpx;\r\n\t}\r\n\r\n\t.info{\r\n\t\twidth: 100%;\r\n\t\tpadding: 15rpx 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.info-text{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.info-sort{\r\n\t\twidth: 24rpx;\r\n\t\theight: 28rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: rgba(117, 117, 117, 1);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.info-title{\r\n\t\twidth: 468rpx;\r\n\t\tmargin-left: 16rpx;\r\n\t}\r\n\r\n\t.info-read{\r\n\t\tcolor: rgba(173, 173, 173, 1);\r\n\t}\r\n\r\n\t.result{\r\n\t\tpadding-bottom: 100rpx;\r\n\t}\r\n\r\n\t.result-wrap{\r\n\t\tpadding: 0 32rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.result-all{\r\n\t\theight: 90rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1rpx solid rgba(235, 235, 235, 1);\r\n\t}\r\n\r\n\t.result-text{\r\n\t\twidth: 75%;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.result-all div{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tcolor: rgba(117, 117, 117, 1);\r\n\t}\r\n\t\r\n\t/deep/ .u-empty{\r\n\t\tmargin-top: 160rpx !important;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=1a700fb6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=1a700fb6&lang=scss&scoped=true&\""],"sourceRoot":""}