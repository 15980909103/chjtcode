(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],[
/*!***************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/main.js ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){n(/*! uni-pages */4);var e=s(n(/*! vue */2)),a=s(n(/*! ./App */5)),o=s(n(/*! @/utils/util.js */14)),r=s(n(/*! uview-ui */21)),i=s(n(/*! @/myMixin.js */47)),u=s(n(/*! @/utils/http.interceptor.js */20));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default.config.productionTip=!1,a.default.mpType="app";var p=n(/*! uview-ui/libs/mixin/mpShare.js */48);e.default.mixin(p),e.default.prototype.$api=o.default;var g=new e.default(l({},a.default));e.default.use(r.default),e.default.use(i.default,g),e.default.use(u.default.install,g);var f=getApp;getApp=function(){var t=f.apply();return t.$api=e.default.prototype.$api,t.$http=e.default.prototype.$http,t},t(g).$mount()}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createApp"])},,,,
/*!***************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/App.vue ***!
  \***************************************************/
/*! no static exports found */,function(t,e,n){"use strict";n.r(e);var a=n(/*! ./App.vue?vue&type=script&lang=js& */6);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n(/*! ./App.vue?vue&type=style&index=0&lang=scss& */11);var r,i,u,s,c=n(/*! ../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */13),l=Object(c["default"])(a["default"],r,i,!1,null,null,null,!1,u,s);l.options.__file="App.vue",e["default"]=l.exports},
/*!****************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/App.vue?vue&type=script&lang=js& ***!
  \****************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var a=n(/*! -!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js& */7),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/999house_v2/front_end/mini2/App.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(/*! ./utils/module/mapLocation.js */8),o="https://act.999house.com",r="ws://act.999house.com/wbsocket",i=null,u={globalData:{map_key:"2YQBZ-V22W3-QWE3V-3G2KA-YWVK5-X4BZR",city_no:"350200",city_name:"厦门",userInfo:null,token:"",sid:"",host:o,h5Host:o+"/9house/pages",host_api:o+"/miniwechat",imgHost:o+"/9house/static",constList:{},menuInfo:"",socketCount:0,whitePages:["pages/index/index","pages/index/location","pages/authorize/index","pages/discover/index","pages/new_house/index","pages/index/find_house","pages/houses/index","pages/houses/info","pages/houses/sand","pages/houses/banner_more","pages/houses/loan","pages/houses/loan_result","pages/new_house/good_house","pages/discover/news_detail","pages/index/search","pages/discover/search","pages/my/index","pages/map/my_map","pages/activitySount/index"]},onLaunch:function(){i=this,Promise.all([(0,a.getUserLocationCity)(i),i.getConst(),i.wxAuthLogin(0)]).then((function(e){i.getCurrentCity({city_no:e[0].city_no,city_name:e[0].city_name}),e[2]&&e[2].info&&(i.globalData.userInfo=e[2].info,i.$api.getUserInfoByCache(e[2].info),i.creatSocket()),t.$emit("myLaunched","ok")})).catch((function(t){console.log(t)})),i.globalData.menuInfo=t.getMenuButtonBoundingClientRect(),t.$once("loginOk",i.creatSocket)},onShow:function(){},onHide:function(){console.log("App Hide")},methods:{connectSocket:function(e){t.connectSocket({url:r+"?token=".concat(this.globalData.token,"&type=index"),success:function(t){console.log(t),e&&e()}})},creatSocket:function(e){var n=this,a=this;this.connectSocket(e),t.onSocketError((function(t){console.log("WebSocket连接打开失败，请检查！"),a.globalData.socketCount<3?(a.globalData.socketCount+=1,a.connectSocket(e)):console.log("WebSocket连接打开失败，请检查！")})),t.$on("socketErr",(function(){t.connectSocket({url:r+"?token=".concat(n.globalData.token,"&type=index")})})),t.onSocketMessage((function(e){console.log("收到服务器内容：",JSON.parse(e.data));var n=JSON.parse(e.data);if(n.type)if("ping"==n.type)t.sendSocketMessage({data:JSON.stringify({type:"ping"})});else if("say"==n.type){var o={id:n.returndata.chat_dialogue_id,type:n.returndata.type};1==n.returndata.type?o.val=n.returndata.msg:o.val=n.returndata.msg_url,t.$emit("some_talk",o);var r={chat_dialogue_id:n.returndata.chat_dialogue_id,msg:n.returndata.msg,msg_type:n.returndata.type,msg_url:n.returndata.msg_url,send_user_id:n.sendUserInfo.id,send_head:a.$api.imgDirtoUrl(n.sendUserInfo.user_avatar),send_name:n.sendUserInfo.user_name,to_name:n.returndata.user.user_name,tu_head:a.$api.imgDirtoUrl(n.returndata.user.user_avatar)};t.$emit("some_talk_detail",r),t.vibrateLong()}else if("systemmsg"==n.type){var i={type:n.returndata.chat_type,id:n.returndata.id,title:n.returndata.title,cover:n.returndata.cover};1==n.returndata.chat_type?i.sub_context=n.returndata.sub_context:4==n.returndata.chat_type&&(i.is_cover=n.returndata.is_cover,i.name=n.returndata.name,i.estate_id=n.returndata.estate_id),t.$emit("system_msg",i)}else"not_read_count"==n.type?0==n.data.total_count?t.removeTabBarBadge({index:2}):t.setTabBarBadge({index:2,text:String(n.data.total_count)}):1!=code&&t.showToast({title:n.msg,icon:"none"})}))},getCurrentCity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?(i.globalData.city_no=t.city_no,i.globalData.city_name=t.city_name,t):{city_no:i.globalData.city_no,city_name:i.globalData.city_name}},getUserLocationCity:function(){return(0,a.getUserLocationCity)(i)},getAllCitys:function(){return(0,a.getAllCitys)(i)},logout:function(){i.globalData.userInfo=null,i.$api.getToken(null),i.$api.getSid(null)},wxAuthLogin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=i.$api.getToken(),n=i.$api.getUserInfoByCache();return 1!=t&&e&&n?new Promise((function(t){t({token:e,info:n})})):i.$api.wxMiniAuthLogin(i)},getConst:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=a.localStore.localGet("u-tag");return new Promise(e&&1!=t?function(t){t(e),i.globalData.constList=e}:function(t){i.$http.post("estates/getConst").then((function(e){1==e.code&&e.data?(t(e.data),a.localStore.localSet("u-tag",e.data,7200),i.globalData.constList=e.data):(t(""),i.globalData.constList={})}))})}}};e.default=u}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},,,
/*!*************************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/App.vue?vue&type=style&index=0&lang=scss& ***!
  \*************************************************************************************/
/*! no static exports found */,function(t,e,n){"use strict";n.r(e);var a=n(/*! -!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss& */12),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/999house_v2/front_end/mini2/App.vue?vue&type=style&index=0&lang=scss& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}],[[0,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/common/main.js.map