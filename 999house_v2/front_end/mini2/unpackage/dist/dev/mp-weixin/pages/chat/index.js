(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/chat/index"],{63:
/*!***********************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/main.js?{"page":"pages%2Fchat%2Findex"} ***!
  \***********************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";(function(t){e(/*! uni-pages */4);i(e(/*! vue */2));var n=i(e(/*! ./pages/chat/index.vue */64));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},64:
/*!****************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/pages/chat/index.vue ***!
  \****************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var i=e(/*! ./index.vue?vue&type=template&id=3fea99d8&scoped=true& */65),o=e(/*! ./index.vue?vue&type=script&lang=js& */70);for(var r in o)"default"!==r&&function(t){e.d(n,t,(function(){return o[t]}))}(r);e(/*! ./index.vue?vue&type=style&index=0&id=3fea99d8&lang=scss&scoped=true& */72);var a,u=e(/*! ../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */13),s=Object(u["default"])(o["default"],i["render"],i["staticRenderFns"],!1,null,"3fea99d8",null,!1,i["components"],a);s.options.__file="pages/chat/index.vue",n["default"]=s.exports},65:
/*!***********************************************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?vue&type=template&id=3fea99d8&scoped=true& ***!
  \***********************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,n,e){"use strict";e.r(n);var i=e(/*! -!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=3fea99d8&scoped=true& */66);e.d(n,"render",(function(){return i["render"]})),e.d(n,"staticRenderFns",(function(){return i["staticRenderFns"]})),e.d(n,"recyclableRender",(function(){return i["recyclableRender"]})),e.d(n,"components",(function(){return i["components"]}))},66:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?vue&type=template&id=3fea99d8&scoped=true& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,n,e){"use strict";var i;e.r(n),e.d(n,"render",(function(){return o})),e.d(n,"staticRenderFns",(function(){return a})),e.d(n,"recyclableRender",(function(){return r})),e.d(n,"components",(function(){return i}));try{i={uTabs:function(){return Promise.all(/*! import() | uview-ui/components/u-tabs/u-tabs */[e.e("common/vendor"),e.e("uview-ui/components/u-tabs/u-tabs")]).then(e.bind(null,/*! @/uview-ui/components/u-tabs/u-tabs.vue */406))},uSearch:function(){return e.e(/*! import() | uview-ui/components/u-search/u-search */"uview-ui/components/u-search/u-search").then(e.bind(null,/*! @/uview-ui/components/u-search/u-search.vue */434))},uBadge:function(){return e.e(/*! import() | uview-ui/components/u-badge/u-badge */"uview-ui/components/u-badge/u-badge").then(e.bind(null,/*! @/uview-ui/components/u-badge/u-badge.vue */441))},uPopup:function(){return e.e(/*! import() | uview-ui/components/u-popup/u-popup */"uview-ui/components/u-popup/u-popup").then(e.bind(null,/*! @/uview-ui/components/u-popup/u-popup.vue */448))},uMask:function(){return e.e(/*! import() | uview-ui/components/u-mask/u-mask */"uview-ui/components/u-mask/u-mask").then(e.bind(null,/*! @/uview-ui/components/u-mask/u-mask.vue */455))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var t=this,n=t.$createElement,i=(t._self._c,t.__get_style([t.menuTop?{paddingTop:t.menuTop.top+"px"}:""])),o=0==t.current&&t.data.length>0?t.__map(t.data,(function(n,e){var i=t.__get_orig(n),o=t.$api.imgDirtoUrl(n.headimgurl),r=t.$u.timeFormat(n.update_time,"mm-dd");return{$orig:i,g0:o,g1:r}})):null,r=0!=t.current?Object.keys(t.informList):null,a=0!=t.current&&r.length>0?t.__map(t.informList,(function(n,i){var o=t.__get_orig(n),r=1==i?e(/*! ../../static/system.png */67):null,a=1!=i&&4==i?e(/*! ../../static/house.png */68):null;return{$orig:o,m0:r,m1:a}})):null,u=0!=t.current?e(/*! ../../static/add.png */69):null,s=t.$api.imgDirtoUrl(t.QRcode);t._isMounted||(t.e0=function(){t.searchShow=!0},t.e1=function(n){t.sub=!0},t.e2=function(n){t.sub=!0},t.e3=function(){t.searchShow=!1},t.e4=function(n){n.stopPropagation(),t.sub=!1}),t.$mp.data=Object.assign({},{$root:{s0:i,l0:o,g2:r,l1:a,m2:u,g3:s}})},r=!1,a=[];o._withStripped=!0},70:
/*!*****************************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var i=e(/*! -!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */71),o=e.n(i);for(var r in i)"default"!==r&&function(t){e.d(n,t,(function(){return i[t]}))}(r);n["default"]=o.a},71:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){e.e(/*! require.ensure | components/chat/search */"components/chat/search").then(function(){return resolve(e(/*! @/components/chat/search */462))}.bind(null,e)).catch(e.oe)},o={data:function(){return{firstLoad:!0,menuTop:0,list:[{name:"微聊",count:0},{name:"通知",count:0}],current:0,searchShow:!1,searchList:[],data:[],QRcode:"",informList:{},isListen:!1,sub:!1}},components:{search:i},watch:{searchShow:function(t){var n=this;t&&this.$http.post("chat/getFriendList").then((function(t){n.searchList=t.data.list}))},sub:function(n){n?t.hideTabBar({animation:!0}):t.showTabBar({animation:!0})}},onLoad:function(n){this.init(),t.$once("loginOk",this.init)},onShow:function(){this.firstLoad?this.firstLoad=!1:this.init()},methods:{init:function(){this.menuTop=getApp().globalData.menuInfo,this.getList()},tabChange:function(t){this.current=t},getList:function(){var t=this;this.$http.post("chat/getDialogueList").then((function(n){var e=n.data.dialoguel;console.table(e),console.log(n),t.data=e,t.QRcode=n.data.gzh_qrcode,t.informList=n.data.system_list,t.initTabCount(),t.listenNewTalk()}))},listenNewTalk:function(){var n=this;this.isListen||(this.isListen=!0,t.$on("some_talk",(function(t){n.data.map((function(e){if(e.id==t.id){e.last_msg=1==t.type?t.val:"[图片]";var i=getCurrentPages();"pages/chat/chat"==i[i.length-1].route&&i[i.length-1].options.id==t.id?e.not_read=0:(e.not_read+=1,n.initTabCount())}}))})),t.$on("system_msg",(function(t){n.informList[t.type].not_read_num=Number(n.informList[t.type].not_read_num)+1,n.informList[t.type].lastMsg.title=t.title,n.initTabCount()})))},goChat:function(t,n,e){var i=this;this.goPage("chat/chat",{id:t,name:n,to_uid:e}),setTimeout((function(){i.data.map((function(n){n.id==t&&(n.not_read=0)})),i.initTabCount()}),500)},initTabCount:function(){var n=0;if(this.data.map((function(t){n+=t.not_read})),this.list[0].count=0==n?0:1,Object.keys(this.informList).length>0){var e=0;for(var i in this.informList)n+=Number(this.informList[i].not_read_num),e+=Number(this.informList[i].not_read_num);this.list[1].count=0==e?0:1}0==n?t.removeTabBarBadge({index:2}):t.setTabBarBadge({index:2,text:String(n)})},searchClose:function(){this.$refs.search.cancel()}}};n.default=o}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},72:
/*!**************************************************************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?vue&type=style&index=0&id=3fea99d8&lang=scss&scoped=true& ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var i=e(/*! -!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3fea99d8&lang=scss&scoped=true& */73),o=e.n(i);for(var r in i)"default"!==r&&function(t){e.d(n,t,(function(){return i[t]}))}(r);n["default"]=o.a},73:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/999house_v2/front_end/mini2/pages/chat/index.vue?vue&type=style&index=0&id=3fea99d8&lang=scss&scoped=true& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,n,e){}},[[63,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/chat/index.js.map