(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/search"],{167:
/*!*************************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/main.js?{"page":"pages%2Findex%2Fsearch"} ***!
  \*************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){i(/*! uni-pages */4);n(i(/*! vue */2));var e=n(i(/*! ./pages/index/search.vue */168));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},168:
/*!******************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/pages/index/search.vue ***!
  \******************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./search.vue?vue&type=template&id=64d2b7fe&scoped=true& */169),s=i(/*! ./search.vue?vue&type=script&lang=js& */171);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i(/*! ./search.vue?vue&type=style&index=0&id=64d2b7fe&lang=scss&scoped=true& */173);var a,r=i(/*! ../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */13),c=Object(r["default"])(s["default"],n["render"],n["staticRenderFns"],!1,null,"64d2b7fe",null,!1,n["components"],a);c.options.__file="pages/index/search.vue",e["default"]=c.exports},169:
/*!*************************************************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/pages/index/search.vue?vue&type=template&id=64d2b7fe&scoped=true& ***!
  \*************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=64d2b7fe&scoped=true& */170);i.d(e,"render",(function(){return n["render"]})),i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),i.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),i.d(e,"components",(function(){return n["components"]}))},170:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/999house_v2/front_end/mini2/pages/index/search.vue?vue&type=template&id=64d2b7fe&scoped=true& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";var n;i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return a})),i.d(e,"recyclableRender",(function(){return o})),i.d(e,"components",(function(){return n}));try{n={uTabs:function(){return Promise.all(/*! import() | uview-ui/components/u-tabs/u-tabs */[i.e("common/vendor"),i.e("uview-ui/components/u-tabs/u-tabs")]).then(i.bind(null,/*! @/uview-ui/components/u-tabs/u-tabs.vue */406))},uSearch:function(){return i.e(/*! import() | uview-ui/components/u-search/u-search */"uview-ui/components/u-search/u-search").then(i.bind(null,/*! @/uview-ui/components/u-search/u-search.vue */434))},uEmpty:function(){return i.e(/*! import() | uview-ui/components/u-empty/u-empty */"uview-ui/components/u-empty/u-empty").then(i.bind(null,/*! @/uview-ui/components/u-empty/u-empty.vue */525))},uLoadmore:function(){return i.e(/*! import() | uview-ui/components/u-loadmore/u-loadmore */"uview-ui/components/u-loadmore/u-loadmore").then(i.bind(null,/*! @/uview-ui/components/u-loadmore/u-loadmore.vue */561))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var s=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.tabList,(function(e,i){var n=t.__get_orig(e),s=t.active==i&&0==e.id?Object.keys(t.resultList):null;return{$orig:n,g0:s}})));t._isMounted||(t.e0=function(e){t.resultDetail=e},t.e1=function(e){t.resultDetail=e}),t.$mp.data=Object.assign({},{$root:{l0:i}})},o=!1,a=[];s._withStripped=!0},171:
/*!*******************************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/pages/index/search.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js& */172),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},172:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/999house_v2/front_end/mini2/pages/index/search.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";function n(t){return r(t)||a(t)||o(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(){i.e(/*! require.ensure | components/common/template_information */"components/common/template_information").then(function(){return resolve(i(/*! @/components/common/template_information */413))}.bind(null,i)).catch(i.oe)},u=function(){i.e(/*! require.ensure | components/common/template_newHouse */"components/common/template_newHouse").then(function(){return resolve(i(/*! @/components/common/template_newHouse */427))}.bind(null,i)).catch(i.oe)},h={data:function(){return{active:0,value:"",searchHistory:{},sortTab:{0:0,2:0,3:0},showResult:!1,showResultBox:!1,tabList:[{id:0,name:"综合",placeholder:"请输入资讯、楼盘、小区名或地址",historyKey:"all-search"},{id:1,name:"资讯",placeholder:"请输入感兴趣的内容",historyKey:"news-search"},{id:3,name:"新房",placeholder:"请输入楼盘、地址",historyKey:"house-search"}],hotTip:[],allSortList:{},sortList:[],infoList:[],resultList:{},resultDetail:[],page:0,maxPage:1,loading:!1,do_type:0,classify:{articles:"资讯",estates:"楼盘",videos:"视频"}}},components:{commonInformation:l,commonNewhouse:u},watch:{active:function(t){this.do_type=this.tabList[t].id}},computed:{loadState:function(){return 0==this.loading?this.page>=this.maxPage?"nomore":"loadmore":"loading"}},onLoad:function(t){this.do_type=t.type?t.type:0,this.searchHistory=this.uHistory("get"),this.initTab(),this.getHouseTip(),this.getHouseRank(),this.getHotNews()},methods:{init:function(){this.resultDetail=[],this.page=0,this.maxPage=1,this.loading=!1},initTab:function(){var t=this,e=this.do_type;e&&this.tabList.map((function(i,n){i.id!=e||(t.active=n)}))},getHouseTip:function(){var t=this;this.$http.post("estates/getSearchWords",{city_no:this.city_no}).then((function(e){var i=[],n=e.data;n.estates&&n.estates.length>0&&n.estates.map((function(t){var e={id:t.bind_id,name:t.name,type:0};i.push(e)})),n.tags&&n.tags.length>0&&n.tags.map((function(t){var e={id:t.bind_id,name:t.name,type:1};i.push(e)})),t.hotTip=i}))},getHouseRank:function(){var t=this;this.$http.post("rank/getEstatesRank",{region_id:this.city_no}).then((function(e){var i=e.data,n=[];for(var s in i)n=[],i[s].map((function(t){var e={id:t.estate_id,name:t.estate,site:t.area+" "+t.business_area,area:t.built_area,price:t.price};n.push(e)})),"popular"==s?t.allSortList[1]=n:t.allSortList[0]=n;t.sortTab[t.active]=0,t.allSortList[0]&&t.allSortList[0].length?t.sortList=t.allSortList[0]:t.allSortList[1]&&t.allSortList[1].length?(t.sortList=t.allSortList[1],t.sortTab[t.active]=1):t.sortList=[]}))},getHotNews:function(){var t=this;this.$http.post("news/getNewsRank",{city_no:this.city_no}).then((function(e){var i=e.data;t.infoList=i}))},goHotNews:function(t){this.goPage("discover/news_detail",{pid:9,cate_id:10,id:t})},goHotNewHouse:function(t){var e=t.detail_cover&&t.logo?1:0;this.goPage("houses/index",{id:t.id,cover:e})},tabChange:function(t){this.active=t,this.value="",this.showResult=this.showResultBox=!1,this.init(),this.allSortList[0].length?this.changeSort(0):this.allSortList[1].length&&this.changeSort(1)},uHistory:function(t){if("get"==t){var e=this.$api.localStore.localGet("u-index-search-history");return e||{}}if(t){var i=this.tabList[this.active].historyKey;-1==Object.keys(this.searchHistory).indexOf(String(i))&&this.$set(this.searchHistory,i,[]),-1!=this.searchHistory[i].indexOf(t)&&this.searchHistory[i].splice(this.searchHistory[i].indexOf(t),1),this.searchHistory[i].unshift(t),this.searchHistory[i].length>11&&(this.searchHistory[i].length=11)}this.$api.localStore.localSet("u-index-search-history",JSON.stringify(this.searchHistory))},onSearch:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(1!=this.loading){var s=this.page+1;if(s>this.maxPage)this.loading=!1;else{this.loading=!0,t?this.uHistory(t):t=this.value;var o=this.tabList[this.active].id;0==o?this.$http.post("search/getTotalSearch",{city_no:this.city_no,name:t}).then((function(t){e.resultList=t.data,e.showResult=e.showResultBox=!0,e.loading=!1})):1==o?this.$http.post("news/ColligateSearchSearch",{city_no:this.city_no,search_value:t,pid:i,page:s}).then((function(i){var s=i.data.list?i.data.list:[],o='\n\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\tclass="template-title-write" \n\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\t\t\t\tmargin-right: 4rpx;\n\t\t\t\t\t\t\t\t\theight: 30rpx;\n\t\t\t\t\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\t\t\t\tpadding: 3rpx 10rpx !important;\n\t\t\t\t\t\t\t\t\tbackground: #FD4243;\n\t\t\t\t\t\t\t\t\tborder-radius: 2rpx;\n\t\t\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t\t\t\tline-height: 30rpx;\n\t\t\t\t\t\t\t\t\tmargin-top: 0 !important;\n\t\t\t\t\t\t\t\t\ttext-align: center;"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t原创\n\t\t\t\t\t\t\t\t</span>';for(var a in s){var r=s[a];r.title&&(r.html_title=r.title.replace(t,'<p style="color:rgb(254, 130, 30);display: inline;">'+t+"</p>")),1==r.write&&(r.html_title=o+r.html_title)}e.resultDetail=[].concat(n(e.resultDetail),n(s)),e.showResult=e.showResultBox=!0,e.page=i.data.current_page,e.maxPage=i.data.last_page,e.loading=!1})):3==o&&this.$http.post("estates/getEstatesList",{city_no:this.city_no,name:t,no_adv:1,page:s,page_size:6}).then((function(t){var i=t.data,n=[];i.list&&i.list.length&&(n=e.$api.createHouseList(i)),e.resultDetail=e.resultDetail.concat(n),e.showResult=e.showResultBox=!0,e.page=i.current_page,e.maxPage=i.last_page,e.loading=!1}))}}},onInput:function(t){this.init(),0==t.length&&this.onClear()},onClear:function(){this.value="",this.init(),this.showResult=this.showResultBox=!1},delHistory:function(){var t=this.tabList[this.active].historyKey;this.$set(this.searchHistory,t,[]),this.uHistory()},tipClick:function(t){if("object"==typeof t){if(0==t.type)return void this.goPage("houses/index",{id:t.id,type:1});t=t.name}this.value=t,this.onSearch(t)},changeSort:function(t){if("number"==typeof t)this.sortTab[this.active]=t,this.sortList=this.allSortList[t];else{var e=this.sortTab[this.active],i=t.target.dataset.id;e!=i&&(this.sortTab[this.active]=i,this.sortList=this.allSortList[i])}},chooseClassify:function(t){var e=this,i=this.value,n="estates"==t?3:1,s=0;this.tabList.map((function(t,i){t.id==n&&(e.active=i)})),"articles"==t?s=9:"videos"==t&&(s=13),this.$nextTick((function(){e.init(),e.value=i,e.onSearch(i,s)}))}},onReachBottom:function(){this.value&&this.onSearch()}};e.default=h},173:
/*!****************************************************************************************************************************!*\
  !*** D:/code/999house_v2/front_end/mini2/pages/index/search.vue?vue&type=style&index=0&id=64d2b7fe&lang=scss&scoped=true& ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=64d2b7fe&lang=scss&scoped=true& */174),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},174:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/999house_v2/front_end/mini2/pages/index/search.vue?vue&type=style&index=0&id=64d2b7fe&lang=scss&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}},[[167,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/search.js.map