(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/common/news"],{"0623":function(t,e,i){"use strict";i.r(e);var n=i("dead"),a=i("1397");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("d0e5");var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=c.exports},"082f":function(t,e,i){},"0fb6":function(t,e,i){"use strict";function n(t){return r(t)||s(t)||o(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(){i.e("components/common/template_information").then(function(){return resolve(i("9940"))}.bind(null,i)).catch(i.oe)},f=function(){i.e("components/common/template_newHouse").then(function(){return resolve(i("6f0c"))}.bind(null,i)).catch(i.oe)},h={data:function(){return{active:0,activeList:[],loading:!0,finished:!1,page:0,maxPage:1,city_no:0,no_data:!1,tabList:[{type:0,name:"资讯"},{type:1,name:"新房",activityList:[]}],startY:0,moveY:0,moreText:"再往上拉查看更多~"}},components:{commonInformation:u,commonNewhouse:f},created:function(){this.city_no=getApp().getCurrentCity().city_no,this.getNewsList()},methods:{tabsChange:function(t){console.log(t),this.page=0,this.maxPage=1,this.loading=!0,this.finished=!1,this.activeList=[],this.no_data=!1,this.active=t,this.onLoads()},onLoads:function(){0==this.active?this.getNewsList():(this.getHouseActivty(),this.getHouseList())},getNewsList:function(){var t=this;if(this.page>=this.maxPage)return this.loading=!1,void(this.finished=!0);var e=this.page,i=1==e||e%3==0?1:0;e++;var a={pid:9,is_index:1,city_no:this.city_no,page:e,is_get_small_video:i};this.$http.post("/news/getNewsList",a).then((function(a){var o=a.data,s=[],r=0;t.maxPage=o.last_page,t.page=o.current_page,1!=e||o.list&&0!=o.list.length||(t.no_data=!0),o.list.map((function(e,i){if(s.push(e),(i+1)%6==3){var n=o.ad_lsit[r];n=t.formatAdv(n),n&&(s.push(o.ad_lsit[r]),r++)}})),1==i&&o.small_voide&&Object.keys(o.small_voide).length>0&&s.push(o.small_voide),t.activeList=[].concat(n(t.activeList),s),t.page>=t.maxPage&&(t.finished=!0),t.loading=!1}))},getHouseActivty:function(){var t=this;this.$http.post("/adv/getAdvByFlag",{falg:"h5_home_estates",city_no:this.city_no,limit:999}).then((function(e){var i=e.data;t.$set(t.tabList[1],"activityList",i)}))},getHouseList:function(){var t=this,e={city_no:this.city_no,recommend:1};this.$http.post("/estates/getEstatesList",e).then((function(e){var i=e.data;t.activeList=t.$api.createHouseList(i,1),t.activeList&&0!=t.activeList.length||(t.no_data=!0)}))},goActive:function(t){!$api.trim(t.href)&&t.info&&(t.href="houses/index.html?id="+t.info.estate_id+"&cover="+t.cover),t.href&&$api.goPage(t.href)},start:function(t){console.log(this.$refs)},move:function(t){if(0!=this.startY){var e=Number(t.changedTouches[0].clientY.toFixed(2));if(e<this.startY){var i=Number((this.startY-e).toFixed(2));i<60&&(this.moveY=-i),Math.abs(i)<40?this.moreText="再往上拉查看更多~":this.moreText="跳转新房~"}}},end:function(t){0!=this.startY&&(Math.abs(this.moveY)>40&&this.$api.goPage("new_house/index.html"),this.startY=0,this.moveY=0,this.moreText="再往上拉查看更多~")},formatAdv:function(t){t&&!t.href&&t.info&&(t.href="houses/index.html?id="+t.info.estate_id+"&cover="+t.cover);var e=[],i=[];if(t&&t.info){t.info;if(e=e.concat($api.getTagsText("estatesnew_sale_status",t.info.sale_status)),e=e.concat($api.getTagsText("house_purpose",t.info.house_purpose)),t.info.feature_tag&&(e=e.concat($api.getTagsText("feature_tag",t.info.feature_tag))),t.info.tip=e,t.info.lab){var n=t.info.lab;for(var a in n){var o=n[a];"discount"==o.type&&(o.type=1,i.push({name:o.title,type:o.type})),"hot"==o.type&&(o.type=0,i.push({name:o.title,type:o.type}))}}t.info.lab=i}return t}}};e.default=h},1397:function(t,e,i){"use strict";i.r(e);var n=i("0fb6"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},d0e5:function(t,e,i){"use strict";var n=i("082f"),a=i.n(n);a.a},dead:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uTabs:function(){return Promise.all([i.e("common/vendor"),i.e("uview-ui/components/u-tabs/u-tabs")]).then(i.bind(null,"f2ba"))}},a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.tabList,(function(e,i){var n=t.__get_orig(e),a=0!=e.type&&t.activeList.length>0&&e.activityList&&e.activityList.length>0?t.__map(e.activityList,(function(e,i){var n=t.__get_orig(e),a=e.img&&e.img[0]?t.$http.imgDirtoUrl(e.img[0]):null;return{$orig:n,g0:a}})):null;return{$orig:n,l0:a}})));t._isMounted||(t.e0=function(e){t.activeList=e},t.e1=function(e){t.activeList=e}),t.$mp.data=Object.assign({},{$root:{l1:i}})},o=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/common/news-create-component',
    {
        'components/common/news-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("0623"))
        })
    },
    [['components/common/news-create-component']]
]);
