(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-address~pages-discover-share~pages-houses-share"],{"09f0":function(e,t,r){"use strict";function n(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)if(r.push(o.value),t&&r.length===t)break}catch(u){a=!0,i=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(a)throw i}}return r}}r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"0d21":function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},1986:function(e,t,r){"use strict";r.r(t);var n=r("d850"),a=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},"2c6f":function(e,t,r){"use strict";r.r(t);var n=r("771c"),a=r("1986");for(var i in a)"default"!==i&&function(e){r.d(t,e,(function(){return a[e]}))}(i);var o,s=r("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"c2b60170",null,!1,n["a"],o);t["default"]=u.exports},3835:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=s(r("0d21")),a=s(r("09f0")),i=s(r("06c5")),o=s(r("3d8c"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return(0,n.default)(e)||(0,a.default)(e,t)||(0,i.default)(e,t)||(0,o.default)()}},"3d8c":function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"3dce":function(e,t,r){"use strict";var n=r("4ea4");r("c975"),r("baa5"),r("acd8"),r("ac1f"),r("466d"),r("1276"),r("2ca0"),r("498a"),Object.defineProperty(t,"__esModule",{value:!0}),t.GD=void 0;var a=n(r("b85c")),i={isGradient:function(e){return!(!e||!e.startsWith("linear")&&!e.startsWith("radial"))},doGradient:function(e,t,r,n){e.startsWith("linear")?d(t,r,e,n):e.startsWith("radial")&&s(t,r,e,n)}};function o(e){var t,r=e.substring(0,e.length-1).split("%,"),n=[],i=[],o=(0,a.default)(r);try{for(o.s();!(t=o.n()).done;){var s=t.value;n.push(s.substring(0,s.lastIndexOf(" ")).trim()),i.push(s.substring(s.lastIndexOf(" "),s.length)/100)}}catch(u){o.e(u)}finally{o.f()}return{colors:n,percents:i}}function s(e,t,r,n){for(var a=o(r.match(/radial-gradient\((.+)\)/)[1]),i=n.createCircularGradient(0,0,e<t?t/2:e/2),s=0;s<a.colors.length;s++)i.addColorStop(a.percents[s],a.colors[s]);n.setFillStyle(i)}function u(e,t,r){var n,a=e.match(/([-]?\d{1,3})deg/),i=a&&a[1]?parseFloat(a[1]):0;switch(i){case 0:n=[0,-r/2,0,r/2];break;case 90:n=[t/2,0,-t/2,0];break;case-90:n=[-t/2,0,t/2,0];break;case 180:n=[0,r/2,0,-r/2];break;case-180:n=[0,-r/2,0,r/2];break;default:var o=0,s=0,u=0,d=0;a[1]>0&&a[1]<90?(o=t/2-(t/2*Math.tan((90-a[1])*Math.PI*2/360)-r/2)*Math.sin(2*(90-a[1])*Math.PI*2/360)/2,d=Math.tan((90-a[1])*Math.PI*2/360)*o,u=-o,s=-d):a[1]>-180&&a[1]<-90?(o=-t/2+(t/2*Math.tan((90-a[1])*Math.PI*2/360)-r/2)*Math.sin(2*(90-a[1])*Math.PI*2/360)/2,d=Math.tan((90-a[1])*Math.PI*2/360)*o,u=-o,s=-d):a[1]>90&&a[1]<180?(o=t/2+(-t/2*Math.tan((90-a[1])*Math.PI*2/360)-r/2)*Math.sin(2*(90-a[1])*Math.PI*2/360)/2,d=Math.tan((90-a[1])*Math.PI*2/360)*o,u=-o,s=-d):(o=-t/2-(-t/2*Math.tan((90-a[1])*Math.PI*2/360)-r/2)*Math.sin(2*(90-a[1])*Math.PI*2/360)/2,d=Math.tan((90-a[1])*Math.PI*2/360)*o,u=-o,s=-d),n=[o,s,u,d];break}return n}function d(e,t,r,n){for(var a=u(r,e,t),i=n.createLinearGradient(a[0],a[1],a[2],a[3]),s=r.match(/linear-gradient\((.+)\)/)[1],d=o(s.substring(s.indexOf(",")+1)),c=0;c<d.colors.length;c++)i.addColorStop(d.percents[c],d.colors[c]);n.setFillStyle(i)}t.GD=i},"4a1f":function(e,t,r){"use strict";(function(e){var n=r("4ea4");r("99af"),r("c19f"),r("ace4"),r("d3b7"),r("acd8"),r("e25e"),r("ac1f"),r("3ca3"),r("1276"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("ddb0"),r("2b3d"),Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=u,t.toPx=d,t.compareVersion=c,t.base64ToPath=f,t.pathToBase64=h,t.getImageInfo=v,t.CHAR_WIDTH_SCALE_MAP=void 0,r("96cf");var a=n(r("1da1")),i=n(r("3835")),o=uni.getSystemInfoSync().windowWidth/750,s={};function u(e){return/^-?\d+(\.\d+)?$/.test(e)}function d(e,t){if("number"===typeof e)return e;if(u(e))return 1*e;if("string"===typeof e){var r=/^-?[0-9]+([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g,n=r.exec(e);if(!e||!n)return 0;var a=n[2];e=parseFloat(e);var i=0;return"rpx"===a?i=Math.floor(e*(o||.5)*1):"px"===a?i=Math.floor(1*e):"%"===a?i=Math.floor(e*d(t)/100):"em"===a&&(i=Math.ceil(e*d(t||14))),i}}function c(e,t){e=e.split("."),t=t.split(".");var r=Math.max(e.length,t.length);while(e.length<r)e.push("0");while(t.length<r)t.push("0");for(var n=0;n<r;n++){var a=parseInt(e[n],10),i=parseInt(t[n],10);if(a>i)return 1;if(a<i)return-1}return 0}var l=[.296,.313,.436,.638,.586,.89,.87,.256,.334,.334,.455,.742,.241,.433,.241,.427,.586,.586,.586,.586,.586,.586,.586,.586,.586,.586,.241,.241,.742,.742,.742,.483,1.031,.704,.627,.669,.762,.55,.531,.744,.773,.294,.396,.635,.513,.977,.813,.815,.612,.815,.653,.577,.573,.747,.676,1.018,.645,.604,.62,.334,.416,.334,.742,.448,.295,.553,.639,.501,.64,.567,.347,.64,.616,.266,.267,.544,.266,.937,.616,.636,.639,.64,.382,.463,.373,.616,.525,.79,.507,.529,.492,.334,.269,.334,.742,.296];function f(e){var t=/data:image\/(\w+);base64,(.*)/.exec(e)||[],r=(0,i.default)(t,3);r[1],r[2];return new Promise((function(t,r){for(var n=e.split(",")[0].split(":")[1].split(";")[0],a=atob(e.split(",")[1]),i=new ArrayBuffer(a.length),o=new Uint8Array(i),s=0;s<a.length;s++)o[s]=a.charCodeAt(s);t(URL.createObjectURL(new Blob([o],{type:n})))}))}function h(t){return new Promise((function(r,n){var a=function(){var a=new Image;a.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(a,0,0);var t=e.toDataURL("image/png");r(t),e.height=e.width=0},a.src=t,a.setAttribute("crossOrigin","Anonymous"),a.src=t,a.onerror=function(r){e.error("urlToBase64 error: ".concat(t),JSON.stringify(r)),n(new Error("urlToBase64 error"))}},i=function(t){var a=new FileReader;a.onload=function(e){r(e.target.result)},a.readAsDataURL(t),a.onerror=function(t){e.error("blobToBase64 error:",JSON.stringify(t)),n(new Error("blobToBase64 error"))}},o="function"===typeof FileReader;if(/^(http|\/\/)/.test(t)&&o){window.URL=window.URL||window.webkitURL;var s=new XMLHttpRequest;s.open("get",t,!0),s.timeout=2e3,s.responseType="blob",s.onload=function(){200==this.status?i(this.response):a()},s.onreadystatechange=function(){0===this.status&&a()},s.send()}else/^blob/.test(t)&&o?i(t):a()}))}function v(t,r){return new Promise(function(){var n=(0,a.default)(regeneratorRuntime.mark((function n(a,i){var o,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=/^data:image\/(\w+);base64/,/^\.|^\/(?=[^\/])/,u=/^(http|\/\/)/,!u.test(t)||!r){n.next=7;break}return n.next=6,h(t);case 6:t=n.sent;case 7:if(!o.test(t)){n.next=17;break}if(s[t]){n.next=16;break}return d=t,n.next=12,f(t);case 12:t=n.sent,s[d]=t,n.next=17;break;case 16:t=s[t];case 17:s[t]&&s[t].errMsg?a(s[t]):uni.getImageInfo({src:t,success:function(e){s[t]=e,a(s[t])},fail:function(r){a({path:t}),e.error("getImageInfo:fail ".concat(t," failed ").concat(JSON.stringify(r)))}});case 18:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}t.CHAR_WIDTH_SCALE_MAP=l}).call(this,r("5a52")["default"])},6533:function(e,t,r){(function(t){r("fb6a"),function(){var r,n,a,i,o,s,u=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],d=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],c=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],l=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],f=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],h=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],v=[],p=[],g=[],b=[],m=[],w=1;function y(e,t){var r;e>t&&(r=e,e=t,t=r),r=t,r*=t,r+=t,r>>=1,r+=e,b[r]=1}function x(e,t){var r;for(g[e+n*t]=1,r=-2;r<2;r++)g[e+r+n*(t-2)]=1,g[e-2+n*(t+r+1)]=1,g[e+2+n*(t+r)]=1,g[e+r+1+n*(t+2)]=1;for(r=0;r<2;r++)y(e-1,t+r),y(e+1,t-r),y(e-r,t-1),y(e+r,t+1)}function k(e){while(e>=255)e-=255,e=(e>>8)+(255&e);return e}var S=[];function P(e,t,r,n){var a,i,o;for(a=0;a<n;a++)v[r+a]=0;for(a=0;a<t;a++){if(o=f[v[e+a]^v[r]],255!=o)for(i=1;i<n;i++)v[r+i-1]=v[r+i]^h[k(o+S[n-i])];else for(i=r;i<r+n;i++)v[i]=v[i+1];v[r+n-1]=255==o?0:h[k(o+S[0])]}}function R(e,t){var r;return e>t&&(r=e,e=t,t=r),r=t,r+=t*t,r>>=1,r+=e,b[r]}function T(e){var t,r,a,i;switch(e){case 0:for(r=0;r<n;r++)for(t=0;t<n;t++)t+r&1||R(t,r)||(g[t+r*n]^=1);break;case 1:for(r=0;r<n;r++)for(t=0;t<n;t++)1&r||R(t,r)||(g[t+r*n]^=1);break;case 2:for(r=0;r<n;r++)for(a=0,t=0;t<n;t++,a++)3==a&&(a=0),a||R(t,r)||(g[t+r*n]^=1);break;case 3:for(i=0,r=0;r<n;r++,i++)for(3==i&&(i=0),a=i,t=0;t<n;t++,a++)3==a&&(a=0),a||R(t,r)||(g[t+r*n]^=1);break;case 4:for(r=0;r<n;r++)for(a=0,i=r>>1&1,t=0;t<n;t++,a++)3==a&&(a=0,i=!i),i||R(t,r)||(g[t+r*n]^=1);break;case 5:for(i=0,r=0;r<n;r++,i++)for(3==i&&(i=0),a=0,t=0;t<n;t++,a++)3==a&&(a=0),(t&r&1)+!(!a|!i)||R(t,r)||(g[t+r*n]^=1);break;case 6:for(i=0,r=0;r<n;r++,i++)for(3==i&&(i=0),a=0,t=0;t<n;t++,a++)3==a&&(a=0),(t&r&1)+(a&&a==i)&1||R(t,r)||(g[t+r*n]^=1);break;case 7:for(i=0,r=0;r<n;r++,i++)for(3==i&&(i=0),a=0,t=0;t<n;t++,a++)3==a&&(a=0),(a&&a==i)+(t+r&1)&1||R(t,r)||(g[t+r*n]^=1);break}}var M=3,I=3,B=40,C=10;function O(e){var t,r=0;for(t=0;t<=e;t++)m[t]>=5&&(r+=M+m[t]-5);for(t=3;t<e-1;t+=2)m[t-2]==m[t+2]&&m[t+2]==m[t-1]&&m[t-1]==m[t+1]&&3*m[t-1]==m[t]&&(0==m[t-3]||t+3>e||3*m[t-3]>=4*m[t]||3*m[t+3]>=4*m[t])&&(r+=B);return r}function L(){var e,t,r,a,i,o=0,s=0;for(t=0;t<n-1;t++)for(e=0;e<n-1;e++)(g[e+n*t]&&g[e+1+n*t]&&g[e+n*(t+1)]&&g[e+1+n*(t+1)]||!(g[e+n*t]||g[e+1+n*t]||g[e+n*(t+1)]||g[e+1+n*(t+1)]))&&(o+=I);for(t=0;t<n;t++){for(m[0]=0,r=a=e=0;e<n;e++)(i=g[e+n*t])==a?m[r]++:m[++r]=1,a=i,s+=a?1:-1;o+=O(r)}s<0&&(s=-s);var u=s,d=0;u+=u<<2,u<<=1;while(u>n*n)u-=n*n,d++;for(o+=d*C,e=0;e<n;e++){for(m[0]=0,r=a=t=0;t<n;t++)(i=g[e+n*t])==a?m[r]++:m[++r]=1,a=i;o+=O(r)}return o}function A(e){var t,m,M,I,B,C,O,A;I=e.length,r=0;do{if(r++,M=4*(w-1)+16*(r-1),a=l[M++],i=l[M++],o=l[M++],s=l[M],M=o*(a+i)+i-3+(r<=9),I<=M)break}while(r<40);for(n=17+4*r,B=o+(o+s)*(a+i)+i,I=0;I<B;I++)p[I]=0;for(v=e.slice(0),I=0;I<n*n;I++)g[I]=0;for(I=0;I<(n*(n+1)+1)/2;I++)b[I]=0;for(I=0;I<3;I++){for(M=0,m=0,1==I&&(M=n-7),2==I&&(m=n-7),g[m+3+n*(M+3)]=1,t=0;t<6;t++)g[m+t+n*M]=1,g[m+n*(M+t+1)]=1,g[m+6+n*(M+t)]=1,g[m+t+1+n*(M+6)]=1;for(t=1;t<5;t++)y(m+t,M+1),y(m+1,M+t+1),y(m+5,M+t),y(m+t+1,M+5);for(t=2;t<4;t++)g[m+t+n*(M+2)]=1,g[m+2+n*(M+t+1)]=1,g[m+4+n*(M+t)]=1,g[m+t+1+n*(M+4)]=1}if(r>1)for(I=u[r],m=n-7;;){t=n-7;while(t>I-3){if(x(t,m),t<I)break;t-=I}if(m<=I+9)break;m-=I,x(6,m),x(m,6)}for(g[8+n*(n-8)]=1,m=0;m<7;m++)y(7,m),y(n-8,m),y(7,m+n-7);for(t=0;t<8;t++)y(t,7),y(t+n-8,7),y(t,n-8);for(t=0;t<9;t++)y(t,8);for(t=0;t<8;t++)y(t+n-8,8),y(8,t);for(m=0;m<7;m++)y(8,m+n-7);for(t=0;t<n-14;t++)1&t?(y(8+t,6),y(6,8+t)):(g[8+t+6*n]=1,g[6+n*(8+t)]=1);if(r>6)for(I=d[r-7],M=17,t=0;t<6;t++)for(m=0;m<3;m++,M--)1&(M>11?r>>M-12:I>>M)?(g[5-t+n*(2-m+n-11)]=1,g[2-m+n-11+n*(5-t)]=1):(y(5-t,2-m+n-11),y(2-m+n-11,5-t));for(m=0;m<n;m++)for(t=0;t<=m;t++)g[t+n*m]&&y(t,m);for(B=v.length,C=0;C<B;C++)p[C]=v.charCodeAt(C);if(v=p.slice(0),t=o*(a+i)+i,B>=t-2&&(B=t-2,r>9&&B--),C=B,r>9){v[C+2]=0,v[C+3]=0;while(C--)I=v[C],v[C+3]|=255&I<<4,v[C+2]=I>>4;v[2]|=255&B<<4,v[1]=B>>4,v[0]=64|B>>12}else{v[C+1]=0,v[C+2]=0;while(C--)I=v[C],v[C+2]|=255&I<<4,v[C+1]=I>>4;v[1]|=255&B<<4,v[0]=64|B>>4}C=B+3-(r<10);while(C<t)v[C++]=236,v[C++]=17;for(S[0]=1,C=0;C<s;C++){for(S[C+1]=1,O=C;O>0;O--)S[O]=S[O]?S[O-1]^h[k(f[S[O]]+C)]:S[O-1];S[0]=h[k(f[S[0]]+C)]}for(C=0;C<=s;C++)S[C]=f[S[C]];for(M=t,m=0,C=0;C<a;C++)P(m,o,M,s),m+=o,M+=s;for(C=0;C<i;C++)P(m,o+1,M,s),m+=o+1,M+=s;for(m=0,C=0;C<o;C++){for(O=0;O<a;O++)p[m++]=v[C+O*o];for(O=0;O<i;O++)p[m++]=v[a*o+C+O*(o+1)]}for(O=0;O<i;O++)p[m++]=v[a*o+C+O*(o+1)];for(C=0;C<s;C++)for(O=0;O<a+i;O++)p[m++]=v[t+C+O*s];for(v=p,t=m=n-1,M=B=1,A=(o+s)*(a+i)+i,C=0;C<A;C++)for(I=v[C],O=0;O<8;O++,I<<=1){128&I&&(g[t+n*m]=1);do{B?t--:(t++,M?0!=m?m--:(t-=2,M=!M,6==t&&(t--,m=9)):m!=n-1?m++:(t-=2,M=!M,6==t&&(t--,m-=8))),B=!B}while(R(t,m))}for(v=g.slice(0),I=0,m=3e4,M=0;M<8;M++){if(T(M),t=L(),t<m&&(m=t,I=M),7==I)break;g=v.slice(0)}for(I!=M&&T(I),m=c[I+(w-1<<3)],M=0;M<8;M++,m>>=1)1&m&&(g[n-1-M+8*n]=1,M<6?g[8+n*M]=1:g[8+n*(M+1)]=1);for(M=0;M<7;M++,m>>=1)1&m&&(g[8+n*(n-7+M)]=1,M?g[6-M+8*n]=1:g[7+8*n]=1);return g}var _=null,W={get ecclevel(){return w},set ecclevel(e){w=e},get size(){return _size},set size(e){_size=e},get canvas(){return _},set canvas(e){_=e},getFrame:function(e){return A(e)},utf16to8:function(e){var t,r,n,a;for(t="",n=e.length,r=0;r<n;r++)a=e.charCodeAt(r),a>=1&&a<=127?t+=e.charAt(r):a>2047?(t+=String.fromCharCode(224|a>>12&15),t+=String.fromCharCode(128|a>>6&63),t+=String.fromCharCode(128|a>>0&63)):(t+=String.fromCharCode(192|a>>6&31),t+=String.fromCharCode(128|a>>0&63));return t},draw:function(e,r,a,i,o){var s=r.ctx,u=a.left,d=a.top,c=a.width,l=a.height,f=i.borderRadius,h=void 0===f?0:f,v=i.backgroundColor,p=i.color,g=void 0===p?"#000000":p,b=i.border,m=b||{},y=m.borderWidth,x=this;if(w=o||w,s){s.save(),y&&(c-=y,l-=y);var k=Math.min(c,l);e=x.utf16to8(e);var S=x.getFrame(e),P=k/n;r.setOpacity(i),r.setTransform(a,i),u=-c/2,d=-l/2,v&&(r.setBackground(v,c,l),r.roundRect(u,d,c,l,h,!0,!1)),s.setFillStyle(g);for(var R=0;R<n;R++)for(var T=0;T<n;T++)S[T*n+R]&&s.fillRect(u+P*R,d+P*T,P,P);s.restore(),r.setBorder(a,i)}else t.warn("No canvas provided to draw QR code in!")}};e.exports={api:W}}()}).call(this,r("5a52")["default"])},"771c":function(e,t,r){"use strict";var n;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.use2dCanvas?r("v-uni-canvas",{style:e.style,attrs:{id:e.canvasId,type:"2d"}}):r("v-uni-canvas",{style:e.style,attrs:{"canvas-id":e.canvasId,id:e.canvasId,width:e.boardWidth*e.dpr,height:e.boardHeight*e.dpr}})},i=[]},"7b26":function(e,t,r){"use strict";function n(e){return Object.assign(e,{setStrokeStyle:function(t){e.strokeStyle=t},setLineWidth:function(t){e.lineWidth=t},setLineCap:function(t){e.lineCap=t},setFillStyle:function(t){e.fillStyle=t},setFontSize:function(t){e.font=String(t)},setGlobalAlpha:function(t){e.globalAlpha=t},setLineJoin:function(t){e.lineJoin=t},setTextAlign:function(t){e.textAlign=t},setMiterLimit:function(t){e.miterLimit=t},setShadow:function(t,r,n,a){e.shadowOffsetX=t,e.shadowOffsetY=r,e.shadowBlur=n,e.shadowColor=a},setTextBaseline:function(t){e.textBaseline=t},createCircularGradient:function(){},draw:function(){}})}Object.defineProperty(t,"__esModule",{value:!0}),t.adaptor=n},ad2f:function(e,t,r){"use strict";(function(e){var n=r("4ea4");r("99af"),r("cb29"),r("caad"),r("c975"),r("a15b"),r("d81d"),r("b64b"),r("d3b7"),r("07ac"),r("acd8"),r("ac1f"),r("2532"),r("466d"),r("5319"),r("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.Draw=void 0;var a=n(r("b85c"));r("96cf");var i=n(r("1da1")),o=n(r("3835")),s=n(r("ade3")),u=n(r("d4ec")),d=n(r("bee2")),c=r("4a1f"),l=r("3dce"),f=n(r("6533")),h=0,v=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;(0,u.default)(this,t),this.ctx=e,this.canvas=r||null,this.root=i,this.use2dCanvas=n,this.isH5PathToBase64=a}return(0,d.default)(t,[{key:"roundRect",value:function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(a<0)){var u=this.ctx;if(u.beginPath(),a)if("number"===typeof a&&[0,1,-1].includes(r-2*a)&&[0,1,-1].includes(n-2*a))u.arc(e+r-a,t+n-a,a,0,2*Math.PI);else{var d,c=a||(d={r:a},(0,s.default)(d,"r",a),(0,s.default)(d,"r",a),(0,s.default)(d,"r",a),d),l=c.borderTopLeftRadius,f=void 0===l?a||0:l,h=c.borderTopRightRadius,v=void 0===h?a||0:h,p=c.borderBottomRightRadius,g=void 0===p?a||0:p,b=c.borderBottomLeftRadius,m=void 0===b?a||0:b;u.beginPath(),u.arc(e+r-g,t+n-g,g,0,.5*Math.PI),u.lineTo(e+m,t+n),u.arc(e+m,t+n-m,m,.5*Math.PI,Math.PI),u.lineTo(e,t+f),u.arc(e+f,t+f,f,Math.PI,1.5*Math.PI),u.lineTo(e+r-v,t),u.arc(e+r-v,t+v,v,1.5*Math.PI,2*Math.PI),u.lineTo(e+r,t+n-g)}else u.rect(e,t,r,n);u.closePath(),o&&u.stroke(),i&&u.fill()}}},{key:"measureText",value:function(e,t){var r=this.ctx;return r.measureText(e).width}},{key:"setFont",value:function(e){var t=e.fontFamily,r=void 0===t?"sans-serif":t,n=e.fontSize,a=void 0===n?14:n,i=e.fontWeight,o=void 0===i?"normal":i,s=e.textStyle,u=void 0===s?"normal":s,d=this.ctx;d.font="".concat(u," ").concat(o," ").concat(a,"px ").concat(r)}},{key:"setTransform",value:function(e,t){var r=t.transform,n=this.ctx,a=r||{},i=a.scaleX,o=void 0===i?1:i,s=a.scaleY,u=void 0===s?1:s,d=a.translateX,c=void 0===d?0:d,l=a.translateY,f=void 0===l?0:l,h=a.rotate,v=void 0===h?0:h,p=a.skewX,g=void 0===p?0:p,b=a.skewY,m=void 0===b?0:b,w=e.left,y=e.top,x=e.width,k=e.height;n.scale(o,u),n.translate(x*(o>0?1:-1)/2+(w+c)/o,k*(u>0?1:-1)/2+(y+f)/u),v&&n.rotate(v*Math.PI/180),(g||m)&&n.transform(1,Math.tan(m*Math.PI/180),Math.tan(g*Math.PI/180),1,0,0)}},{key:"setBackground",value:function(e,t,r){var n=this.ctx;e?l.GD.isGradient(e)?l.GD.doGradient(e,t,r,n):n.setFillStyle(e):n.setFillStyle("transparent")}},{key:"setShadow",value:function(e){var t=e.boxShadow,r=void 0===t?[]:t,n=this.ctx;if(r.length){var a=(0,o.default)(r,4),i=a[0],s=a[1],u=a[2],d=a[3];n.setShadow(i,s,u,d)}}},{key:"setBorder",value:function(e,t){var r,n=this,a=this.ctx,i=e.left,o=e.top,u=e.width,d=e.height,c=t.border,l=t.borderBottom,f=t.borderTop,h=t.borderRight,v=t.borderLeft,p=t.borderRadius,g=(t.opacity,c||{}),b=g.borderWidth,m=void 0===b?0:b,w=g.borderStyle,y=g.borderColor,x=l||{},k=x.borderBottomWidth,S=void 0===k?m:k,P=x.borderBottomStyle,R=void 0===P?w:P,T=x.borderBottomColor,M=void 0===T?y:T,I=f||{},B=I.borderTopWidth,C=void 0===B?m:B,O=I.borderTopStyle,L=void 0===O?w:O,A=I.borderTopColor,_=void 0===A?y:A,W=h||{},j=(W.borderRightWidth,W.borderRightStyle,W.borderRightColor,v||{}),F=j.borderLeftWidth,N=void 0===F?m:F,H=j.borderLeftStyle,z=void 0===H?w:H,J=j.borderLeftColor,D=void 0===J?y:J,$=p||(r={r:p},(0,s.default)(r,"r",p),(0,s.default)(r,"r",p),(0,s.default)(r,"r",p),r),G=$.borderTopLeftRadius,E=void 0===G?p||0:G,U=$.borderTopRightRadius,X=void 0===U?p||0:U,Y=$.borderBottomRightRadius,q=void 0===Y?p||0:Y,Q=$.borderBottomLeftRadius,V=void 0===Q?p||0:Q;if(l||v||f||h||c){var Z=function(e,t,r){"dashed"==t?a.setLineDash([Math.ceil(6*e),Math.ceil(6*e)]):"dotted"==t&&a.setLineDash([e,e]),a.setStrokeStyle(r)},K=function(r,i,o,s,u,d,c,l,f,h,v,p,g,b){a.save(),n.setOpacity(t),n.setTransform(e,t),a.setLineWidth(p),Z(p,g,b),a.beginPath(),a.arc(r,i,c,Math.PI*f,Math.PI*h),a.lineTo(o,s),a.arc(u,d,l,Math.PI*h,Math.PI*v),a.stroke(),a.restore()};c&&(a.save(),this.setOpacity(t),this.setTransform(e,t),a.setLineWidth(m),Z(m,w,y),this.roundRect(-u/2,-d/2,u,d,p,!1,!!y),a.restore()),i=-u/2,o=-d/2,l&&K(i+u-q,o+d-q,i+V,o+d,i+V,o+d-V,q,V,.25,.5,.75,S,R,M),v&&K(i+V,o+d-V,i,o+E,i+E,o+E,V,E,.75,1,1.25,N,z,D),f&&K(i+E,o+E,i+u-X,o,i+u-X,o+X,E,X,1.25,1.5,1.75,C,L,_),h&&K(i+u-X,o+X,i+u,o+d-q,i+u-q,o+d-q,X,q,1.75,2,.25,C,L,_)}}},{key:"setOpacity",value:function(e){var t=e.opacity,r=void 0===t?1:t;this.ctx.setGlobalAlpha(r)}},{key:"drawView",value:function(e,t){var r=this.ctx,n=(e.left,e.top,e.width),a=e.height,i=t||{},o=i.borderRadius,s=void 0===o?0:o,u=(i.border,i.borderTop,i.borderBottom,i.borderLeft,i.borderRight,i.color,i.backgroundColor);i.rotate,i.shadow;r.save(),this.setOpacity(t),this.setTransform(e,t),this.setShadow(t),this.setBackground(u,n,a),this.roundRect(-n/2,-a/2,n,a,s,!0,!1),r.restore(),this.setBorder(e,t)}},{key:"drawImage",value:function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(r){var n,a,o,s=this,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]?u[2]:{},o=!(u.length>3&&void 0!==u[3])||u[3],t.next=5,new Promise(function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(i,u){var d,l,f,h,v,p,g,b,m,w,y,x,k,S,P,R,T;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(d=s.ctx,l=s.canvas,f=a.borderRadius,h=void 0===f?0:f,v=a.mode,p=a.backgroundColor,g=n.left,b=n.top,m=n.width,w=n.height,d.save(),o||(s.setOpacity(a),s.setTransform(n,a),s.setBackground(p,m,w),s.setShadow(a),g=-m/2,b=-w/2,s.roundRect(g,b,m,w,h,!0,!1)),d.clip(),y=function(e){var t=e.width,r=e.height,n=0,a=0,i=m/w,o=t/r;i>=o?r=t/i:(t=r*i,n=Math.round(((e.width||m)-t)/2)),"scaleToFill"!==v&&e.width?d.drawImage(e.src,n,a,t,r,g,b,m,w):d.drawImage(e.src,g,b,m,w)},x=function(t){if(s.use2dCanvas){var r=l.createImage();r.onload=function(){t.src=r,y(t),k()},r.onerror=function(){e.error("createImage fail: ".concat(t)),u(new Error("createImage fail: ".concat(t)))},r.src=t.src}else y(t),k()},k=function(){d.restore(),s.setBorder(n,a),setTimeout((function(){i(!0)}),s.root.sleep)},"string"!==typeof r){t.next=20;break}return t.next=13,(0,c.getImageInfo)(r,s.isH5PathToBase64);case 13:S=t.sent,P=S.path,R=S.width,T=S.height,x({src:P,width:R,height:T}),t.next=21;break;case 20:x(r);case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"drawText",value:function(e,t,r,n){var a=this,i=this.ctx,o=t.left,s=t.top,u=t.width,d=t.height,l=t.offsetLeft,f=void 0===l?0:l,h=r.color,v=void 0===h?"#000000":h,p=r.lineHeight,g=void 0===p?"1.4em":p,b=r.fontSize,m=void 0===b?14:b,w=r.fontWeight,y=r.fontFamily,x=r.textStyle,k=r.textAlign,S=void 0===k?"left":k,P=r.verticalAlign,R=void 0===P?"top":P,T=r.backgroundColor,M=r.maxLines,I=r.textDecoration;if(g=(0,c.toPx)(g,m),e){i.save(),this.setOpacity(r),this.setTransform(t,r),o=-u/2,s=-d/2,i.setTextBaseline(R),this.setFont({fontFamily:y,fontSize:m,fontWeight:w,textStyle:x}),i.setTextAlign(S),T&&(this.setBackground(T,u,d),this.roundRect(o,s,u,d,1,T)),this.setShadow(r),i.setFillStyle(v);var B={};if(n&&n.word.length>0)for(var C=0;C<n.word.length;C++){var O=0,L=void 0;while((L=e.indexOf(n.word[C],O))>-1){B[L]={reset:!0};for(var A=0;A<n.word[C].length;A++)B[L+A]={reset:!0};O=L+1}}switch(S){case"left":break;case"center":o+=.5*u;break;case"right":o+=u;break;default:break}var _=this.measureText(e,m),W=Math.ceil(_/u)*g,j=Math.ceil((d-W)/2);switch(j<0&&(j=0),R){case"top":break;case"middle":s+=m/2;break;case"bottom":s+=m;break;default:break}var F=function(e,t,r){var n=uni.getSystemInfoSync(),a=n.system;switch(/win|mac/.test(a)&&(t+=m/3),R){case"top":break;case"middle":t-=m/2;break;case"bottom":t-=m;break;default:break}var o=e;switch(S){case"left":e=e,o+=r;break;case"center":e-=r/2,o=e+r;break;case"right":o=e,e-=r;break;default:break}I&&(i.setLineWidth(m/13),i.beginPath(),/\bunderline\b/.test(I)&&(t-=.8*J,i.moveTo(e,t),i.lineTo(o,t)),/\boverline\b/.test(I)&&(t+=J,i.moveTo(e,t-g),i.lineTo(o,t-g)),/\bline-through\b/.test(I)&&(i.moveTo(e,t-g/2),i.lineTo(o,t-g/2)),i.closePath(),i.setStrokeStyle(v),i.stroke())},N=function(e,t,r){for(var a=Object.keys(B),o=0;o<a.length;o++){var s=B[a[o]];i.save(),i.setFillStyle(n.color),s.char&&i.fillText(s.char,s.x,s.y),i.restore()}},H=function(e,t){if(e){var r=Math.round(a.measureText(" ",m)),n=Math.round(a.measureText("　",m)),i=Math.round(a.measureText(t,m)),o="",s=1;return i==n?(o="　",s=1):(o=" ",s=Math.ceil(i/r)),new Array(s).fill(o).join("")}return t},z=function(e,t,r,n){B[t].x=r,B[t].y=n,B[t].char=e},J=Math.ceil((g-m)/2);if(_+f<=u&&!e.includes("\n")){o+=f;var D=Object.keys(B),$=e.split("");if(D){for(var G=0;G<D.length;G++){var E=D[G],U=$[E],X=H(B[E],U);$[E]=X,z(U,E,o+this.measureText(e.substring(0,E),m),s+J)}N()}return i.fillText($.join(""),o,s+J),s+=g,F(o,s,_),i.restore(),void this.setBorder(t,r)}for(var Y=e.split(""),q=s,Q=o,V="",Z=0,K=0;K<=Y.length;K++){var ee=Y[K]||"",te="\n"===ee,re=""==ee;ee=te?"":ee;var ne=V+H(B[K],ee),ae=this.measureText(ne,m);if(Z>=M)break;if(0==Z&&(ae+=f,Q+=f),B[K]&&z(ee,K,Q+this.measureText(V,m),s+J),ae>u||te||re){if(Z++,V=re&&ae<=u?ne:V,Z===M&&ae>u){while(this.measureText("".concat(V,"..."),m)>u){if(V.length<=1)break;V=V.substring(0,V.length-1),B[K-1]&&(B[K-1].char="")}V+="..."}if(i.fillText(V,Q,s+J),s+=g,F(Q,s,ae),V=ee,s+g>q+d)break}else V=ne}var ie=Object.keys(B);ie&&N(),i.restore(),this.setBorder(t,r)}}},{key:"findNode",value:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u,d,c,l,f,v,p,g,b,m,w,y,x=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=x.length>1&&void 0!==x[1]?x[1]:{},n=x.length>2&&void 0!==x[2]?x[2]:0,a=x.length>3&&void 0!==x[3]?x[3]:[],i=x.length>4?x[4]:void 0,o=Object.assign({},this.getComputedStyle(t,r,n)),e.next=7,this.getAttributes(t);case 7:if(s=e.sent,u={id:h++,parent:r,computedStyle:o,rules:t.rules,attributes:Object.assign({},s),name:(null===t||void 0===t?void 0:t.type)||"view"},"{}"!==JSON.stringify(r)||t.type?u.layoutBox=Object.assign({left:0,top:0},this.getLayoutBox(u,r,n,a,i)):(d=o.left,c=void 0===d?0:d,l=o.top,f=void 0===l?0:l,v=o.width,p=void 0===v?0:v,g=o.height,b=void 0===g?0:g,u.layoutBox={left:c,top:f,width:p,height:b}),!(null===t||void 0===t?void 0:t.views)){e.next=25;break}m=[],u.children=[],w=0;case 14:if(!(w<t.views.length)){e.next=24;break}return y=t.views[w],e.t0=m,e.next=19,this.findNode(y,u,w,m,t);case 19:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 21:w++,e.next=14;break;case 24:u.children=m;case 25:return e.abrupt("return",u);case 26:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getComputedStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n="{}"!=JSON.stringify(t)||e.type?e.css:e;if(t.computedStyle)for(var a=0,i=Object.keys(t.computedStyle);a<i.length;a++){var u=i[a],d=t.computedStyle[u];["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"].includes(u)&&(r[u]=/em|px$/.test(d)?(0,c.toPx)(d,null===n||void 0===n?void 0:n.fontSize):d)}if(!n)return r;for(var l=function(){var e=h[f],a=n[e];if("views"==e)return"continue";if(["boxShadow","shadow"].includes(e)){var i=a.split(" ").map((function(e){return/^\d/.test(e)?(0,c.toPx)(e):e}));return r.boxShadow=i,"continue"}if(e.includes("border")&&!e.includes("adius")){var u,d,l=e.match(/^border([BTRLa-z]+)?/)[0],v=e.match(/[W|S|C][a-z]+/),p=a.split(" ").map((function(e){return/^\d/.test(e)?(0,c.toPx)(e):e}));if(p.length>1)r[l]=(u={},(0,s.default)(u,l+"Width",p[0]||1),(0,s.default)(u,l+"Style",p[1]||"solid"),(0,s.default)(u,l+"Color",p[2]||"black"),u);else r[l]=(d={},(0,s.default)(d,l+"Width",1),(0,s.default)(d,l+"Style","solid"),(0,s.default)(d,l+"Color","black"),d),r[l][l+v[0]]=p[0];return"continue"}if(["background","backgroundColor"].includes(e))return r["backgroundColor"]=a,"continue";if(e.includes("padding")||e.includes("margin")||e.includes("adius")){var g=e.includes("adius"),b=g?"borderRadius":e.match(/[a-z]+/)[0],m=[0,0,0,0].map((function(e,t){return g?["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"][t]:[b+"Top",b+"Right",b+"Bottom",b+"Left"][t]}));if("padding"===e||"margin"===e||"radius"===e||"borderRadius"===e){var w=(null===a||void 0===a?void 0:a.split(" ").map((function(e){return/^\d/.test(e)&&(0,c.toPx)(e,n["width"])}),[]))||[0],y=g?"borderRadius":e;if(1==w.length)r[y]=w[0];else{var x,k=(0,o.default)(w,4),S=k[0],P=k[1],R=k[2],T=k[3];r[y]=(x={},(0,s.default)(x,m[0],S),(0,s.default)(x,m[1],(0,c.isNumber)(P)?P:S),(0,s.default)(x,m[2],(0,c.isNumber)(R)?R:S),(0,s.default)(x,m[3],(0,c.isNumber)(T)?T:P),x)}}else{var M;if("object"===typeof r[b])r[b][e]=(0,c.toPx)(a,n["width"]);else r[b]=(M={},(0,s.default)(M,m[0],r[b]||0),(0,s.default)(M,m[1],r[b]||0),(0,s.default)(M,m[2],r[b]||0),(0,s.default)(M,m[3],r[b]||0),M),r[b][e]=(0,c.toPx)(a,n["width"])}return"continue"}return e.includes("width")||e.includes("height")?(/%$/.test(a)?r[e]=(0,c.toPx)(a,t.layoutBox[e]):r[e]=/px|rpx$/.test(a)?(0,c.toPx)(a):a,"continue"):e.includes("transform")?(r[e]={},a.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g,(function(t,a,i){var o=i.split(",").map((function(e){return e.replace(/(^\s*)|(\s*$)/g,"")})),s=function(e,t){return e.includes("deg")?1*e:(0,c.toPx)(e,t)};a.includes("matrix")?r[e][a]=o.map((function(e){return 1*e})):a.includes("rotate")?r[e][a]=1*i.match(/\d+/)[0]:/[X, Y]/.test(a)?r[e][a]=/[X]/.test(a)?s(o[0],n["width"]):s(o[0],n["height"]):(r[e][a+"X"]=s(o[0],n["width"]),r[e][a+"Y"]=s(o[1]||o[0],n["height"]))})),"continue"):void(/em$/.test(a)&&!e.includes("lineHeight")?r[e]=Math.ceil(parseFloat(a.replace("em"))*(0,c.toPx)(n["fontSize"]||14)):r[e]=/%|px|rpx$/.test(a)?(0,c.toPx)(a,n["width"]):a)},f=0,h=Object.keys(n);f<h.length;f++)l();return"image"!=e.name&&"image"!=e.type||r.mode||(r.mode="aspectFill",n.width&&"auto"!=n.width||n.height&&"auto"!=n.width||(r.mode="")),r}},{key:"getLayoutBox",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i={},o=e||{},s=o.name,u=o.computedStyle,d=(o.layoutBox,o.attributes);if(!s)return i;var l=this.ctx,f=r.layoutBox||this.root,h=(r.computedStyle,u.verticalAlign,u.left),v=u.top,p=u.width,g=u.height,b=u.fontSize,m=void 0===b?14:b,w=u.lineHeight,y=void 0===w?"1.4em":w,x=u.maxLines,k=u.fontWeight,S=u.fontFamily,P=u.textStyle,R=u.position,T=u.display,M=u.padding||{},I=M.paddingTop,B=void 0===I?0:I,C=M.paddingRight,O=void 0===C?0:C,L=M.paddingBottom,A=void 0===L?0:L,_=M.paddingLeft,W=void 0===_?0:_,j=u.margin||{},F=j.marginTop,N=void 0===F?0:F,H=j.marginRight,z=void 0===H?0:H,J=j.marginBottom,D=void 0===J?0:J,$=j.marginLeft,G=void 0===$?0:$;if("relative"==R&&(h+=f.left,v+=f.top),"text"===s){var E=d.text||"";y=(0,c.toPx)(y,m),l.save(),this.setFont({fontFamily:S,fontSize:m,fontWeight:k,textStyle:P});var U=a[n-1]||{},X=U.layoutBox,Y=U.computedStyle,q=a[n+1]||{},Q=q.layoutBox,V=(q.computedStyle,0==n),Z="block"===T||"block"===(null===Y||void 0===Y?void 0:Y.display),K=V&&!Q||!(null===r||void 0===r?void 0:r.id),ee=V||Z?0:X.offsetRight||0,te=E.split("\n"),re=1,ne="",ae=u.textIndent||0;K?(ne=E,re=Math.max(te.length,Math.ceil(this.measureText(E,m)/((p||f.width)-this.measureText("0",m))))):te.map((function(e,r){re+=r;for(var n=e.split(""),a=0;a<n.length;a++){var i=n[a],o=ne+i,s=t.measureText(o,m);1==re&&(s=s+(Z?0:ee)+ae),s>f.width?(re++,ne=i):ne=o}})),i.offsetLeft=((0,c.isNumber)(h)||Z||K?ae:ee)+W+G;var ie=this.measureText(ne,m),oe=re>1?f.width:ie+i.offsetLeft;i.offsetRight=i.offsetLeft+(p||(Z?f.width:ie))+O+z;var se=function(){return h||f.left},ue=function(){return p||(K?f.width:oe>f.width-i.left||re>1?f.width-i.left:oe)},de=function(){return g||(re>1?(x||re)*y+B+A+N+D:y+B+A+N+D)},ce=function(){var e=v;return e?e+B+N:(e=V?f.top:X.width<f.width?X.top:X.top+X.height-((null===Y||void 0===Y?void 0:Y.lineHeight)||0),e+B+N+(Z&&(null===Y||void 0===Y?void 0:Y.lineHeight)||0))};i.left=se(),i.width=ue(),i.height=de(),i.top=ce(),l.restore()}else if(["view","qrcode"].includes(s))i.left=h||f.left,i.width=(p||(null===f||void 0===f?void 0:f.width))-W-O,i.height=g||0,i.top=v||f.top;else if("image"===s){i.left=h||f.left,i.width=(p||(null===f||void 0===f?void 0:f.width))-W-O;var le=d.width,fe=d.height;i.height=g||i.width*fe/le,i.top=v||f.top}return i}},{key:"getAttributes",value:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r={},!(null===t||void 0===t?void 0:t.url)&&!(null===t||void 0===t?void 0:t.src)){e.next=15;break}return r.src=t.url||(null===t||void 0===t?void 0:t.src),e.next=5,(0,c.getImageInfo)(r.src,this.isH5PathToBase64);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:n=e.t0,a=n.width,i=void 0===a?0:a,o=n.height,s=void 0===o?0:o,u=n.path,r=Object.assign({},r,{width:i,height:s,src:u});case 15:return(null===t||void 0===t?void 0:t.text)&&(r.text=t.text),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"drawBoard",value:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.findNode(t);case 2:return r=e.sent,e.abrupt("return",this.drawNode(r));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"drawNode",value:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){var r,n,i,o,s,u,d,c,l,h,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.layoutBox,n=t.computedStyle,i=t.name,o=t.rules,s=t.attributes,u=s.src,d=s.text,"view"!==i){e.next=6;break}this.drawView(r,n),e.next=12;break;case 6:if("image"!==i||!u){e.next=11;break}return e.next=9,this.drawImage(t.attributes,r,n,!1);case 9:e.next=12;break;case 11:"text"===i?this.drawText(d,r,n,o):"qrcode"===i&&f.default.api.draw(d,this,r,n);case 12:if(t.children){e.next=14;break}return e.abrupt("return");case 14:c=Object.values?Object.values(t.children):Object.keys(t.children).map((function(e){return t.children[e]})),l=(0,a.default)(c),e.prev=16,l.s();case 18:if((h=l.n()).done){e.next=24;break}return v=h.value,e.next=22,this.drawNode(v);case 22:e.next=18;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](16),l.e(e.t0);case 29:return e.prev=29,l.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[16,26,29,32]])})));function t(t){return e.apply(this,arguments)}return t}()}]),t}();t.Draw=v}).call(this,r("5a52")["default"])},b85c:function(e,t,r){"use strict";r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r("06c5"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=(0,n.default)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(u)throw o}}}}},baa5:function(e,t,r){var n=r("23e7"),a=r("e58c");n({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},cb29:function(e,t,r){var n=r("23e7"),a=r("81d5"),i=r("44d2");n({target:"Array",proto:!0},{fill:a}),i("fill")},d850:function(e,t,r){"use strict";(function(e){var n=r("4ea4");r("99af"),r("a9e3"),r("d3b7"),r("ac1f"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var a=n(r("1da1")),i=r("4a1f"),o=r("ad2f"),s=r("7b26"),u={name:"l-painter",props:{board:Object,fileType:{type:String,default:"png"},width:[Number,String],height:[Number,String],pixelRatio:Number,customStyle:String,isRenderImage:Boolean,isBase64ToPath:Boolean,isH5PathToBase64:Boolean,sleep:{type:Number,default:1e3/30},type:{type:String,default:"2d"}},data:function(){return{canvasId:"l-painter_".concat(this._uid),use2dCanvas:!1,draw:null,ctx:null}},computed:{newboard:function(){return this.board&&JSON.parse(JSON.stringify(this.board))},style:function(){return"width:".concat(this.boardWidth,"px; height: ").concat(this.boardHeight,"px; ").concat(this.customStyle)},dpr:function(){return this.pixelRatio||uni.getSystemInfoSync().pixelRatio},boardWidth:function(){var e=this.board||{},t=e.width,r=void 0===t?200:t;return(0,i.toPx)(this.width||r)},boardHeight:function(){var e=this.board||{},t=e.height,r=void 0===t?200:t;return(0,i.toPx)(this.height||r)}},mounted:function(){var e=this;this.$watch("newboard",function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(r,n){var a,i,o,s,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("{}"!==JSON.stringify(r)&&r){t.next=2;break}return t.abrupt("return");case 2:a=r||{},i=a.width,o=a.height,s=n||{},u=s.width,d=s.height,i===u&&o===d||(e.inited=!1),e.render();case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),{deep:!0,immediate:!0})},methods:{render:function(){var t=arguments,r=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var s,u,d,c,l,f,h,v,p,g,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:{},u=t.length>1&&void 0!==t[1]&&t[1],n.next=4,r.getContext();case 4:if(d=n.sent,c=r.use2dCanvas,l=r.boardWidth,f=r.boardHeight,h=r.board,v=r.canvas,p=r.isBase64ToPath,g=r.isH5PathToBase64,b=r.sleep,!c||v){n.next=8;break}return n.abrupt("return",Promise.reject(new Error("render: fail canvas has not been created")));case 8:if(r.boundary||(r.boundary={top:0,left:0,width:l,height:f,sleep:b}),u||d.clearRect(0,0,l,f),r.draw||(r.draw=new o.Draw(d,v,c,g,r.boundary)),!("{}"!=JSON.stringify(s)||h&&"{}"!=JSON.stringify(h))){n.next=14;break}return n.next=14,r.draw.drawBoard("{}"!=JSON.stringify(s)?s:h);case 14:return n.next=16,new Promise((function(e){return r.$nextTick(e)}));case 16:if(c||u){n.next=19;break}return n.next=19,r.canvasDraw(d);case 19:return r.$emit("done"),r.isRenderImage&&!u&&r.canvasToTempFilePath().then(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!/^data:image\/(\w+);base64/.test(t.tempFilePath)||!p){e.next=7;break}return e.next=3,(0,i.base64ToPath)(t.tempFilePath);case 3:n=e.sent,r.$emit("success",n),e.next=8;break;case 7:r.$emit("success",t.tempFilePath);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){r.$emit("fail",t),new Error(JSON.stringify(t)),e.error(JSON.stringify(t))})),n.abrupt("return",Promise.resolve({ctx:d,draw:r.draw}));case 22:case"end":return n.stop()}}),n)})))()},custom:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.render({},!0);case 2:return n=r.sent,a=n.ctx,i=n.draw,a.save(),r.next=8,e(a,i);case 8:return a.restore(),r.abrupt("return",Promise.resolve(!0));case 10:case"end":return r.stop()}}),r)})))()},single:function(){var e=arguments,t=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:{},r.next=3,t.render(n,!0);case 3:return r.abrupt("return",Promise.resolve(!0));case 4:case"end":return r.stop()}}),r)})))()},canvasDraw:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.ctx;return new Promise((function(r){t.draw(e,(function(){r(!0)}))}))},getContext:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var r,n,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.ctx||!e.inited){t.next=2;break}return t.abrupt("return",Promise.resolve(e.ctx));case 2:return r=e.type,e.use2dCanvas,n=e.dpr,a=e.boardWidth,i=e.boardHeight,o=function(){return new Promise((function(t){uni.createSelectorQuery().in(e).select("#"+e.canvasId).boundingClientRect().exec((function(r){if(r){var n=uni.createCanvasContext(e.canvasId,e);e.inited||(e.inited=!0,e.use2dCanvas=!1,e.canvas=r),e.ctx=n,t(n)}}))}))},t.abrupt("return",o());case 8:return t.abrupt("return",new Promise((function(t){uni.createSelectorQuery().in(e).select("#l-painter").node().exec((function(o){var u=o[0].node;if(!u)return e.use2dCanvas=!1,e.getContext();var d=u.getContext(r);e.inited||(e.inited=!0,u.width=a*n,u.height=i*n,e.use2dCanvas=!0,e.canvas=u,d.scale(n,n)),e.ctx=(0,s.adaptor)(d),t((0,s.adaptor)(d))}))})));case 9:case"end":return t.stop()}}),t)})))()},canvasToTempFilePath:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.use2dCanvas,n=this.canvasId;return new Promise((function(a,i){var o=e.boundary||e,s=o.top,u=void 0===s?0:s,d=o.left,c=void 0===d?0:d,l=o.width,f=o.height,h=l*e.dpr,v=f*e.dpr,p={x:c,y:u,width:l,height:f,destWidth:h,destHeight:v,canvasId:n,fileType:t.fileType||e.fileType,quality:t.quality||1,success:a,fail:i};r&&(delete p.canvasId,p.canvas=e.canvas),uni.canvasToTempFilePath(p,e)}))}}};t.default=u}).call(this,r("5a52")["default"])}}]);