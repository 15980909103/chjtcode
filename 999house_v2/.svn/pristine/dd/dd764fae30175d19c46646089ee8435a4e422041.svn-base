(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c993","chunk-6929"],{"+R62":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":r.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{},searchData:{user_nickname:"",mobile:"",real_name:"",band_card:""},page_loading:!1,tableData:[],pagination:{},total:0}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,n.requests("post",{url:"commission/getDistributors",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):n.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t))},getFormatDate:function(t){return n.DataFun.getFormatDate(t,1)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("1VK2"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"分销商昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入分销商昵称"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分销商手机号","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入分销商手机号"},model:{value:t.searchData.mobile,callback:function(e){t.$set(t.searchData,"mobile",e)},expression:"searchData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"开户姓名","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入开户姓名"},model:{value:t.searchData.real_name,callback:function(e){t.$set(t.searchData,"real_name",e)},expression:"searchData.real_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"银行卡号","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:t.searchData.band_card,callback:function(e){t.$set(t.searchData,"band_card",e)},expression:"searchData.band_card"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"分销商昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"分销商手机号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"佣金",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.commission)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"累计佣金",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.total_commission)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"real_name",label:"开户姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"band_card",label:"银行卡",align:"center"}})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1)],1)},[],!1,null,"696fe93c",null);d.options.__file="distributors.vue";e.default=d.exports},"+SU3":function(t,e,a){"use strict";var i=a("X/V2");a.n(i).a},"+Wja":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("I0Yi")),c=a("bC1q"),u=a("kxxL"),d=a("fbG1"),m=a("ygAv"),f={components:{"img-upload":r.default,"estates-new":n.default,"mycity-select":c.default,"img-upload2":d.default},mixins:[u.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{},searchTime:[],searchData:{status:"-1",startdate:"",enddate:"",region_no:""},tableData:[],formData:{status:"0",sort:"0",cover:"",cover_id:[],cover_url:[],start_time:"",end_time:"",forid:""},innerVisible:!1}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{changeCity:function(t){this.clearInner()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;m.requests("post",{url:"LiveRoom/getList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:m.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.default_src=this.$getRealImgUrl(this.formData.cover),this.formData.start_time=this.getFormatDate(this.formData.start_time,2),this.formData.end_time=this.getFormatDate(this.formData.end_time,2)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return m.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,m.requests("post",{url:"LiveRoom/changeSort",data:{id:t,sort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSearch(),m.Message.success("操作成功")):m.Message.error(t.msg)}))},onUploadedImg:function(t){},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.requests("post",{url:"LiveRoom/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,m.requests("post",{url:"LiveRoom/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:m.openPage,changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},p=(a("EVI5"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"直播中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未开始",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已结束",value:"3"}})],1)],1),t._v(" "),a("el-form-item",[a("mycity-select",{attrs:{city_no:t.searchData.region_no,unlimitedCity:!0,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"region_no",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"room_name",label:"直播间名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"封面图",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cover?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.cover)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"绑定的楼盘",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.status?a("el-tag",[t._v("下架")]):t._e(),t._v(" "),"1"==e.row.status?a("el-tag",[t._v("直播中")]):t._e(),t._v(" "),"2"==e.row.status?a("el-tag",[t._v("未开始")]):t._e(),t._v(" "),"3"==e.row.status?a("el-tag",[t._v("已结束")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容"},on:{change:function(a){t.sortChange(e.row.id,a)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",width:"260",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" - "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"860px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"直播间名称",prop:"room_name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.room_name,callback:function(e){t.$set(t.formData,"room_name",e)},expression:"formData.room_name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"跳转地址","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.room_url,callback:function(e){t.$set(t.formData,"room_url",e)},expression:"formData.room_url"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"直播中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未开始",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已结束",value:"3"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"直播间描述",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传封面","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,fileList:t.formData.cover_url,imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"cover_url",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"9fab6056",null);h.options.__file="liveRoom.vue";e.default=h.exports},"+X/e":function(t,e,a){"use strict";var i=a("a0rh");a.n(i).a},"+dNv":function(t,e,a){"use strict";var i=a("/26h");a.n(i).a},"/26h":function(t,e,a){},"/gPe":function(t,e,a){},"06OB":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("I0Yi"),u=a("bC1q"),d=a("fbG1"),m=a("ygAv"),f={components:{"img-upload":r.default,"estates-new":c.default,"mycity-select":u.default,"img-upload2":d.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{},searchTime:[],searchData:{name:"",startdate:"",enddate:"",region_no:""},tableData:[],formData:{name:"",subname:"",desc:"",forid:"",start_time:"",end_time:"",region_no:"",share_title:"",share_desc:"",share_img:"",cover_url:[],cover_id:[]},innerVisible:!1}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{changeCity:function(t){this.clearInner()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;m.requests("post",{url:"Signup/getList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:m.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.start_time=this.getFormatDate(this.formData.start_time,2),this.formData.end_time=this.getFormatDate(this.formData.end_time,2),this.default_src=this.$getRealImgUrl(this.formData.share_img)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.requests("post",{url:"Signup/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,m.requests("post",{url:"Signup/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:m.openPage,changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},p=(a("VqUm"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",[a("mycity-select",{attrs:{city_no:t.searchData.region_no,unlimitedCity:!0,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"region_no",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"看房日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"楼盘名称",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" -- "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"join_num",label:"已报名",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/marketing/signupLog",data:{signup_id:e.row.id,region_no:e.row.region_no,type:1}})}}},[t._v("报名记录")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"副标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.subname,callback:function(e){t.$set(t.formData,"subname",e)},expression:"formData.subname"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"报名须知",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分享标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.share_title,callback:function(e){t.$set(t.formData,"share_title",e)},expression:"formData.share_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分享描述","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.share_desc,callback:function(e){t.$set(t.formData,"share_desc",e)},expression:"formData.share_desc"}})],1)],1)],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传分享海报","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,fileList:t.formData.cover_url,imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"cover_url",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"6a7b441c",null);h.options.__file="signup.vue";e.default=h.exports},"0NnI":function(t,e,a){},"0ZND":function(t,e,a){"use strict";var i=a("xf0b");a.n(i).a},"0aTa":function(t,e,a){"use strict";var i=a("1MSH");a.n(i).a},"16Xz":function(t,e,a){"use strict";var i=a("nn3l");a.n(i).a},"1D5c":function(t,e,a){"use strict";var i=a("WrMv");a.n(i).a},"1MSH":function(t,e,a){},"1VK2":function(t,e,a){"use strict";var i=a("j/y9");a.n(i).a},"1nfx":function(t,e,a){},"2Dvj":function(t,e,a){},"2EWK":function(t,e,a){"use strict";a.r(e);var i=a("Z1g7"),s=a("DqGA"),o=a("q2cZ"),l=a("kxxL"),r=(a("ygAv"),{components:{"img-upload":i.default,"estates-edit":s.default,"wxmemu-edit":o.default},mixins:[l.a],data:function(){return{activeTab:"1"}},methods:{}}),n=(a("mPbi"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本设置",name:"1"}},["1"==t.activeTab?a("estates-edit"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"公众号菜单配置",name:"2"}},["2"==t.activeTab?a("wxmemu-edit"):t._e()],1)],1)],1)},[],!1,null,"62c6afe8",null);c.options.__file="citytoptag.vue";e.default=c.exports},"2I9k":function(t,e,a){"use strict";var i=a("EJo1");a.n(i).a},"2Lqh":function(t,e,a){"use strict";var i=a("hu2A");a.n(i).a},"2dG4":function(t,e,a){"use strict";var i=a("p64b");a.n(i).a},"36QG":function(t,e,a){"use strict";var i=a("qtDJ");a.n(i).a},"3DEm":function(t,e,a){"use strict";var i=a("0NnI");a.n(i).a},"3Osx":function(t,e,a){},"3dpa":function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("ygAv"),l={data:function(){var t=this;return{form:{oldpassword:"",newpassword:"",newpassword2:""},rules:{oldpassword:[{required:!0,message:"请输入密码",trigger:"change"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"change"},{validator:function(e,a,i){(a=o.trim(a)).length<6?i(new Error("请输入至少6位密码")):(""!==t.form.newpassword2&&t.$refs.form.validateField("newpassword2"),i())},trigger:"change"}],newpassword2:[{required:!0,message:"请再次输入新密码",trigger:"change"},{validator:function(e,a,i){""===(a=o.trim(a))?i(new Error("请再次输入密码")):a!==t.form.newpassword?i(new Error("两次输入的新密码不一致")):i()},trigger:"change"}]}}},methods:{onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!"),!1;o.requests("post",{url:"index/editPassword",data:s()({},t.form)}).then(function(t){1==t.code?o.Message.success(t.msg):o.Message.error(t.msg)})})},cancelForm:function(){this.$refs.form.resetFields(),o.openPage({url:-1,hreftype:"navigateBack"})}}},r=(a("y0rP"),a("KHd+")),n=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"repastitle"},[t._v("修改密码")]),t._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"120px",model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"请输入当前密码",prop:"oldpassword"}},[a("el-col",{attrs:{lg:6,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入当前登录密码","auto-complete":"off"},model:{value:t.form.oldpassword,callback:function(e){t.$set(t.form,"oldpassword",e)},expression:"form.oldpassword"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newpassword"}},[a("el-col",{attrs:{lg:6,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请设置6-20位密码","auto-complete":"off"},model:{value:t.form.newpassword,callback:function(e){t.$set(t.form,"newpassword",e)},expression:"form.newpassword"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"newpassword2"}},[a("el-col",{attrs:{lg:6,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请确认新密码","auto-complete":"off"},model:{value:t.form.newpassword2,callback:function(e){t.$set(t.form,"newpassword2",e)},expression:"form.newpassword2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelForm}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"379df5b6",null);n.options.__file="index.vue";e.default=n.exports},"3hJ2":function(t,e,a){"use strict";var i=a("lMsG");a.n(i).a},"3irV":function(t,e,a){"use strict";var i=a("mzYu");a.n(i).a},"4+69":function(t,e,a){},"46P+":function(t,e,a){},"4FSf":function(t,e,a){"use strict";var i=a("B0Jg");a.n(i).a},"4JFi":function(t,e,a){"use strict";a.r(e);var i,s=a("YEIV"),o=a.n(s),l=a("P2sY"),r=a.n(l),n=a("GQeE"),c=a.n(n),u=a("kxxL"),d=a("I0Yi"),m=a("U3Wb"),f=a("ygAv"),p={name:"estates-rank",props:{type:{default:function(){return"1"}}},watch:{},components:{"estates-new":d.default,Article:m.default},mixins:[u.a],computed:{},data:function(){return{region_id:0,code_type:"",dialogVisibleEdit:!1,innerVisible:!1,formLabelWidth:"123px",tableData:[],formData:{rank:"0",deal:"",id:"",name:""},rules:{},searchData:{}}},created:function(){this.$urlData&&(this.$urlData.id&&(this.region_id=this.$urlData.id),this.$urlData.type&&(this.code_type=this.$urlData.type)),this.getList(),this.clearInner()},innerFormData:function(t){this.formData.id=t.id,this.formData.name=t.name},methods:(i={getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;t.type=e.type,t.region_id=e.region_id,f.requests("post",{url:"news/getRank",data:t}).then(function(t){1==t.code?e.tableData=t.data:f.Message.error(t.msg)})},changeInnerShow:function(){this.innerVisible=!0},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.formData.deal="add",c()(t).length>0?(this.formData=r()({},t),this.formData.deal="edit"):this.clearInner(),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.type=a.type,a.formData.region_id=a.region_id,f.requests("post",{url:"news/editRank",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.getList()):a.$message({type:"error",message:t.msg})}))})},del:function(t,e,a){var i=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f.requests("post",{url:"news/editRank",data:{id:t,region_id:i.region_id,rank:e,deal:"del"}}).then(function(t){0!=t.code?(i.tableData.splice(a,1),i.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.msg)})})}},o()(i,"changeInnerShow",function(){this.innerVisible=!0}),o()(i,"innerFormData",function(t){this.formData.id=t.id,this.formData.name=t.name}),o()(i,"clearInner",function(){this.formData.forname="",this.formData.forid=0}),o()(i,"openPage",f.openPage),i)},h=a("KHd+"),g=Object(h.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:"/admin/rank_city"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"rank",label:"排名",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"文章名称",width:"600",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"文章id",width:"200",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.row.rank,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"更改",visible:t.dialogVisibleEdit,width:"860px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排名",prop:"rank","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{label:"排名"},model:{value:t.formData.rank,callback:function(e){t.$set(t.formData,"rank",e)},expression:"formData.rank"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{on:{click:t.changeInnerShow}},[a("el-form-item",{attrs:{label:"请选择文章",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{disabled:!0,placeholder:"请输入内容"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)])],1),t._v(" "),a("Article",{attrs:{show:t.innerVisible,city:t.region_id},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,null,null);g.options.__file="ArticleRank.vue";e.default=g.exports},"4eVf":function(t,e,a){"use strict";var i=a("Bk/z");a.n(i).a},"4kwl":function(t,e,a){"use strict";var i=a("6dBL");a.n(i).a},"5/kW":function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("kxxL"),l=a("ygAv"),r={name:"estates-new-tag",mixins:[o.a],directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},props:{show:{type:Boolean,default:function(){return!1}}},watch:{innerDialogVisible:function(t){this.$emit("update:show",t)},show:function(t){this.innerDialogVisible=t}},data:function(){return{url:"estates/getTagList",innerTableData:[],innerDialogVisible:!1,innerSearch:{name:"",type:"-1",status:"-1"},innerLoads:{loadSign:!1,page:0,last_page:1}}},created:function(){},methods:{openPage:l.openPage,innerSelcetRow:function(t){this.innerDialogVisible=!1,this.$emit("innerFormData",t)},onInnerSerch:function(){this.getList(s()({page:1},this.innerSearch))},innerLoadMore:function(){this.getList(s()({page:this.innerLoads.page+1},this.innerSearch))},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;if(1!=e.innerLoads.loadSign){var a=t.page;t.field="id, name, type, status",1==a&&(e.innerLoads.last_page=1,e.innerTableData=[]),a>e.innerLoads.last_page||(e.innerLoads.loadSign=!0,l.requests("post",{url:e.url,data:t}).then(function(t){if(e.innerLoads.loadSign=!1,1==t.code){for(var a in t.data.list)e.innerTableData.push(t.data.list[a]);e.innerLoads.last_page=t.data.last_page,e.innerLoads.page=t.data.current_page}else l.Message.error(t.msg)}))}}}},n=(a("bYyu"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"55%",title:"新房",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.innerSearch}},[a("el-form-item",[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"标题","prefix-icon":"el-icon-search"},model:{value:t.innerSearch.name,callback:function(e){t.$set(t.innerSearch,"name",e)},expression:"innerSearch.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"状态选择"},model:{value:t.innerSearch.status,callback:function(e){t.$set(t.innerSearch,"status",e)},expression:"innerSearch.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onInnerSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.innerLoadMore,expression:"innerLoadMore"}],ref:"innerTable",staticStyle:{width:"100%"},attrs:{data:t.innerTableData,height:"350px","highlight-current-row":"",border:""},on:{"row-click":t.innerSelcetRow}},[a("el-table-column",{attrs:{property:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"标签名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.type?a("el-tag",[t._v("特色标签")]):t._e(),t._v(" "),"2"==e.row.type?a("el-tag",[t._v("基本属性")]):t._e(),t._v(" "),"3"==e.row.type?a("el-tag",[t._v("卖点标签")]):t._e(),t._v(" "),"4"==e.row.type?a("el-tag",[t._v("楼盘地址")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"status",width:"80",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1==e.row.status?"启用":"禁用")+"\n      ")]}}])})],1)],1)},[],!1,null,"00007faa",null);c.options.__file="EstatesNewTag.vue";e.default=c.exports},"522m":function(t,e,a){},"56eI":function(t,e,a){},"5H1z":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("Z1g7"),c=a("kxxL"),u=a("xIHd"),d=a("fbG1"),m=a("ygAv"),f={components:{"pagination-box":r.default,"img-upload":n.default,"img-upload2":d.default},mixins:[c.a,u.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",searchData:{},tableData:[],formData:{name:"",img:"",cover_url:[],cover_id:[],price:0,price_total:0,price_str:"",built_area:0,rooms:"1",rooms_str:"",sale_status:"1",orientation:"1",house_purpose:[],building_id:""},default_src:"",pagination:{},rules:{name:[{required:!0,message:"请输入楼栋名称",trigger:"change"}]},estate_id:0,building:[]}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),this.$urlData&&this.$urlData.estate_id&&(this.estate_id=this.$urlData.estate_id),t.getList(t.searchData),this.getHousePurpose(),this.getOrientation(),this.getRooms(),this.getEstatesNewSaleStatus(),this.getBuildingList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;t.estate_id=this.estate_id,m.requests("post",{url:"estates/getEstatesnewHouseList",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.requests("post",{url:"estates/delEstateHouse",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.sale_status=String(this.formData.sale_status),this.formData.orientation=String(this.formData.orientation),this.formData.rooms=String(this.formData.rooms),this.default_src=this.$getRealImgUrl(this.formData.img)),this.dialogVisibleEdit=!0,console.log(this.formData)},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.estate_id=a.estate_id,m.requests("post",{url:"estates/editEstatesnewHouse",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},getBuildingList:function(){var t=this,e=t.estate_id;m.requests("post",{url:"estates/getBuildingList",data:{estate_id:e}}).then(function(e){t.building=e.data.list})},onUploadedImg:function(t){},openPage:m.openPage}},p=(a("vld/"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入户型名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"户型名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"户型名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{ref:"img",attrs:{label:"上传户型图","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,fileList:t.formData.cover_url,imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"cover_url",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"sale_status",label:"销售状态","label-width":t.formLabelWidth}},t._l(t.const_estates_new_sale_status,function(e,i){return a("el-radio",{key:i,attrs:{label:String(i)},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v(t._s(e))])}))],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"参考价格-均价",prop:"price","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}}),t._v("元/㎡\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"参考价格-总价",prop:"price_total","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.price_total,callback:function(e){t.$set(t.formData,"price_total",e)},expression:"formData.price_total"}}),t._v("万元/套\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"参考价格",prop:"price_str","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入价格描述"},model:{value:t.formData.price_str,callback:function(e){t.$set(t.formData,"price_str",e)},expression:"formData.price_str"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"built_area",label:"建面","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.built_area,callback:function(e){t.$set(t.formData,"built_area",e)},expression:"formData.built_area"}}),t._v("㎡\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"rooms",label:"几居室","label-width":t.formLabelWidth}},t._l(t.const_rooms,function(e,i){return a("el-radio",{key:i,attrs:{label:String(i)},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}},[t._v(t._s(e))])}))],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"rooms_str",label:"居室描述","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入居室描述"},model:{value:t.formData.rooms_str,callback:function(e){t.$set(t.formData,"rooms_str",e)},expression:"formData.rooms_str"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"orientation",label:"朝向","label-width":t.formLabelWidth}},t._l(t.const_orientation,function(e,i){return a("el-radio",{key:i,attrs:{label:String(i)},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v(t._s(e))])}))],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"house_purpose",label:"建筑用途","label-width":t.formLabelWidth}},[a("el-checkbox-group",{model:{value:t.formData.house_purpose,callback:function(e){t.$set(t.formData,"house_purpose",e)},expression:"formData.house_purpose"}},t._l(t.const_house_purpose,function(e,i){return a("el-checkbox",{key:i,attrs:{label:String(i)}},[t._v(t._s(e))])}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"所属楼栋",prop:"building_id","label-width":t.formLabelWidth}},[a("el-select",{attrs:{clearable:""},model:{value:t.formData.building_id,callback:function(e){t.$set(t.formData,"building_id",e)},expression:"formData.building_id"}},t._l(t.building,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"608a5d8a",null);h.options.__file="estatesnew_house.vue";e.default=h.exports},"5y0Y":function(t,e,a){},"60bY":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=(a("Z1g7"),a("kxxL")),r=a("bC1q"),n=a("xIHd"),c=a("ygAv"),u={components:{"pagination-box":o.default,"mycity-select":r.default},mixins:[l.a,n.a],data:function(){return{formLabelWidth:"123px",page_loading:"",searchData:{status:"-1",sale_status:"-1",recommend:"-1",region_no:"",area:"",business_area:"",street:""},tableData:[],formData:{name:"",status:"0"},pagination:{}}},created:function(){this.getList(this.searchData),this.getEstatesNewSaleStatus()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"estates/getEstatesnewList",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e,a){var i=this;c.requests("post",{url:"estates/setEstatesStatus",data:{id:t,status:e,type:a}}).then(function(t){i.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"estates/delEstates",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},format9999Num:function(t){return t?(t>9999&&(t="9999 +"),t):0},sortChange:function(t,e,a){var i=this;if("NaN"==parseFloat(e).toString())return c.Message.error("排序必须是数字"),!1;i.page_loading||(i.page_loading=!0,c.requests("post",{url:"estates/changeEstateSort",data:{id:t,sort:e}}).then(function(t){i.page_loading=!1,1==t.code?(i.onSearch(),c.Message.success("操作成功")):c.Message.error(t.msg)}))},openPage:c.openPage}},d=(a("1D5c"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("mycity-select",{attrs:{city_no:t.searchData.region_no,area_no:t.searchData.area,business_area_no:t.searchData.business_area,street_no:t.searchData.street,isMy:!0,model:"5",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"region_no",e)},"update:area_no":function(e){t.$set(t.searchData,"area",e)},"update:business_area_no":function(e){t.$set(t.searchData,"business_area",e)},"update:street_no":function(e){t.$set(t.searchData,"street",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"楼盘"}},[a("el-input",{attrs:{placeholder:"请输入楼盘名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"销售状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.sale_status,callback:function(e){t.$set(t.searchData,"sale_status",e)},expression:"searchData.sale_status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),t._l(t.const_estates_new_sale_status,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"草稿",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"推荐"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.recommend,callback:function(e){t.$set(t.searchData,"recommend",e)},expression:"searchData.recommend"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/estates/estatesnew_edit"})}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"楼盘名称",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.name))]),t._v(" "),a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.row.city_str))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"list_cover",label:"封面图",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.list_cover?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.list_cover)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"统计信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("span",[a("div",[t._v("真实统计:")]),t._v(" "),a("div",[t._v("阅读数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_read_real?t.format9999Num(e.row.num_read_real):0))])],1),t._v(" "),a("div",[t._v("收藏数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_collect_real?t.format9999Num(e.row.num_collect_real):0))])],1),t._v(" "),a("div",[t._v("转发数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_share_real?t.format9999Num(e.row.num_share_real):0))])],1)]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("span",[a("div",[t._v("阅读数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_read?t.format9999Num(e.row.num_read):0))])],1),t._v(" "),a("div",[t._v("收藏数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_collect?t.format9999Num(e.row.num_collect):0))])],1),t._v(" "),a("div",[t._v("转发数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_share?t.format9999Num(e.row.num_share):0))])],1)])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sale_status",width:"80",label:"销售状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.const_estates_new_sale_status[e.row.sale_status])+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",width:"85",label:"发布状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[2!=e.row.release_status?a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,"status")}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}}):a("el-tag",{attrs:{type:"info"}},[t._v("草稿")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"recommend",width:"85",label:"推荐",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,"recommend")}},model:{value:e.row.recommend,callback:function(a){t.$set(e.row,"recommend",a)},expression:"scope.row.recommend"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"越大越靠前",size:"medium"},on:{change:function(a){t.sortChange(e.row.id,a)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.openPage({url:"/estates/estatesnew_edit",data:{id:e.row.id}})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"d45b3386",null);m.options.__file="estatesnew.vue";e.default=m.exports},"6aMj":function(t,e,a){},"6dBL":function(t,e,a){},"6vPn":function(t,e,a){},"7Hyz":function(t,e,a){},"7MKQ":function(t,e,a){},"7QZd":function(t,e,a){"use strict";a.r(e);a("ygAv");var i={name:"img-preview",props:{src:{type:String,default:function(){return""}},show:{type:Boolean,default:function(){return!1}},width:{default:function(){return""}}},watch:{pageShow:function(t){this.$emit("update:show",t)},show:function(t){this.pageShow=t}},computed:{styleCss:function(){if("auto"!=this.width)return"width:"+this.width+"px"}},data:function(){return{pageShow:!1}},created:function(){},methods:{getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},s=(a("uV6e"),a("KHd+")),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgpreview-box"},[a("el-dialog",{attrs:{title:"图片预览",visible:t.pageShow},on:{"update:visible":function(e){t.pageShow=e}}},[a("div",{staticClass:"mydialog-cotent",style:t.styleCss},[t._t("header"),t._v(" "),a("div",[a("el-image",{staticClass:"img-preview",attrs:{src:t.getRealImgUrl(t.src),fit:"fill"}})],1),t._v(" "),t._t("footer")],2)])],1)},[],!1,null,"2c03c030",null);o.options.__file="ImgPreview.vue";e.default=o.exports},"7bk9":function(t,e,a){"use strict";var i=a("522m");a.n(i).a},"7uJz":function(t,e,a){"use strict";var i=a("D75D");a.n(i).a},"7wcY":function(t,e,a){},"8+UV":function(t,e,a){},"80C+":function(t,e,a){},"8I+L":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("I0Yi"),u=a("bC1q"),d=a("ygAv"),m={components:{"img-upload":r.default,"estates-new":c.default,"mycity-select":u.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{},searchTime:[],searchData:{room_name:"",status:"-1",startdate:"",enddate:""},tableData:[],formData:{room_name:"",status:"0",start_time:"",end_time:"",forid:"",forname:"",region_no:""},innerVisible:!1}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{changeCity:function(t){this.clearInner()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;d.requests("post",{url:"Coupon/getList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:d.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.start_time=this.getFormatDate(this.formData.start_time,2),this.formData.end_time=this.getFormatDate(this.formData.end_time,2)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"Coupon/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,d.requests("post",{url:"Coupon/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:d.openPage,changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},f=(a("D5Fm"),a("KHd+")),p=Object(f.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入直播间名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.room_name,callback:function(e){t.$set(t.searchData,"room_name",e)},expression:"searchData.room_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"直播中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未开始",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已结束",value:"3"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"楼盘名称",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.status?a("el-tag",[t._v("下架")]):t._e(),t._v(" "),"1"==e.row.status?a("el-tag",[t._v("直播中")]):t._e(),t._v(" "),"2"==e.row.status?a("el-tag",[t._v("未开始")]):t._e(),t._v(" "),"3"==e.row.status?a("el-tag",[t._v("已结束")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" - "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"860px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"折扣信息",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.discount,callback:function(e){t.$set(t.formData,"discount",e)},expression:"formData.discount"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发放数量","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.total_num,callback:function(e){t.$set(t.formData,"total_num",e)},expression:"formData.total_num"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"597d24fc",null);p.options.__file="coupon.vue";e.default=p.exports},"8Icf":function(t,e,a){"use strict";var i=a("XW9K");a.n(i).a},"8PLI":function(t,e,a){},"8RjK":function(t,e,a){"use strict";a.r(e);var i=a("gjeX"),s=a.n(i),o={components:{},name:"download-base64img",props:{fileName:{type:String,default:function(){var t=Date.parse(new Date);return s()("img"+t).toLowerCase()}},content:{}},data:function(){return{}},methods:{doDownLoadImg:function(){var t=this.fileName,e=this.content,a=document.createElement("a"),i=this.base64ToBlob(e);document.createEvent("HTMLEvents").initEvent("click",!0,!0),a.download=t,a.href=URL.createObjectURL(i),a.click()},base64ToBlob:function(t){for(var e=t.split(";base64,"),a=e[0].split(":")[1],i=window.atob(e[1]),s=i.length,o=new Uint8Array(s),l=0;l<s;++l)o[l]=i.charCodeAt(l);return new Blob([o],{type:a})}}},l=(a("aBxp"),a("KHd+")),r=Object(l.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("el-button",{attrs:{type:"primary",size:"small"},on:{click:this.doDownLoadImg}},[this._v("下载")])},[],!1,null,"95436272",null);r.options.__file="DownloadBase64img.vue";e.default=r.exports},"8Ttd":function(t,e,a){},"8Vtz":function(t,e,a){},"8d5W":function(t,e,a){"use strict";var i=a("Y40r");a.n(i).a},"8sCe":function(t,e,a){},"9I0l":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("I0Yi"),u=a("lTwH"),d=a("fbG1"),m=a("glbJ"),f=a("ygAv"),p={components:{"img-upload":r.default,"estates-new":c.default,"live-room":u.default,"img-upload2":d.default,Tinymce:m.default},mixins:[n.a],data:function(){return{activeTabs:"",activeTabsName:"",dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{},searchData:{module:""},banner_tableData:[],tableData:[],formData:{id:"",vote_id:"",module:"",forname:"",forid:"",forsort:0,vote_num:0,share_desc:"",introduction:""},vote_id:"",moduleList:[],innerVisible:{},listData:{}}},watch:{activeTabs:function(t){var e=this;this.$nextTick(function(){e.activeTabsName=e.moduleList[t];var a=[];e.listData[t]&&(a=e.listData[t]),"banner"==t?e.setDataArr({banner_tableData:a}):e.setDataArr({tableData:a})})}},created:function(){var t=this;t.formData.region_no=t.$urlData.region_no,t.setDataArr({vote_id:t.$urlData.vote_id,searchData:{vote_id:t.$urlData.vote_id}}),t.vote_id&&t.formData.region_no?(t.getConstModules(),t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData),t.getBanner()):this.$alert("缺失参数","提示",{confirmButtonText:"确定",callback:function(t){f.openPage({url:"/marketing/vote"})}})},methods:{tabsClick:function(){},getConstModules:function(){var t=this;f.requests("post",{url:"vote/getConstModules"}).then(function(e){t.moduleList=e.data;var a={};for(var i in t.moduleList)0==t.activeTabs&&(t.activeTabs=i),a[i]=!1;t.innerVisible=a})},getBanner:function(){var t=this;f.requests("post",{url:"vote/getBanner",data:{vote_id:t.vote_id}}).then(function(e){var a={};for(var i in e.data.list){var s=e.data.list[i];a.banner||(a.banner=[]),a.banner.push(s)}t.setDataArr({listData:l()(t.listData,a),banner_tableData:a.banner})})},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;f.requests("post",{url:"vote/getDetails",data:t}).then(function(t){var a={};for(var i in t.data.list){var s=t.data.list[i];a[s.module]||(a[s.module]=[]),a[s.module].push(s)}e.setDataArr({listData:l()(e.listData,a)})})},getFormatDate:f.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0?(this.formData=l()({},t),this.formData.module=this.formData.module?String(this.formData.module):this.activeTabs):this.formData.module=this.activeTabs,this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this,i="vote/delDetail",s={id:t.id};"banner"==this.activeTabs&&(i="vote/delBanner",s={forid:t.forid,vote_id:this.vote_id}),this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f.requests("post",{url:i,data:s}).then(function(t){0!=t.code?("banner"==a.activeTabs?a.banner_tableData.splice(e,1):a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:t.msg})})})},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return f.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,f.requests("post",{url:"vote/changeDetailSort",data:{id:t.id,forsort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSearch(),f.Message.success("操作成功")):f.Message.error(t.msg)}))},doSubmit:function(t){var e=this,a=this;a.formData.vote_id=a.vote_id,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;if(!e.page_loading){a.page_loading=!0;var i="vote/editDetail";"banner"==a.activeTabs&&(i="vote/editBanner"),f.requests("post",{url:i,data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,"banner"==a.activeTabs?a.getBanner():a.onSearch()):a.$message({type:"error",message:t.msg})})}})},openPage:f.openPage,changeInnerShow:function(){this.innerVisible[this.activeTabs]=!0,console.log(this.innerVisible)},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},h=(a("8Icf"),a("KHd+")),g=Object(h.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-tabs",{on:{"tab-click":t.tabsClick},model:{value:t.activeTabs,callback:function(e){t.activeTabs=e},expression:"activeTabs"}},t._l(t.moduleList,function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e,name:String(i)}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)})),t._v(" "),"banner"==t.activeTabs?a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.banner_tableData}},[a("el-table-column",{attrs:{prop:"forid",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forhref",label:"跳转地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"module",label:"模块类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(t.moduleList[e.row.module]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"forsort",width:"100",label:"序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容，越大越靠前"},on:{change:function(a){t.sortChange({id:e.row.id},a)}},model:{value:e.row.forsort,callback:function(a){t.$set(e.row,"forsort",a)},expression:"scope.row.forsort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row))}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del({forid:e.row.forid},e.$index)}}},[t._v("删除")])]}}])})],1):a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"forid",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"module",label:"模块类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(t.moduleList[e.row.module]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"forsort",width:"100",label:"序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容，越大越靠前"},on:{change:function(a){t.sortChange({id:e.row.id},a)}},model:{value:e.row.forsort,callback:function(a){t.$set(e.row,"forsort",a)},expression:"scope.row.forsort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"vote_num",width:"180",label:"当前票数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("显示的："+t._s(e.row.vote_num))]),t._v(" "),a("div",[t._v("真实的："+t._s(e.row.real_vote_num))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"module",width:"100",label:"参与人数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.join_num))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/marketing/voteLog",data:{vote_detail_id:e.row.id,region_no:e.row.region_no}})}}},[t._v("投票记录")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row))}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del({id:e.row.id},e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",{ref:"cover_imgs",attrs:{label:"图片","label-width":t.formLabelWidth,prop:"cover_imgs"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",limit:1,"show-file-list":!1,fileList:t.formData.cover_imgs},on:{"update:fileList":function(e){t.$set(t.formData,"cover_imgs",e)}}})],1),t._v(" "),"banner"==t.activeTabs?a("span",[a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.forsort,callback:function(e){t.$set(t.formData,"forsort",e)},expression:"formData.forsort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"跳转地址","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.forhref,callback:function(e){t.$set(t.formData,"forhref",e)},expression:"formData.forhref"}})],1)],1):t._e(),t._v(" "),"estates_new"==t.activeTabs?a("span",[a("el-form-item",{attrs:{label:"选择"+t.activeTabsName,prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择"+t.activeTabsName},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择"+t.activeTabsName},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("重置")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容，越大越靠前"},model:{value:t.formData.forsort,callback:function(e){t.$set(t.formData,"forsort",e)},expression:"formData.forsort"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"当前票数","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容，越大越靠前"},model:{value:t.formData.vote_num,callback:function(e){t.$set(t.formData,"vote_num",e)},expression:"formData.vote_num"}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"当前票数","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容，越大越靠前"},model:{value:t.formData.vote_num,callback:function(e){t.$set(t.formData,"vote_num",e)},expression:"formData.vote_num"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"分享详情","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",placeholder:"分享详情"},model:{value:t.formData.share_desc,callback:function(e){t.$set(t.formData,"share_desc",e)},expression:"formData.share_desc"}})],1)],1)],1),t._v(" "),a("el-col",[a("el-form-item",{attrs:{prop:"introduction",label:"详情介绍",required:"","label-width":"80px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.formData.introduction,callback:function(e){t.$set(t.formData,"introduction",e)},expression:"formData.introduction"}})],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible.estates_new},on:{"update:show":function(e){t.$set(t.innerVisible,"estates_new",e)},innerFormData:t.innerFormData}}),t._v(" "),a("live-room",{attrs:{region_no:t.formData.region_no,show:t.innerVisible.liveRoom},on:{"update:show":function(e){t.$set(t.innerVisible,"liveRoom",e)},innerFormData:t.innerFormData}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"4d0d4b20",null);g.options.__file="voteDetail.vue";e.default=g.exports},"9XHa":function(t,e,a){"use strict";var i=a("v6U7");a.n(i).a},"9s2G":function(t,e,a){"use strict";var i=a("w1Oc");a.n(i).a},"9s5S":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},data:function(){return{searchTime:[],searchData:{goods_id:"",orderno:"",distributor_user_name:"",startdate:"",enddate:"",status:"all",isfirst:"all",dotype:"all"},page_loading:!1,tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"commission/getDistributorOrderList",data:t}).then(function(t){e.page_loading=!1,1==t.code?(console.log(t),e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})):l.Message.error(t.msg)}))},onReset:function(){this.setDataArr({searchData:{goods_id:"",orderno:"",distributor_user_name:"",startdate:"",enddate:"",status:"all",isfirst:"all",dotype:"all"},searchTime:[]}),this.getList()},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getFormatDate:function(t){return l.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},n=(a("yEVJ"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单号","prefix-icon":"el-icon-search"},model:{value:t.searchData.orderno,callback:function(e){t.$set(t.searchData,"orderno",e)},expression:"searchData.orderno"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分销商昵称"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入分销商昵称","prefix-icon":"el-icon-search"},model:{value:t.searchData.distributor_user_name,callback:function(e){t.$set(t.searchData,"distributor_user_name",e)},expression:"searchData.distributor_user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"已支付",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未支付",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.onReset}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"user_nickname",label:"购买者昵称",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.user_nickname)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order_no",label:"订单号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.goods_name)),e.row.attr?a("span",[t._v(" | "+t._s(e.row.attr.attr_name))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isfirst",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.isfirst?a("span",[t._v("开户")]):2==e.row.isfirst?a("span",[t._v("续费")]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"real_price",label:"支付金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isfirst",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("已支付")]):0==e.row.status?a("span",[t._v("待支付")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"下单时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"distributor_user_name",label:"上级分销商",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commission",label:"佣金",align:"center"}})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"2a408898",null);c.options.__file="orderlist.vue";e.default=c.exports},A83z:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("EJiy"),n=a.n(r),c=a("Bi68"),u=a("bC1q"),d=a("fqDt"),m=(a("MCLT"),a("ygAv")),f={components:{"pagination-box":c.default,"mycity-select":u.default,"eport-excel":d.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",searchTime:[],exdata:[],searchData:{signup_id:"",do_export:0,region_no:"",startdate:"",enddate:"",nickname:""},page_loading:!1,tableData:[],pagination:{},caneditSource:!1,total:0,signup_id:"",region_no:""}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.setDataArr({signup_id:this.$urlData.signup_id,region_no:this.$urlData.region_no,type:this.$urlData.type,searchData:{signup_id:this.$urlData.signup_id,region_no:this.$urlData.region_no,type:this.$urlData.type}}),this.signup_id&&this.region_no?this.getList(this.searchData):this.$alert("缺失参数","提示",{confirmButtonText:"确定",callback:function(t){m.openPage({url:"/marketing/signup"})}})},methods:{exportexcelSuccess:function(t){return t.data.list},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.exdata=this.deepClone(t),this.exdata.do_export=1;var e=this;e.page_loading||(e.page_loading=!0,m.requests("post",{url:"signup/getLogList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):m.Message.error(t.msg)}))},deepClone:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){if("object"!==(void 0===t?"undefined":n()(t))&&"function"!=typeof t)return t;var e=this.isArray(t)?[]:{};for(var a in t)t.hasOwnProperty(a)&&(e[a]="object"===n()(t[a])?deepClone(t[a]):t[a]);return e}),isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t),this.form.avatar=this.$getRealImgUrl(this.form.avatar))},openPage:m.openPage,getFormatDate:function(t){return m.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},p=(a("+X/e"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.nickname,callback:function(e){t.$set(t.searchData,"nickname",e)},expression:"searchData.nickname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("eport-excel",{attrs:{setArr:{post:{url:"signup/getLogList",total:"1000",pagesize:"1000",data:t.exdata},filename:"报名记录",tHeader:["ID","楼盘","昵称","手机号码","创建时间"],filterVal:["id","forname","nickname","phone","create_time"],ajaxSuccess:t.exportexcelSuccess}}})],1),t._v(" "),a("el-form-item",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"楼盘",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t.getRealImgUrl(e.row.headimgurl)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n           "+t._s(t.getFormatDate(e.row.create_time))+"\n        ")]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 数据")],1)],1)],1)},[],!1,null,"71b05460",null);h.options.__file="signupLog.vue";e.default=h.exports},AEud:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("I0Yi"),u=a("bC1q"),d=a("fbG1"),m=a("ygAv"),f={components:{"img-upload":r.default,"estates-new":c.default,"mycity-select":u.default,"img-upload2":d.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",rules:{},tableData:[],formData:{agent_id:0,region_no:"",forid:"",forname:""},agent_id:0,searchdata:{},innerVisible:!1}},watch:{},created:function(){var t=this;t.resetData({formData:t.formData},function(){t.$nextTick(function(){})}),this.$urlData&&this.$urlData.agent_id&&(this.agent_id=this.$urlData.agent_id),t.getList(this.searchdata)},methods:{changeCity:function(t){this.clearInner()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;t.agent_id=this.agent_id,m.requests("post",{url:"agent/getEstatesList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:m.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.requests("post",{url:"agent/delEstate",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.agent_id=a.agent_id,m.requests("post",{url:"agent/addEstate",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:m.openPage,changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},p=(a("T3t0"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"楼盘名称",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"25d44d95",null);h.options.__file="AgentEstates.vue";e.default=h.exports},B0Jg:function(t,e,a){},BAVQ:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("fbG1"),u=a("ygAv"),d={components:{"img-upload":r.default,"img-upload2":c.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}]},searchData:{name:"",status:"-1",type:"-1"},tableData:[],formData:{name:"",type:"1",status:"0",cover:"",cover_id:[],cover_url:[]}}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;u.requests("post",{url:"estates/getTagList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.default_src=this.$getRealImgUrl(this.formData.cover)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;u.requests("post",{url:"estates/enableTag",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?u.Message.success("操作成功"):u.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){u.requests("post",{url:"estates/delTag",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,u.requests("post",{url:"estates/editTag",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},m=(a("qSIp"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"特色标签",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"基本属性",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"卖点标签",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"楼盘地址",value:"4"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标签名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"icon图",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cover?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.cover)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.type?a("el-tag",[t._v("特色标签")]):t._e(),t._v(" "),"2"==e.row.type?a("el-tag",[t._v("基本属性")]):t._e(),t._v(" "),"3"==e.row.type?a("el-tag",[t._v("卖点标签")]):t._e(),t._v(" "),"4"==e.row.type?a("el-tag",[t._v("楼盘地址")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"特色标签",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传封面","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,fileList:t.formData.cover_url,imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"cover_url",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"19e2773e",null);f.options.__file="tag.vue";e.default=f.exports},BQFP:function(t,e,a){},Bf2p:function(t,e,a){},Bi68:function(t,e,a){"use strict";a.r(e);var i={name:"pagination-box",props:["pagination"],data:function(){return{}},methods:{pageChange:function(t){window.scrollTo(0,0),this.$emit("pageChange",t)}}},s=(a("iIDF"),a("KHd+")),o=Object(s.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pagination-box"},[e("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper","page-size":parseInt(this.pagination.pagesize),"current-page":parseInt(this.pagination.page),"page-count":parseInt(this.pagination.pagecount)},on:{"current-change":this.pageChange}})],1)},[],!1,null,null,null);o.options.__file="pagination.vue";e.default=o.exports},"Bk/z":function(t,e,a){},BpQL:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},data:function(){return{searchTime:[],searchData:{goods_id:"",order_no:"",distributor_user_name:"",startdate:"",enddate:"",status:"all"},page_loading:!1,tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"commission/userWithdrawal",data:t}).then(function(t){e.page_loading=!1,1==t.code?(console.log(t),e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})):l.Message.error(t.msg)}))},onReset:function(){this.setDataArr({searchData:{goods_id:"",order_no:"",distributor_user_name:"",startdate:"",enddate:"",status:"all"},searchTime:[]}),this.getList()},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getFormatDate:function(t){return l.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},n=(a("lpj6"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单号","prefix-icon":"el-icon-search"},model:{value:t.searchData.order_no,callback:function(e){t.$set(t.searchData,"order_no",e)},expression:"searchData.order_no"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分销商昵称"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入分销商昵称","prefix-icon":"el-icon-search"},model:{value:t.searchData.distributor_user_name,callback:function(e){t.$set(t.searchData,"distributor_user_name",e)},expression:"searchData.distributor_user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"申请中",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"打款中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"打款成功",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"打款失败",value:"3"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.onReset}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"user_nickname",label:"分销商昵称",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.user_nickname)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order_no",label:"订单号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"申请时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"提现金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"real_name",label:"开户姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"band_card",label:"银行卡号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("span",[t._v("申请中")]):1==e.row.status?a("span",[t._v("打款中")]):2==e.row.status?a("span",[t._v("打款成功")]):3==e.row.status?a("span",[t._v("打款失败")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"reason",label:"原因",align:"center"}})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"30f62803",null);c.options.__file="userWithdrawal.vue";e.default=c.exports},CErc:function(t,e,a){},CinJ:function(t,e,a){"use strict";var i=a("56eI");a.n(i).a},D2pS:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("ygAv"),u={components:{"img-upload":r.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}]},searchData:{status:"-1",type:"-1"},tableData:[],formData:{name:"",type:"1",status:"0"}}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"build/getTagList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;c.requests("post",{url:"build/enableTag",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"build/delTag",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"build/editTag",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("3hJ2"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"特色标签",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"基本属性",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"卖点标签",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"楼盘地址",value:"4"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标签名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.type?a("el-tag",[t._v("特色标签")]):t._e(),t._v(" "),"2"==e.row.type?a("el-tag",[t._v("基本属性")]):t._e(),t._v(" "),"3"==e.row.type?a("el-tag",[t._v("卖点标签")]):t._e(),t._v(" "),"4"==e.row.type?a("el-tag",[t._v("楼盘地址")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"特色标签",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"基本属性",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"卖点标签",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"楼盘地址",value:"4"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"1e42b7b7",null);m.options.__file="new.vue";e.default=m.exports},D5Fm:function(t,e,a){"use strict";var i=a("7wcY");a.n(i).a},D5Ue:function(t,e,a){},D75D:function(t,e,a){},DElK:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},data:function(){return{searchTime:[],searchData:{selectKey:"mobile",selectVal:"",startdate:"",enddate:""},page_loading:!1,tableData:[],pagination:{}}},computed:{select_placeholder:function(){return"mobile"==this.searchData.selectKey?"请输入手机号":"contact_name"==this.searchData.selectKey?"请输入姓名":"goods_name"==this.searchData.selectKey?"请输入商品名称":void 0}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"exchange/log",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):l.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(t){t.id},getFormatDate:function(t){return t?l.DataFun.getFormatDate(t,2):""},openPage:l.openPage}},n=(a("iiu4"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"380px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"申请的开始日期","end-placeholder":"申请的结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{contact_name:"",label:"用户信息",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"left"}},[a("div",[t._v("姓名:"+t._s(e.row.contact_name))]),t._v(" "),a("div",[t._v("手机号:"+t._s(e.row.mobile))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getFormatDate(e.row.create_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"receive_time",label:"领取时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getFormatDate(e.row.receive_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,contact_name:e.row.contact_name,mobile:e.row.mobile})}}},[t._v("查看")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"56ea78e7",null);c.options.__file="log.vue";e.default=c.exports},DF6x:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("ygAv"),u={components:{"img-upload":r.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}]},searchData:{status:"-1",type:"-1"},tableData:[],formData:{name:"",type:"1",status:"0"}}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"build/getTagList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;c.requests("post",{url:"build/enableTag",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"build/delTag",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"build/editTag",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("S/mv"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"特色标签",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"基本属性",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"卖点标签",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"楼盘地址",value:"4"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标签名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.type?a("el-tag",[t._v("特色标签")]):t._e(),t._v(" "),"2"==e.row.type?a("el-tag",[t._v("基本属性")]):t._e(),t._v(" "),"3"==e.row.type?a("el-tag",[t._v("卖点标签")]):t._e(),t._v(" "),"4"==e.row.type?a("el-tag",[t._v("楼盘地址")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"特色标签",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"基本属性",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"卖点标签",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"楼盘地址",value:"4"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"76e2a47d",null);m.options.__file="tag.vue";e.default=m.exports},DM2x:function(t,e,a){},DTsy:function(t,e,a){},DXEL:function(t,e,a){"use strict";var i=a("7Hyz");a.n(i).a},DqGA:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("Z1g7"),l=a("glbJ"),r=a("ygAv"),n={components:{Tinymce:l.default,"img-upload":o.default},data:function(){return{activeName:"1",default_src1:"",dialogFormVisible_reply_setting:!1,form:{wxh5:{appid:"",secret:"",token:""},seo:{site_title:"",page_title:"",page_keywords:"",page_desc:""},reply_setting:{follow_type:1,lookup_text:"",follow_content:"",lookup_content:"",Title:"",description:"",PicUrl:"",Url:""}},subway:[],cityItems:[""],totalItems:[""],areaItems:[""]}},created:function(){console.log(this.$urlData.region_no),this.region_no=this.$urlData.region_no,this.getInfo()},methods:{onAdd:function(){this.cityItems.push("")},onDelete:function(t){this.cityItems.splice(t,1)},onTotalAdd:function(){this.totalItems.push("")},onTotalDelete:function(t){this.totalItems.splice(t,1)},onAreaAdd:function(){this.areaItems.push("")},onAreaDelete:function(t){this.areaItems.splice(t,1)},onUploadedImg:function(t,e){var a=t.res.info;this.form[e]=a.url},getInfo:function(){var t=this;r.requests("post",{url:"city/siteInfo",data:{key:["wxh5","seo","average_area","average_price","total_price","reply_setting","subway"],region_no:this.region_no}}).then(function(e){if(1==e.code){var a={};for(var i in 0==e.data.list.length&&(e.data.list=[{key:"wxh5"},{key:"seo"},{key:"reply_setting"}]),e.data.list){var s=e.data.list[i];"average_price"==s.key&&(t.cityItems=s.val),"total_price"==s.key&&(t.totalItems=s.val),"average_area"==s.key&&(t.areaItems=s.val),"subway"==s.key&&(t.subway=s.val),s.val||("wxh5"==s.key&&(s.val={appid:"",secret:"",token:""}),"seo"==s.key&&(s.val={site_title:"",page_title:"",page_keywords:"",page_desc:""}),"reply_setting"==s.key&&(s.val={follow_type:1,lookup_text:"",follow_content:"",lookup_content:"",Title:"",description:"",PicUrl:"",Url:""})),a[s.key]=s.val}"reply_setting"==s.key&&(a.reply_setting.follow_type=String(s.val.follow_type)),console.log(a),console.log(a.reply_setting.follow_type),t.setDataArr({form:a})}else r.Message.error(e.msg)})},onSubmit:function(){var t=this;r.requests("post",{url:"city/siteEdit",data:{key:s()({},t.form),region_no:t.region_no,cityItems:t.cityItems,areaItems:t.areaItems,totalItems:t.totalItems,subway:t.subway}}).then(function(e){1==e.code?(t.getInfo(),r.Message.success(e.msg)):r.Message.error(e.msg)})},cancelForm:function(){this.$refs.form.resetFields(),r.openPage({url:-1,hreftype:"navigateBack"})}}},c=(a("W8y+"),a("KHd+")),u=Object(c.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("div",{staticClass:"mapeditor-title"},[t._v("基础设置")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号appid","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.appid,callback:function(e){t.$set(t.form.wxh5,"appid",e)},expression:"form.wxh5.appid"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号密钥","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.secret,callback:function(e){t.$set(t.form.wxh5,"secret",e)},expression:"form.wxh5.secret"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号token","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.token,callback:function(e){t.$set(t.form.wxh5,"token",e)},expression:"form.wxh5.token"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("自动回复")]),t._v(" "),a("el-form-item",{attrs:{label:"消息方式","label-width":"110px"}},[a("el-radio",{attrs:{label:"2"},model:{value:t.form.reply_setting.follow_type,callback:function(e){t.$set(t.form.reply_setting,"follow_type",e)},expression:"form.reply_setting.follow_type"}},[t._v("图片")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.form.reply_setting.follow_type,callback:function(e){t.$set(t.form.reply_setting,"follow_type",e)},expression:"form.reply_setting.follow_type"}},[t._v("文字")])],1),t._v(" "),a("el-form-item",{attrs:{label:"聊天查找关键词","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.lookup_text,callback:function(e){t.$set(t.form.reply_setting,"lookup_text",e)},expression:"form.reply_setting.lookup_text"}})],1),t._v(" "),1==t.form.reply_setting.follow_type?a("div",[a("el-form-item",{attrs:{label:"关注时回复内容","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.follow_content,callback:function(e){t.$set(t.form.reply_setting,"follow_content",e)},expression:"form.reply_setting.follow_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"聊天回复关键词","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.lookup_content,callback:function(e){t.$set(t.form.reply_setting,"lookup_content",e)},expression:"form.reply_setting.lookup_content"}})],1)],1):t._e(),t._v(" "),2==t.form.reply_setting.follow_type?a("div",[a("el-form-item",{attrs:{label:"图文标题","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.Title,callback:function(e){t.$set(t.form.reply_setting,"Title",e)},expression:"form.reply_setting.Title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"图文描述","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.description,callback:function(e){t.$set(t.form.reply_setting,"description",e)},expression:"form.reply_setting.description"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"img",label:"图片","label-width":"90px"}},[a("span",{staticStyle:{color:"red"}},[t._v("(建议图片规格360*200)")]),t._v(" "),a("img-upload",{ref:"imgUpload",attrs:{default_src:t.form.reply_setting.PicUrl,url:"Upload/imgUpload",uploadedImg:t.onUploadedImg,thumb:{isthumb:1,width:480,height:480}},on:{"update:default_src":function(e){t.$set(t.form.reply_setting,"PicUrl",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"跳转url","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.Url,callback:function(e){t.$set(t.form.reply_setting,"Url",e)},expression:"form.reply_setting.Url"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("seo设置")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_title",label:"网站名称","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.seo.site_title,callback:function(e){t.$set(t.form.seo,"site_title",e)},expression:"form.seo.site_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_title",label:"页面标题","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.seo.page_title,callback:function(e){t.$set(t.form.seo,"page_title",e)},expression:"form.seo.page_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_keywords",label:"页面关键字","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.seo.page_keywords,callback:function(e){t.$set(t.form.seo,"page_keywords",e)},expression:"form.seo.page_keywords"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_desc",label:"页面描述","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.seo.page_desc,callback:function(e){t.$set(t.form.seo,"page_desc",e)},expression:"form.seo.page_desc"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("城市均价")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("添加")])],1),t._v(" "),t._l(t.cityItems,function(e,i){return a("el-row",{key:"cityItems"+i,staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_desc",label:"城市均价","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:t.cityItems[i],callback:function(e){t.$set(t.cityItems,i,e)},expression:"cityItems[i]"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:5,md:18,xs:24}},[a("el-form-item",{attrs:{"label-width":"120px"}},[a("el-button",{on:{click:function(e){t.onDelete(i)}}},[t._v("删除")])],1)],1)],1)}),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("城市总价")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onTotalAdd}},[t._v("添加")])],1),t._v(" "),t._l(t.totalItems,function(e,i){return a("el-row",{key:"totalItems"+i,staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_desc",label:"城市总价","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:t.totalItems[i],callback:function(e){t.$set(t.totalItems,i,e)},expression:"totalItems[i]"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:5,md:18,xs:24}},[a("el-form-item",{attrs:{"label-width":"120px"}},[a("el-button",{on:{click:function(e){t.onTotalDelete(i)}}},[t._v("删除")])],1)],1)],1)}),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("城市建筑面积")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onAreaAdd}},[t._v("添加")])],1),t._v(" "),t._l(t.areaItems,function(e,i){return a("el-row",{key:"areaItems"+i,staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_desc",label:"城市面积","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:t.areaItems[i],callback:function(e){t.$set(t.areaItems,i,e)},expression:"areaItems[i]"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:5,md:18,xs:24}},[a("el-form-item",{attrs:{"label-width":"120px"}},[a("el-button",{on:{click:function(e){t.onAreaDelete(i)}}},[t._v("删除")])],1)],1)],1)}),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("地铁")]),t._v(" "),a("el-row",[a("el-form-item",{attrs:{prop:"subway",label:"地铁线路","label-width":"110px"}},[a("el-checkbox-group",{model:{value:t.subway,callback:function(e){t.subway=e},expression:"subway"}},[a("el-checkbox",{attrs:{label:"1"}},[t._v("地铁1号线")]),t._v(" "),a("el-checkbox",{attrs:{label:"2"}},[t._v("地铁2号线")]),t._v(" "),a("el-checkbox",{attrs:{label:"3"}},[t._v("地铁3号线")]),t._v(" "),a("el-checkbox",{attrs:{label:"4"}},[t._v("地铁4号线")]),t._v(" "),a("el-checkbox",{attrs:{label:"5"}},[t._v("地铁5号线")]),t._v(" "),a("el-checkbox",{attrs:{label:"6"}},[t._v("地铁6号线")]),t._v(" "),a("el-checkbox",{attrs:{label:"7"}},[t._v("地铁7号线")]),t._v(" "),a("el-checkbox",{attrs:{label:"8"}},[t._v("地铁8号线")])],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{"label-width":"136px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelForm}},[t._v("取 消")])],1)],2)],1)},[],!1,null,"76b61ecc",null);u.options.__file="cityset.vue";e.default=u.exports},EJo1:function(t,e,a){},ESSz:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":r.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{},searchData:{sort:"id",customer_name:"",customer_mobile:""},page_loading:!1,tableData:[],pagination:{},total:0}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,n.requests("post",{url:"user/getBookList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):n.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t))},getFormatDate:function(t){return n.DataFun.getFormatDate(t,1)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("PeaI"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"客户名字","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入客户名字"},model:{value:t.searchData.customer_name,callback:function(e){t.$set(t.searchData,"customer_name",e)},expression:"searchData.customer_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户手机号","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入客户手机号"},model:{value:t.searchData.customer_mobile,callback:function(e){t.$set(t.searchData,"customer_mobile",e)},expression:"searchData.customer_mobile"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_name",label:"客户信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.customer_name)+" | "+t._s(e.row.customer_mobile)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"归属人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"table_no",label:"桌号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"花",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.flower_price)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"酒",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.wine_price)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_date",label:"创建时间",align:"center"}})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1)],1)},[],!1,null,"df5e438c",null);d.options.__file="bookList.vue";e.default=d.exports},EVI5:function(t,e,a){"use strict";var i=a("r8J9");a.n(i).a},FGWI:function(t,e,a){"use strict";var i=a("uhrR");a.n(i).a},FedZ:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),s={name:"voice-upload",props:{url:{type:String,default:function(){return""}},upload_type:{type:String,default:function(){return""}},fileList:{type:Array,default:function(){return[]}},uploadedVoice:{type:Function},uploadedVoiceForNew:{type:Function},limitM:{type:Number,default:function(){return 5}}},data:function(){return{uploadLoading:!1,open_voicesrc:"",isPlaying:!1}},created:function(){},methods:{resetData:function(){this.setDataArr({uploadLoading:!1,open_voicesrc:"",isPlaying:!1}),this.$emit("update:fileList",[])},handleExceed:function(t,e){this.$message.warning("只允许上传一个文件,若要更改请先移除")},beforeUploadVoice:function(t){var e="audio/mp3"===t.type,a=this.limitM,i=t.size/1024/1024<a;return e||this.$message.error("上传文件只能是 mp3 格式!"),i||this.$message.error("上传文件大小不能超过 "+a+"M!"),e&&i},uploadVoice:function(t){var e=this;if(!e.uploadLoading){e.uploadLoading=!0;var a=this.$route.path.split("/"),s=a[1]?a[1]:"";if(s){var o=t.file;if("oss"==e.upload_type)i.uploadFileToOss({file:o,type:"audio",success:function(t){e.uploadLoading=!1,e.fileList.push({name:t.name,url:t.url}),console.log(t),e.$emit("update:fileList",e.fileList),e.uploadedVoice&&e.uploadedVoice({sub_that:e,res:t})},fail:function(t){e.uploadLoading=!1,i.Message.error(res.msg)}});else{var l=e.url;e.$baseconfig.imghost;i.requests("post",{url:l,data:{voice:o,subpath:s},headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if(e.uploadLoading=!1,e.uploadedVoiceForNew)e.uploadedVoiceForNew({sub_that:e,res:t});else if(1==t.code){var a=t.data.info;e.fileList.push({name:a.url,url:a.url}),e.$emit("update:fileList",e.fileList),e.uploadedVoice&&e.uploadedVoice({sub_that:e,res:t.data})}else i.Message.error(t.msg)})}}else console.log("页面路径设置错误")}},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},handleRemove:function(t,e){this.stop(),this.uploadedVoice&&this.uploadedVoice({sub_that:this,res:e}),this.$emit("update:fileList",e)},handlePreview:function(t){var e=this;e.open_voicesrc="",e.open_voicesrc=this.getRealVoiceUrl(t.url),setTimeout(function(){e.play()},300)},play:function(){this.$refs.open_voicesrc.ended&&(this.$refs.open_voicesrc.currentTime=0,this.isPlaying=!1),this.isPlaying?this.pause():(this.$refs.open_voicesrc.play(),this.isPlaying=!0)},pause:function(){this.isPlaying&&(this.$refs.open_voicesrc.pause(),this.isPlaying=!1)},stop:function(){this.isPlaying&&(this.$refs.open_voicesrc.pause(),this.isPlaying=!1,this.$refs.open_voicesrc.currentTime=0)},getRealVoiceUrl:function(t){return this.$getRealVoiceUrl(t)}}},o=(a("cYoG"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"voice-upload-content"},[a("el-upload",{staticClass:"voice-uploader",attrs:{action:"string","http-request":t.uploadVoice,"before-upload":t.beforeUploadVoice,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,limit:1,"on-exceed":t.handleExceed,"show-file-list":!0,"file-list":t.fileList,accept:"audio/mp3"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("选择文件")])],1),t._v(" "),a("audio",{ref:"open_voicesrc",attrs:{src:t.open_voicesrc,type:"audio/*"}})],1)},[],!1,null,"2d3fb151",null);l.options.__file="VoiceUpload.vue";e.default=l.exports},Fgkb:function(t,e,a){"use strict";var i=a("JhME");a.n(i).a},GERb:function(t,e,a){"use strict";var i=a("zUHS");a.n(i).a},"GS9/":function(t,e,a){},Gd18:function(t,e,a){"use strict";var i=a("u87p");a.n(i).a},GnJy:function(t,e,a){},Gs3Z:function(t,e,a){},HT7b:function(t,e,a){"use strict";var i=a("SQTp");a.n(i).a},HrIS:function(t,e,a){"use strict";var i=a("1nfx");a.n(i).a},HrLS:function(t,e,a){"use strict";a.r(e);var i=a("0ERz"),s=a.n(i),o={components:{},name:"QCode",props:{id_name:{type:String,default:""},value:{type:String,default:""},width:{type:String,default:"132"},height:{type:String,default:"132"},need_big:{type:Boolean,default:!1},big_width:{type:String,default:"600"},big_height:{type:String,default:"600"}},data:function(){return{qrcodeObj:null,qrcodeBigObj:null}},watch:{},computed:{id_name_big:function(){return this.id_name+"_big"}},mounted:function(){this.qrcodeObj=this.qrcode({id_name:this.id_name,value:this.value,width:Number(this.width),height:Number(this.height)}),this.need_big&&(this.qrcodeBigObj=this.qrcode({id_name:this.id_name_big,value:this.value,width:Number(this.big_width),height:Number(this.big_height)}))},methods:{qrcode:function(t){if(t.value&&t.id_name)return new s.a(t.id_name,{width:t.width,height:t.height,text:t.value,colorDark:"#000",colorLight:"#fff"})},getQrcodeObj:function(){return{qrcodeObj:this.qrcodeObj,qrcodeBigObj:this.qrcodeBigObj}},qrcodeImgClick:function(t){var e={imgSrc:t.srcElement.currentSrc,bigimgSrc:this.qrcodeBigObj?this.qrcodeBigObj._el.children[1].currentSrc:""};this.$emit("onQrcodeImgClick",{imgSrcObj:e,qrcodeObj:this.getQrcodeObj()})}}},l=(a("LTt7"),a("KHd+")),r=Object(l.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qcode-box",on:{click:t.qrcodeImgClick}},[t._t("header"),t._v(" "),a("div",{staticClass:"qcode-item",attrs:{id:t.id_name}}),t._v(" "),t._t("footer"),t._v(" "),t.need_big?a("div",{staticClass:"qcode-bigitem",staticStyle:{display:"none"},attrs:{id:t.id_name_big}}):t._e()],2)},[],!1,null,"61e405aa",null);r.options.__file="QCode.vue";e.default=r.exports},"I/z8":function(t,e,a){"use strict";var i=a("BQFP");a.n(i).a},I0Yi:function(t,e,a){"use strict";a.r(e);var i,s=a("QbLZ"),o=a.n(s),l=a("YEIV"),r=a.n(l),n=a("kxxL"),c=a("xIHd"),u=a("ygAv"),d={name:"estates-new",mixins:[n.a,c.a],directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},props:(i={region_no:{default:function(){return""}},show:{type:Boolean,default:function(){return!1}}},r()(i,"region_no",{default:function(){return""}}),r()(i,"area_no",{default:function(){return""}}),i),watch:{innerDialogVisible:function(t){if(this.$emit("update:show",t),1==t){if(this.innerSearch.region_no==this.region_no&&this.innerTableData.length)return;this.innerSearch.region_no=this.region_no,this.onInnerSerch()}},show:function(t){this.innerDialogVisible=t}},data:function(){return{url:"estates/getEstatesnewList",innerTableData:[],innerDialogVisible:!1,innerSearch:{name:"",region_no:"",status:"1",sale_status:"",recommend:"",area_no:"",from:"innerTable"},innerLoads:{loadSign:!1,page:0,last_page:1}}},created:function(){this.innerSearch.region_no=this.region_no,this.innerSearch.area=this.area_no,this.getEstatesNewSaleStatus()},methods:{openPage:u.openPage,innerSelcetRow:function(t){this.innerDialogVisible=!1,this.$emit("innerFormData",t)},onInnerSerch:function(){this.getList(o()({page:1},this.innerSearch))},innerLoadMore:function(){this.getList(o()({page:this.innerLoads.page+1},this.innerSearch))},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;if(1!=e.innerLoads.loadSign){var a=t.page;t.field="en.name,en.id",1==a&&(e.innerLoads.last_page=1,e.innerTableData=[]),a>e.innerLoads.last_page||(e.innerLoads.loadSign=!0,u.requests("post",{url:e.url,data:t}).then(function(t){if(e.innerLoads.loadSign=!1,1==t.code){for(var a in t.data.list)e.innerTableData.push(t.data.list[a]);e.innerLoads.last_page=t.data.last_page,e.innerLoads.page=t.data.current_page}else u.Message.error(t.msg)}))}}}},m=(a("4eVf"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"55%",title:"新房",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.innerSearch}},[a("el-form-item",[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"标题","prefix-icon":"el-icon-search"},model:{value:t.innerSearch.name,callback:function(e){t.$set(t.innerSearch,"name",e)},expression:"innerSearch.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"销售状态选择"},model:{value:t.innerSearch.sale_status,callback:function(e){t.$set(t.innerSearch,"sale_status",e)},expression:"innerSearch.sale_status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),t._l(t.const_estates_new_sale_status,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})],2)],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"启用状态选择"},model:{value:t.innerSearch.status,callback:function(e){t.$set(t.innerSearch,"status",e)},expression:"innerSearch.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"推荐选择"},model:{value:t.innerSearch.recommend,callback:function(e){t.$set(t.innerSearch,"recommend",e)},expression:"innerSearch.recommend"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onInnerSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.innerLoadMore,expression:"innerLoadMore"}],ref:"innerTable",staticStyle:{width:"100%"},attrs:{data:t.innerTableData,height:"350px","highlight-current-row":"",border:""},on:{"row-click":t.innerSelcetRow}},[a("el-table-column",{attrs:{property:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"sale_status",width:"80",label:"销售状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.const_estates_new_sale_status[e.row.sale_status])+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"recommend",width:"80",label:"是否推荐",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1==e.row.recommend?"是":"否")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"city_str",width:"180",label:"城市",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"status",width:"80",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1==e.row.status?"启用":"禁用")+"\n      ")]}}])})],1)],1)},[],!1,null,"3d3b5d34",null);f.options.__file="EstatesNew.vue";e.default=f.exports},IQIp:function(t,e,a){"use strict";var i=a("DM2x");a.n(i).a},IbCV:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("ygAv"),l={name:"auth-tree",props:{roleinfo:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{children:"children",label:"name"}}},default_checkedKeys:{type:Array,default:function(){return[]}}},data:function(){return{show:!0}},computed:{checkedKeys:function(){var t=o.Tree.treeTransArray(this.data);return this.filterParentMenusId(this.default_checkedKeys,t)}},methods:{filterParentMenusId:function(t,e){if(0==t.length)return[];var a=[],i=[];for(var l in e){(r=e[l]).parent_id&&(i[r.parent_id]=r.id)}for(var l in i=s()(i),t){var r=t[l];-1==o.ArrayFun.indexOfArr(i,r)&&a.push(t[l])}return a},onClose:function(){this.$emit("onClose",!1)},onSubmit:function(){var t=this.$refs.tree.getCheckedKeys(),e=this.$refs.tree.getHalfCheckedKeys(),a=[];a=e.length>0?t.concat(e):t,this.$emit("onSubmit",{role_id:this.roleinfo.id,checked_keys:a})}}},r=(a("WCvx"),a("KHd+")),n=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"权限设置( "+t.roleinfo.name+" )",visible:t.show,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},close:t.onClose}},[a("el-tree",{ref:"tree",attrs:{data:t.data,"show-checkbox":"","default-expand-all":"","expand-on-click-node":!1,"check-on-click-node":"","node-key":"id","default-checked-keys":t.checkedKeys,props:t.defaultProps}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.show=!1}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"75c4a1f4",null);n.options.__file="AuthTree.vue";e.default=n.exports},J6CZ:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("Z1g7"),l=a("fbG1"),r=a("glbJ"),n=a("ygAv"),c={components:{Tinymce:r.default,"img-upload":o.default,"img-upload2":l.default},data:function(){return{value:"",table_number:"",options:[{value:"month",label:"按月分表"},{value:"day",label:"按天分表"}],form:{estates_browse:{type:"",number:""},kfmobile:"",kfmobilecode:[],cover_id:[],wxh5:{appid:"",secret:"",token:"",url:""}}}},created:function(){this.getInfo()},methods:{onUploadedImg:function(t,e){var a=t.res.info;this.form[e]=a.url},getInfo:function(){var t=this;n.requests("post",{url:"sys/sysInfo",data:{key:["kfmobile","kfmobilecode","wxh5","poster_img","estates_browse"]}}).then(function(e){if(1==e.code){var a={};for(var i in e.data.list){var s=e.data.list[i];s.val||"wxh5"==s.key&&(s.val={appid:"",secret:"",token:""}),a[s.key]=s.val}console.log(888,a.kfmobilecode),console.log(77,a.wxh5),t.setDataArr({form:a,value:a.estates_browse.type,table_number:a.estates_browse.number})}else n.Message.error(e.msg)})},onSubmit:function(){var t=this;console.log(t.form),t.form.estates_browse.type=t.value,t.form.estates_browse.number=t.table_number,console.log(t.form),n.requests("post",{url:"sys/sysEdit",data:{key:s()({},t.form)}}).then(function(e){1==e.code?(t.getInfo(),n.Message.success(e.msg)):n.Message.error(e.msg)})}}},u=(a("wW2L"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("div",{staticClass:"mapeditor-title"},[t._v("基础设置")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"kfmobile",label:"客服电话","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.kfmobile,callback:function(e){t.$set(t.form,"kfmobile",e)},expression:"form.kfmobile"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"kfmobilecode",label:"客服二维码","label-width":"120px"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1,width:750,height:750},limit:1,"show-file-list":!1,fileList:t.form.kfmobilecode,imgIds:t.form.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.form,"kfmobilecode",e)},"update:imgIds":function(e){t.$set(t.form,"cover_id",e)}}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("微信公众号配置-服务号")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号appid","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.appid,callback:function(e){t.$set(t.form.wxh5,"appid",e)},expression:"form.wxh5.appid"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号密钥","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.secret,callback:function(e){t.$set(t.form.wxh5,"secret",e)},expression:"form.wxh5.secret"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号token","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.token,callback:function(e){t.$set(t.form.wxh5,"token",e)},expression:"form.wxh5.token"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"回调地址","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.url,callback:function(e){t.$set(t.form.wxh5,"url",e)},expression:"form.wxh5.url"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("浏览记录配置")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"value",label:"选择类型","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"table_number",label:"间隔月份/天数","label-width":"120px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"text"},model:{value:t.table_number,callback:function(e){t.table_number=e},expression:"table_number"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{"label-width":"136px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")])],1)],1)],1)},[],!1,null,"046630da",null);d.options.__file="baseset.vue";e.default=d.exports},JZfo:function(t,e,a){},JdwW:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("YEIV"),n=a.n(r),c=a("Bi68"),u=a("fqDt"),d=(a("MCLT"),a("kxxL")),m=a("ygAv"),f={components:{"pagination-box":c.default,"exportexcel-box":u.default},mixins:[d.a],data:function(){var t;return{attrs:[],dialogFormVisible:!1,formLabelWidth:"130px",exportExcelInt:{progressShow:!1,percentage:0,loading:!1,tocancel:!1},host:this.$baseconfig.host,form:(t={id:0,name:"",mobile:"",wx_setting:{h5:{}},account:"",newpassword:""},n()(t,"newpassword",""),n()(t,"status","1"),n()(t,"role_id",-1),t),searchData:{sort:"id",name:"",account:"",mobile:""},page_loading:!1,tableData:[],pagination:{},total:0}},computed:{},created:function(){this.getList(),this.resetData({form:this.form})},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,m.requests("post",{url:"merchant/merchantList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):m.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1),console.log(this.form)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(t.wx_setting||(t.wx_setting={}),t.wx_setting.h5||(t.wx_setting.h5={appid:"",secret:"",token:""}),this.form=l()({},t),this.form.status=String(this.form.status))},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;m.requests("post",{url:"merchant/merchantEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(m.Message.success("操作成功"),t.getList(),setTimeout(function(){t.doEditCancel()},1e3)):m.Message.error(e.msg)})})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,m.requests("post",{url:"merchant/merchantEnable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),m.Message.success("操作成功")):m.Message.error(t.msg)}))},getFormatDate:function(t){return m.DataFun.getFormatDate(t,1)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},p=(a("eO1a"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"商户名称","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"账号","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.searchData.account,callback:function(e){t.$set(t.searchData,"account",e)},expression:"searchData.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系电话","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:t.searchData.mobile,callback:function(e){t.$set(t.searchData,"mobile",e)},expression:"searchData.mobile"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"账号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商户名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"微信公众号配置信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.wx_setting&&e.row.wx_setting.h5?a("div",[a("div",[t._v("Appid: "+t._s(e.row.wx_setting.h5.appid))]),t._v(" "),a("div",[t._v("Secret: "+t._s(e.row.wx_setting.h5.secret))]),t._v(" "),a("div",[t._v("Token: "+t._s(e.row.wx_setting.h5.token))])]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row))}}},[t._v("编辑")]),t._v(" "),a("el-button",{directives:[{name:"iscan",rawName:"v-iscan",value:"merchant/del",expression:'"merchant/del"'}],attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))])],1)],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑":"新增",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"商户名称","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系电话","label-width":t.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":t.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"账号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:!!t.form.id},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.newpassword,callback:function(e){t.$set(t.form,"newpassword",e)},expression:"form.newpassword"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.newpassword2,callback:function(e){t.$set(t.form,"newpassword2",e)},expression:"form.newpassword2"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"微信公众号Appid","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.wx_setting.h5.appid,callback:function(e){t.$set(t.form.wx_setting.h5,"appid",e)},expression:"form.wx_setting.h5.appid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"微信公众号Secret","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.wx_setting.h5.secret,callback:function(e){t.$set(t.form.wx_setting.h5,"secret",e)},expression:"form.wx_setting.h5.secret"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"微信公众号Token","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.wx_setting.h5.token,callback:function(e){t.$set(t.form.wx_setting.h5,"token",e)},expression:"form.wx_setting.h5.token"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("开启")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("禁用")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"7d919b4a",null);h.options.__file="merchantList.vue";e.default=h.exports},Jf9N:function(t,e,a){"use strict";a.r(e);var i={name:"ExtraCheckbox",props:{dataAll:{type:Array}},data:function(){return{isIndeterminate:!1,isCheckedAll:!1,checkeds:[]}},computed:{dataAllForKeys:function(){for(var t=this.dataAll,e=t.length,a=[],i=0;i<e;i++)a[i]=t[i].key;return a}},methods:{setCheckeds:function(t){if("all"==t)var e=this.dataAllForKeys;else e=t.split(",");this.checkeds=e,this.handleCheckeditemChange(e)},handleCheckAllChange:function(t){var e=this.dataAllForKeys;this.checkeds=t?e:[],this.isIndeterminate=!1,this.$emit("onChecked",this.checkeds,t)},handleCheckeditemChange:function(t){var e=this.dataAll.length,a=t.length;this.isCheckedAll=a===e,this.isIndeterminate=a>0&&a<e,this.$emit("onChecked",this.checkeds,this.isCheckedAll)}}},s=(a("T1jY"),a("KHd+")),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.isCheckedAll,callback:function(e){t.isCheckedAll=e},expression:"isCheckedAll"}},[t._v("全部")]),t._v(" "),a("el-checkbox-group",{on:{change:t.handleCheckeditemChange},model:{value:t.checkeds,callback:function(e){t.checkeds=e},expression:"checkeds"}},t._l(t.dataAll,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.key}},[t._v(t._s(e.name))])}))],1)},[],!1,null,null,null);o.options.__file="ExtraCheckbox.vue";e.default=o.exports},JhME:function(t,e,a){},JiQR:function(t,e,a){},Jvyq:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAACKCAYAAABW3IOxAAAAAXNSR0IArs4c6QAAElhJREFUeAHtnXuQHMV9x7tndvdOQkgCWZKxkITEQ5YB87AVCT9iEqgyTsXlyA42QVRcScXYzvOPkKeJLSrOy8RVxMSVBNuVqrhIxS7KJk5BKlWpQKiKX4hgwOII6CzLAk6H0Pt0e/uY6Xx+p7vT3Gl2b2e3Z2d2t7vqdzuP7l//+tvf6+75dU+PVi5kioAxZl01UDtMEG43Wu/AmOuUUYeVVqNKmVGjvX2+HAdqX6mkfqS1Pp2pwQkz1wnju+gdIACZlpTr6npU7FChETIh5uJkKvWYPkO+fUp7oyZUowWt9hWLahTyHU2mK/3YjmApYjxlzGWmSuukQ4iktwP2NZCsmFqWWh9D96hWZp+nvb2lgvompNubWn4tKHYEawGkVqJAnBWVutpmZlono2mdjFnVSlqbcTytnynSpHlaXYPeV5F3QLIDNvNIossRLAlaM3Ehk1etqitDIZGidTKMnbTayvVM8IRAZQj1dNHXF9N9blhQpBc4f2dW3WcmgCwAIPenEGdNJVDbGYhDpOmB+DaunZ+14VrpV31fjxb96dZqeRN7vs29m4WITeKkcssRbAGsEKdUq6lrQ7o6M9M6GWU2LYiW6Snd4HO+p8sFX70dQ7wWjfkW8T4IyYIW41uJNvAEKxuzUQbiSocMwqdbp+sh2ZAVdC0qgRhVur8nS75+A79b2lT9AHo+3mbatpINHMEgz/JKqH7ZmPBtJtA3J3cTtIVz+4m0PsyYfS8D9ytRsrp9RXMpd0Oye+bOUj4YOIJNVsJvQKqdgitAh8aocQbIr/P0d4pLNbmMDOPsXKk9tSYMzUrOux6wbaTg6SN0g9vI3HaLeif6v9SNQg0UwSZr5ndVGP51EmCpiJPEH4OAxwFLBskyhilyvozBzyp+L5JxWxKdjeKSl+j+Xqmgl0D66xrFs3Bd8tlJfv9mQVdTFQNDMMj1Tm3M45Ch0BSRhDeppBqtnXjXZXrnlApV1TAKxwe2hHsreEBYw/015NsYazzwdIM/KBT0ZURa6GZIaFHL0eWf5SZs/E7LKdqI2LjQbSjLaxIqd3W5ap6ma1yXiY2MowB6nLyPQbZJ7dE1Kzz6Ri2hG6zMdINZuD2OYNO7IJn4ylIJfU8wyOVN1cx/8MuAPj+BSq0PFabnFddnbNUB8r8Be8bSsKNVH0oaeXdF51Q13J03cknB8WM9TUeaNbnElI3Iv4NRM0etxGsr9HULRsv1XoAT8HJVToZozw8V9VvaqrH0Ej2G6ltoyao2s+jbFmzSmPX4IB7MG7mowIlSUa+xWYmWdP0Mev7JNl59STBAKqqa+XoWqxkWq+yCr1+iOX3DYvEyuv8R8r3bZt59SbByDV+XmV7QZxOrjnUx7tpT8FL1b3VsIwq22lAyq6PvCDZZMbfy+P/bswXMz68ew4FqtfLyU7bGlvQVwVhBeoXW5iuNi5vNHcZdhkH9cXI/LxsLssu1bwjGuGuJqZmH+M3CYdm0Bnlp49tM/Qxc6yWgWJ02aYpyyjenauHfMXF9dcrZJFZP6/UiKyG2J07YJwn6ogVjGujXINdH81YnkGuKrlFWQvTNP3JSjHueYNWquZY5xvuTFrwb8Zln3INLQjzlAxt6n2BBeBdPjaxm0CZPtYg9e5jEfleebMrClp5vuk9Vwl1CLqZf9nuePljy1YTvqxKku4iB9eUM+m0v1lu8nrR+fbioB7rlmgWp5wkmBYFEOjBmcxCqzbX6bNFkaao+4fvmh3RVRwu+Z3iau5CLl5LggrOx7B/h7xpF68AO7KOI9gXBogWKHrPmakU9UG+rB/SetWD6Fq1dQEv3Eu8QjtHCVYueWso4aT1xraxsQPcTEPmno3YM8nFfEyyuYmnt/CAwlweBujx6n0WARwqe9+OCF55kOodDbzXE20z8lpdD02LuZ42X7D3hwgwCA0ewRjVvQrOqFgar5K2PMyGQl0JqdK//xxzi6wzYA1qmFazhugTSrZiNNfsrcSHXBOebZq+53wH2z7RS+RCpWAvMFnrXLdPvG80kohscLxW8l30dln3PG+ZR/E2QcATy3dSK3kGK41qwNmqbV9nWTlWDtWeSnhnbrT6/kNclOG2U0F6SnveD2YOiY03unzUGQkewGFDcJXsIOILZw9JpikHAESwGFHfJHgKOYPawdJpiEHAEiwHFXbKHgCOYPSydphgEHMFiQHGX7CHgCGYPS6cpBgFHsBhQ3CV7CDiC2cPSaYpBwE1vxIAy4Jd+gUn+V1rA4Ani3CHr65rFdQRrhs5g3ltCsUUWC7cRQbYX/XiziK6LbIaOu7cYAnfS2t3TLJIjWDN03L1WEPg0JPtko4iOYI2QcdeTIPC3kOxDcQkcweJQcdeSIiA8ks3+blyY0BFsISLuvF0E5P3ThyGZfEZwLjiCzUHhDiwgIC/DyJ64cy++OIJZQNWpmIfARZzJtvHT31VyBJuHjTuxhIC8c/ooJJPP7bjgEEgFAfmW5UOOYKlg65TOIHCTI5jjQqoIOIKlCq9T7gjmOJAqAo5gqcLrlDuCOQ6kikBPEww/yw2+7z3FvlynU0XJKW8bgZ5bcAipZDHcLyG/gVy/+owrr16tq2fLNXO0UgtWhopPtmSxN2vb1dC/CdnErzcCxLoUSz+B/Cpy4SJWlys1M1KuhyeqdcP3svWbSe8vkqaj22zfFPqe6ukeoSMA4hPXc00wSCEVdgsirdX7kLbsZYfWE3yc9AW+fltmQ7mLjNJXoLstXdgQGxzBYmHJJ8GofGmhfgX5dWRzrOkdXOSrIIf5OsiLtHB1NgneQH6bOlA3ndQRLBbBfBGMipYNdKW1kjFWKy8exJYq6cXQqJch3GilFupqIIQ2FyfV4QgWi1j2BINUsovzrchvIjtizezyRfbb38cDw0E+sFXgeAs2LvoJZEew2ErKjmBU2gZMkleePoZMrx2KNTH7i2EtVCO0cIdo4ZaGodrKnvorF5rlCLYQkenz7hMMYt1M1tINvh9J9cluuoj2/9T4msjeybo5DOFWmFBdCeHOcwSLBbo7BINUy8n+o4gQa0usKb17cbJSV4+VCurneCy1+mTau5DMWZ4uwSDWVWQlpLoDWTaXbf8cvERR5FPJ2/qnSFZLUrfuyYdUonMnIsR6j1Vz86PsJ5jyMnID4lqtJvViDRyIJYv975yRNzXJs5dvjWO8tFrytGv9n7OXgWlg+2sdEwxivRvl0lp9ECk2yKjXL0s3+CwiXWHX/HM9DNppbL8PubdtgkGsN/INn78s+upnUbS+h8FoZroAtQe5DpEHFReaI1Dl9j8gn2Vbp9ckatsEK1eDrzHl8mEUhSj5AR+D4qOf6gp0in+r14MA9T1kK+K+QbR4bcoeYV9FdsOHA9HobRFsqm7eFwbho1FFcoxymUF+Zubzd/Ju3MaFcXJ+HmLfd5FLkH4dR1I0q+EbaLubuh+J05qYYHSNS6eqZi/OxUviFM5emyHbs0I2vqF9KRk1jT+bLsPf75P3amRThjb0Utb/ibF/RD3LEKJhSEywqUpwL//mdzXUGHNDyMaSmef4uOdhutG8ke1pTF6K9JsDOKYmrFySoYMQ67FWtCUiWLVqrgmU2UMr1tEjOsb9kJZtHLJtwgDry3FaKThx9iIydnhri/EHPZrgJV3hw0mAaJlgkMpjhcF3WIr8U0kyWCwuBu+dIdslXSLbPmwSt4O82u7C4gjsJ8pnkAepKxmjJgotE4xx12+FJvxCIu0JI1OAEcg2Rsu2EcNkibTNcBBlryDbkZbLbdOAHtN1CHs/izxAvZz9lHnCQrQENK3XOpYcj/B7fkL9bUenUPIx9lch24YOySb+GPG+C7E66trbLkxvJZTW/XPI31AHk52a3hLBJishj6JG5hczCRT0Rcj2CmRbj8GXtWiEAPUcsg0ZbjHNIEcTMkkP9VfgLdhZCYsSrFI3HwiC8GEruVlQQuH3QbaDBQ+y6ViyCVBPIdciXWtxLRQtKxXS/T2AiPddukWroSnB6BKXMfZ6Hp9XLqeCeOF2lFfFDhZ8vQ6ybQQZ8WWJ932VVZT6U5kM2B9EPgOxZCCfSmhKsMlqcJ8y6ndSydmiUgAKhor6dQqz1qLaflb1rxTuU+AmrodUQ0OC4fN6Oz6v79KK5X5Zs+/rl0u+TvwmUKrI5lP5f2HWH0MscZZ2JcQSTEiFz+tJfF6yiiDXAbAmhou6H1fL2sT9SZQJsWR6p6sh9rG9XKdb7AFyCVJFv30fTVeRziYzmYAW77tMSGcSzmnByvI6WY2BvTHnZWJRgkw1c5vDBb06QZJBiXqAgu5Gvgq5ZDoss3BOC2aq5ov4vHJPLkGMcZds/O/CWQTEqfxnyN9DLFnTlnmYRzB8Xr+Iz+vnM7eqBQM8Tx/ytHpjC1EHIcoJCnkvch/EOp2nAs91kXSJK3h7mT57+uWNPNl4ji2AWMMtUZwz/pwYA3OhTEnvR8T7fjSPpZ5rwdiH4S8wUN4Myn3Ai38Kcl2Ye0PTM1C8719B/hRivZpeNp1rnm4E8HntwOf1P7RiXucq09UAoCdxSyxPN5fcajdY9i/In4DDaG6tjBhWgFQFVko80AvkErtxSwxF7B+kw/+msHdBrKZLlPMGiDdVV3dBrqvzZlicPbgljjD3OGgEE1/WByDWjb1GLqlDjy3+buR1oCNxFZqna4Brhnw9SJPYsrLhE8jVlP1beaqLJLboseM1tizV1VLB+9+SH0762mM1Qv6eJFkxcYzu8YIkhevRuOJm+DzyOYiVK5dDO3ieIVgkJYUKqcxn8JAfw890GWTbELmdySE2VRjY93vXKB73f0RkAG99XVYmFUem5xBsoSG4BEaGCvpQ0ffWsy4MwnU/FAteGTuWdD/nruX4CDn9PsR6vms5dimjRQkWtcMvePuHff0TXqRdw5uOsrAv9eBpfQqnar+uTH0KAOXJ8PHUgcwog0QEi9rIVM3YkqLH8mVzASR4S1pujqGiZ+iq+81p/2OwvBv5Z8glvq2+DW0TLIqI53tHadle4KWMpZDhKvGtRe+3e8za+xOlQl9NaB8Diz9H7odYlXZx6aV0VggWLTBPoRNF34yUitBOs0Fum98MogJCxn40jlHtPXssKxu+iMjUjpBsYIJ1gkWRgx7VkqefZ1lNnXHbVsjW8jIgnmQncUssjerrwWPp/r6OyF4O+3vQ/o5NTpVgUeukRYIwI7gbJmnZ5FtBDddyEXeKeMPR9D14LFM7v0dZnuxB262Z3DWCLbQYx+5LeOaPez6bnxgzz0PPvYApody/bLKwTDPnMrXzhxCrZ73vDcrV1uXMCBa1tljQB0u+GmfItR7CLWPs1XJXGtWT8bE4R+9BvgS5Ml2mnDEO87LPBcGiFp0/7KvzhnpqZD87tXMvxJqIlsUd53AzEGYLqJeeIFhfTu3Y/qew4q+ybVQP6OvbqR3b2DuCJUNUpnbkyfCxZMkGN3bul0jnpGoOYMcdyDZHrmQ14lqw5njJPlkytfMFiDUQUzvN4Uh+1xEsHrPZqR3ZMyuXr4PFm52/q45g8+tk4Kd25sPR+Zkj2FkMn+BQ1mYN9NTOWTjsHDmCKfUCUP4BxHJTO3Y4NU/LID9FjoPEJ5GrHLnmccLqySC2YG5qxyqFmisrsBp5gumZQdghcHZq59O0WGPNYXF3bSHgrV3hrwXwXcgjSNtfdLBlUEp6HkXvNZTvY4gjV0ogx6mdN6t88qRZVQ7DDxsd7mLC+R0sCpx3P06B7WvLhj3W61gbGrqpHdsVlFBfQwIdK5uNlUp4u1Lh7TiHrkqot+3olggmUzufQvr+rZ22ge5SwoYEi+Y/PmHequr1XaHSt6X9pneHBHNTO9GKy8FxSwSbtVO6zMMT6t2hCW7nC6O3stTZ+iZwbRLMTe3MVlLOfhMRLGo7ZCuOnwpuYX3gLsj2flo2K28AJSTY7NSO7AH/o6h97jgfCLRNsKj5r/FNI3My2MnHb3ah8GbI1/YLGwkIJlM7sjbr+1Fb3HG+ELBCsGiRDp0ya1QYfmT64cCoHdF7rRy3QDA3tdMKkDmJY51g0XKNHzebcXnwFIrbw6g3R+81Om5CMJna2Y18mVar3ii9u54vBFIlWLSoh0+b6+u1+u3MHNzGzMG66L3ocQzB5PuPn0dkQzb31k4UrB447hrBZrFgfOYdmqi/RwcaZ676EGRbOXtPfiMEc1M7UWDccXIEINvQ+Mn6zrHj9YfGTtTLsp3nqamAy+YR5MrkGl0Kh0ADBI4Ys/zUVPj4sdPBPQ2iuMsOAYeAQ2A+Av8Pby5Qwk3kUm8AAAAASUVORK5CYII="},K2vu:function(t,e,a){},K6TW:function(t,e,a){"use strict";var i=a("Kphv");a.n(i).a},KAGF:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("I0Yi"),u=a("lTwH"),d=a("kyiu"),m=a("7QZd"),f=a("fbG1"),p=a("ygAv"),h={components:{"img-upload":r.default,"estates-new":c.default,"live-room":u.default,"estates-imgs":d.default,"img-preview":m.default,"img-upload2":f.default},mixins:[n.a],data:function(){return{activeTabs:"",activeTabsName:"",dialogVisibleEdit:!1,preview_show:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{},searchData:{module:""},tableData:[],subway_sites:[],formData:{module:"",label_id:"",forname:"",forid:"",doforid:"",status:"1",forsort:0,cover_imgs:[],forhref:""},id:"",moduleList:[],subject_type:"",innerVisible:{},listData:{},innerVisibleImgs:!1,forimgUrls:[]}},watch:{activeTabs:function(t){var e=this;console.log(t),this.$nextTick(function(){e.activeTabsName=e.moduleList[t],e.listData[t]?e.setDataArr({tableData:e.listData[t]}):e.setDataArr({tableData:[]})})}},created:function(){var t=this;t.getLabelData({id:t.$urlData.id}),t.setDataArr({subject_type:t.$urlData.subject_type,id:t.$urlData.id,searchData:{id:t.$urlData.id,subject_type:t.$urlData.subject_type}}),t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData,function(){var e={};for(var a in t.moduleList)0==t.activeTabs&&(t.activeTabs=a),e[a]=!1;setTimeout(function(){t.setDataArr({innerVisible:e,tableData:t.listData[t.activeTabs]})},50)})},methods:{tabsClick:function(){},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this;p.requests("post",{url:"subject/getConfigList",data:t}).then(function(t){for(var i in console.log(t.data),a.moduleList=t.data.moduleList,t.data.list){var s=t.data.list[i],o=[];for(var l in s)s[l].module=i,o.push(s[l]);t.data.list[i]=o}a.formData.region_no=t.data.region_no,a.setDataArr({listData:t.data.list,tableData:t.data.list[a.activeTabs]}),e&&e()})},getFormatDate:p.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},getLabelData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p.requests("post",{url:"subject/labelData",data:e}).then(function(e){for(var a in t.subway_sites=e.data,t.subway_sites){var i=t.subway_sites[a];i.id=String(i.id),console.log(6666,i)}})},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0?(this.formData=s()({},t),this.formData.module=this.formData.module?String(this.formData.module):this.activeTabs,this.forimgUrls=t.cover_imgs):this.formData.module=this.activeTabs,this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),this.forimgUrls=[],1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p.requests("post",{url:"subject/delConfig",data:{forid:t.forid,module:t.module,id:a.id}}).then(function(t){0!=t.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:t.msg})})})},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return p.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,p.requests("post",{url:"subject/changeConfigSort",data:{forid:t.forid,module:t.module,id:a.id,ftype:t.ftype,forsort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSearch(),p.Message.success("操作成功")):p.Message.error(t.msg)}))},doSubmit:function(t){var e=this,a=this;a.formData.id=a.id,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,p.requests("post",{url:"subject/editConfig",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:p.openPage,changeInnerShow:function(){if("normal"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal"))this.innerVisible[this.activeTabs]=!0;else{if("estates_new"!=this.activeTabs)return void this.$message({type:"error",message:"不是新房不用选择图片"});if(!this.formData.forid)return void this.$message({type:"error",message:"请先选择楼盘"});this.innerVisibleImgs=!0}},innerFormData:function(t){t.type||(t.type="normal"),"normal"==t.type&&(this.formData.forid=t.id,this.formData.forname=t.name)},clearInner:function(){"normal"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal")&&(this.formData.forname="",this.formData.forid=0,this.forimgUrls=[],this.formData.cover_imgs=[])}}},g=(a("kebN"),a("KHd+")),_=Object(g.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-tabs",{on:{"tab-click":t.tabsClick},model:{value:t.activeTabs,callback:function(e){t.activeTabs=e},expression:"activeTabs"}},t._l(t.moduleList,function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e,name:String(i)}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)})),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"forid",label:"ID",width:"70",align:"center"}}),t._v(" "),"banner"==t.activeTabs?a("el-table-column",{attrs:{prop:"forhref",label:"跳转地址",align:"center"}}):a("el-table-column",{attrs:{prop:"forname",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"module",label:"模块类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(t.moduleList[e.row.module]))])]}}])}),t._v(" "),"label"!=t.activeTabs?a("el-table-column",{attrs:{prop:"forsort",width:"100",label:"序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容"},on:{change:function(a){t.sortChange({forid:e.row.forid,module:e.row.module,ftype:0},a)}},model:{value:e.row.forsort,callback:function(a){t.$set(e.row,"forsort",a)},expression:"scope.row.forsort"}})]}}])}):t._e(),t._v(" "),"estates_new"==t.activeTabs?a("el-table-column",{attrs:{prop:"look_number",width:"80",label:"浏览量",align:"center"}}):t._e(),t._v(" "),"label"==t.activeTabs?a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":"1","inactive-value":"2"},on:{change:function(a){t.sortChange({forid:e.row.forid,module:e.row.module,ftype:1},a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row,{doforid:e.row.forid}))}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del({forid:e.row.forid,module:e.row.module},e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[["estates_new","liveRoom"].includes(t.activeTabs)?a("span",[a("el-form-item",{attrs:{label:"选择"+t.activeTabsName,prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("span",{on:{click:function(e){t.changeInnerShow()}}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择"+t.activeTabsName},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择"+t.activeTabsName},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("重置")])],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.forsort,callback:function(e){t.$set(t.formData,"forsort",e)},expression:"formData.forsort"}})],1),t._v(" "),"estates_new"==t.activeTabs?a("span",[a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible.estates_new},on:{"update:show":function(e){t.$set(t.innerVisible,"estates_new",e)},innerFormData:t.innerFormData}}),t._v(" "),t.formData.forid?a("estates-imgs",{attrs:{estate_id:t.formData.forid,show:t.innerVisibleImgs,selectData:t.formData.cover_imgs},on:{"update:show":function(e){t.innerVisibleImgs=e},"update:selectData":function(e){t.$set(t.formData,"cover_imgs",e)}}}):t._e(),t._v(" "),a("el-form-item",{attrs:{prop:"subway",label:"标签","label-width":"110px"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"输入搜索"},model:{value:t.formData.label_id,callback:function(e){t.$set(t.formData,"label_id",e)},expression:"formData.label_id"}},t._l(t.subway_sites,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:" ","label-width":t.formLabelWidth}},t._l(t.formData.cover_imgs,function(e,i){return a("span",{key:i},[a("el-image",{staticStyle:{width:"80px",height:"80px",float:"left","margin-right":"10px"},attrs:{src:t.getRealImgUrl(e)},on:{click:function(e){t.preview_show=!0}}}),t._v(" "),a("img-preview",{attrs:{src:t.getRealImgUrl(e),show:t.preview_show},on:{"update:show":function(e){t.preview_show=e}}})],1)}))],1):t._e(),t._v(" "),"liveRoom"==t.activeTabs?a("span",[a("live-room",{attrs:{region_no:t.formData.region_no,show:t.innerVisible.liveRoom},on:{"update:show":function(e){t.$set(t.innerVisible,"liveRoom",e)},innerFormData:t.innerFormData}})],1):t._e()],1):t._e(),t._v(" "),"banner"==t.activeTabs?a("span",[a("el-form-item",{ref:"cover_imgs",attrs:{label:"封面图","label-width":t.formLabelWidth,prop:"cover_imgs"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",limit:1,"show-file-list":!1,fileList:t.formData.cover_imgs},on:{"update:fileList":function(e){t.$set(t.formData,"cover_imgs",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.forsort,callback:function(e){t.$set(t.formData,"forsort",e)},expression:"formData.forsort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"跳转地址","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.forhref,callback:function(e){t.$set(t.formData,"forhref",e)},expression:"formData.forhref"}})],1)],1):t._e(),t._v(" "),"label"==t.activeTabs?a("span",[a("el-form-item",{attrs:{label:"标签名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"is_cheap",label:"状态","label-width":"110px"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[t._v("开启")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[t._v("关闭")])],1)],1):t._e()]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"132bc4d9",null);_.options.__file="subjectConfig.vue";e.default=_.exports},KUXV:function(t,e,a){"use strict";var i=a("K2vu");a.n(i).a},KaCU:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("Jf9N"),c=a("Z1g7"),u=a("g5Kx"),d=a("ygAv"),m={components:{"pagination-box":r.default,"extra-checkbox":n.default,"img-upload":c.default},data:function(){var t=this;return{dialogFormVisible:!1,formLabelWidth:"123px",form:{id:"",name:"",type:2,fordo:"",icon:"/static/images/defultImg.png"},rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}],type:[{required:!0,message:"缺少作用标识"}],fordo:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(""==t.form.fordo)return i(new Error("请点选要应用的模块")),!1;i()})}}],icon:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(!t.form.icon||""==t.form.icon)return i(new Error("请上传图片")),!1;i()})}}]},check_dataAll:u.a.data,default_src:"",searchData:{name:"",type:2,fordo:""},page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,d.requests("post",{url:"extra/getExtraList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):d.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onUploadedImg:function(t){var e=t.res.info;this.form.icon=e.url},onChecked:function(t,e){this.form.fordo=e?"all":t.join(",")},getCheckedsName:function(t){var e=t.split(","),a=[];for(var i in e)a[i]=u.a.getCheckedsName(e[i]);return a.join(" / ")},resetData:function(){this.setDataArr({form:{id:"",name:"",type:2,fordo:"",icon:"/static/images/defultImg.png"}}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.dialogFormVisible=!0,s()(t).length>0&&(e.form=l()({},t),e.form.fordo&&e.$nextTick(function(){e.$refs.extra_checkbox.setCheckeds(e.form.fordo)}),e.default_src=e.getRealImgUrl(e.form.icon))},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.page_loading||(t.page_loading=!0,d.requests("post",{url:"extra/extraEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(d.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):d.Message.error(e.msg)}))})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,d.requests("post",{url:"extra/extraDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),d.Message.success("操作成功")):d.Message.error(t.msg)}))}).catch(function(){})},openPage:function(t){return d.openPage(t)}}},f=(a("KUXV"),a("KHd+")),p=Object(f.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:!0,placeholder:"模块应用范围"},model:{value:t.searchData.fordo,callback:function(e){t.$set(t.searchData,"fordo",e)},expression:"searchData.fordo"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),t._l(t.check_dataAll,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"icon图标",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.getRealImgUrl(e.row.icon)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"模块应用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("  \n          "+t._s(t.getCheckedsName(e.row.fordo))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,name:e.row.name,type:e.row.type,fordo:e.row.fordo,icon:e.row.icon})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑设施":"新增设施",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"作用标识","label-width":t.formLabelWidth,prop:"type"}},[a("el-input",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上传图片","label-width":t.formLabelWidth,prop:"icon"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"模块应用","label-width":t.formLabelWidth,prop:"fordo"}},[a("extra-checkbox",{ref:"extra_checkbox",attrs:{dataAll:t.check_dataAll},on:{onChecked:t.onChecked}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)])},[],!1,null,"bf0bc06a",null);p.options.__file="nearby.vue";e.default=p.exports},Kphv:function(t,e,a){},Kx8n:function(t,e,a){"use strict";var i=a("L6mp");a.n(i).a},L6mp:function(t,e,a){},LTt7:function(t,e,a){"use strict";var i=a("qDVV");a.n(i).a},LzTn:function(t,e,a){"use strict";var i=a("Q2MI");a.n(i).a},MAml:function(t,e,a){"use strict";var i=a("3Osx");a.n(i).a},MCPW:function(t,e,a){},MfEU:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=(a("Zd91"),a("kxxL")),n=a("bC1q"),c=a("ygAv"),u={components:{"mycity-select":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",searchData:{status:"-1",city_no:"-1"},tableData:[],formData:{status:"0",cname:"",area_no:"",city_no:""}}},created:function(){this.resetData({formData:this.formData}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"city/siteBusinessAreas",data:t}).then(function(t){e.tableData=t.data})},openPage:c.openPage,doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0?(t.status=String(t.status),this.formData=s()({},t),this.formData.dotype="edit"):this.formData.dotype="add",console.log(this.formData),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"city/siteBusinessAreasDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.pid=a.pid,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"city/siteBusinessAreasEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("a8yI"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("mycity-select",{attrs:{city_no:t.searchData.city_no,unlimitedCity:!0,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"city_no",e)}}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"商圈",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"区域",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.city_name)+" - "+t._s(e.row.area_name)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{staticClass:"city-box",attrs:{label:"商圈名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.cname,callback:function(e){t.$set(t.formData,"cname",e)},expression:"formData.cname"}})],1),t._v(" "),a("mycity-select",{attrs:{"label-width":t.formLabelWidth,province_no:t.formData.province_no,city_no:t.formData.city_no,area_no:t.formData.area_no,isMy:!0,model:"2",siteAreasUrl:"city/siteAreas"},on:{"update:province_no":function(e){t.$set(t.formData,"province_no",e)},"update:city_no":function(e){t.$set(t.formData,"city_no",e)},"update:area_no":function(e){t.$set(t.formData,"area_no",e)}}}),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"5c01af9f",null);m.options.__file="businessArea.vue";e.default=m.exports},Mr0s:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=(a("Z1g7"),a("fbG1")),c=a("kxxL"),u=a("glbJ"),d=a("ygAv"),m={components:{"pagination-box":r.default,"img-upload2":n.default,Tinymce:u.default},mixins:[c.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",estate_id:0,searchData:{},tableData:[],formData:{id:"",create_time:"",estate_id:"",cover:"",content:""},pagination:{},rules:{content:[{required:!0,message:"请输入内容",trigger:"change"}]}}},created:function(){this.$urlData&&this.$urlData.id?this.estate_id=this.$urlData.id:this.estate_id=0,this.resetData({formData:this.formData},function(){}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.estate_id&&(t.estate_id=e.estate_id,d.requests("post",{url:"estates/getEstatesnewNews",data:t}).then(function(t){for(var a in t.data.list){var i=t.data.list[a];for(var s in i.img_url)i.img_real_url||(i.img_real_url=[]),i.img_url[s]&&i.img_url[s].url&&(i.img_real_url[s]=e.getRealImgUrl(i.img_url[s].url))}e.tableData=t.data.list}))},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"estates/delEstatesnewNews",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.create_time=this.getFormatDate(this.formData.create_time)),this.dialogVisibleEdit=!0},getFormatDate:function(t){return d.DataFun.getFormatDate(t,3)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEditCancel:function(t){var e=this;1==e.dialogVisibleEdit&&(e.dialogVisibleEdit=!1),setTimeout(function(){e.$refs[t].resetFields(),e.resetData()},20)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.estate_id=a.estate_id,d.requests("post",{url:"estates/editEstatesnewNews",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},onUploadedImg:function(t){},openPage:d.openPage}},f=(a("SLKG"),a("KHd+")),p=Object(f.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:"/estates/estatesnew"})}}},[t._v("返回")])],1)],1),t._v(" "),a("div",{staticClass:"tb-title"},[t.tableData.length?a("el-timeline",{staticClass:"timeline-box"},t._l(t.tableData,function(e,i){return a("el-timeline-item",{key:i,attrs:{timestamp:t.getFormatDate(e.create_time),placement:"top"}},[a("el-card",[a("h4",[t._v(t._s(e.title))]),t._v(" "),a("h5",[t._v(t._s(e.describe))]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},t._l(e.img_real_url,function(t,i){return a("span",{key:i},[a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"10px"},attrs:{src:t,"preview-src-list":e.img_real_url}})],1)})),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("div",[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e)}}},[t._v("编辑")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.id,i)}}},[t._v("删除")])],1)])],1)],1)],1)})):a("div",[t._v("暂无数据")])],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-form-item",{attrs:{prop:"create_time",label:"发布时间","label-width":"120px"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.create_time,callback:function(e){t.$set(t.formData,"create_time",e)},expression:"formData.create_time"}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"title",label:"标题","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"describe",label:"描述","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",width:"2px"},model:{value:t.formData.describe,callback:function(e){t.$set(t.formData,"describe",e)},expression:"formData.describe"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"building",label:"资讯内容","label-width":"120px"}},[t.dialogVisibleEdit?a("Tinymce",{ref:"editor",model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}}):t._e()],1)],1)],1),t._v(" "),a("el-form-item",{ref:"sand_table",attrs:{"label-width":"120px",label:"上传图片",prop:"upload"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1,width:750,height:750},"show-file-list":!0,limit:3,fileList:t.formData.img_url,imgIds:t.formData.img_ids,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"img_url",e)},"update:imgIds":function(e){t.$set(t.formData,"img_ids",e)}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"6a7beffc",null);p.options.__file="EstatesNewNews.vue";e.default=p.exports},N68V:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("kxxL"),n=(a("Zd91"),a("ygAv")),c={components:{},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",type:"",page_loading:"",searchData:{},tableData:[],formData:{place:"",desc:"",type:"0"}}},created:function(){this.resetData({formData:this.formData}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;n.requests("post",{url:"banner/getPlaceList",data:t}).then(function(t){e.tableData=t.data.list})},openPage:n.openPage,doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(t.type=String(t.type),this.formData=s()({},t)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.requests("post",{url:"banner/placeDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,n.requests("post",{url:"banner/placeEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},u=(a("7uJz"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{attrs:{model:t.searchData}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xl:6,md:8,xs:24}},[a("el-form-item",{attrs:{label:"类型","label-width":"60px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"H5",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"place",label:"使用位置",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.type?a("span",[t._v("H5")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/banner",data:{place_id:e.row.id,place:e.row.place}})}}},[t._v("管理广告")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"所用位置标识",prop:"place","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.place,callback:function(e){t.$set(t.formData,"place",e)},expression:"formData.place"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"H5",value:"0"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"dd7ce938",null);d.options.__file="bannerPlace.vue";e.default=d.exports},NLI4:function(t,e,a){"use strict";a.r(e);var i=a("YEIV"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("m1cH"),n=a.n(r),c=a("14Xm"),u=a.n(c),d=a("4d7F"),m=a.n(d),f=a("D3Ub"),p=a.n(f),h=a("QbLZ"),g=a.n(h),_=a("gDS+"),v=a.n(_);function b(t,e){localStorage.setItem(t,v()(e))}function y(t){var e=window.localStorage.getItem(t);return!(!e||"undefined"===e)&&JSON.parse(e)}function D(t){localStorage.removeItem(t)}var w,x=a("vDqi"),k=a.n(x),S=a("XXr9"),$=k.a.create({}),C=10485760,L=0,I={wait:"wait",pause:"pause",uploading:"uploading",hash:"hash",error:"error",done:"done"},E={wait:"wait",uploading:"uploading",success:"success",error:"error",secondPass:"secondPass",pause:"pause",resume:"resume"},M={wait:"待上传",uploading:"上传中",success:"成功",error:"失败",secondPass:"已秒传",pause:"暂停",resume:"恢复"},V={name:"SimpleUploaderContainer",filters:{transformByte:function(t){if(!t)return"0B";return t<1024?t+"B":t<Math.pow(1024,2)?(t/1024).toFixed(2)+"K":t<Math.pow(1024,3)?(t/Math.pow(1024,2)).toFixed(2)+"M":t<Math.pow(1024,4)?(t/Math.pow(1024,3)).toFixed(2)+"G":(t/Math.pow(1024,4)).toFixed(2)+"T"},fileStatus:function(t){return M[E[t]]}},props:{beforeUpload:{type:Function,default:function(t){var e=this;return console.log("beforeAvatarUpload -> file",t),-1===this.acceptsObj[this.uploadType].indexOf(t.type)?(this.$notify({message:"只能上传"+this.acceptDesc[this.uploadType],type:"warning",offset:50}),!1):t.size?this.propertyRestrictions(t):(setTimeout(function(){e.$notify({message:"不能上传大小为0的文件",type:"warning",offset:50})},500),!1)}},accept:{type:String,default:""},uploadArguments:{type:Object,default:function(){return{}}},withCredentials:{type:Boolean,default:!1},limit:{type:Number,default:1},onExceed:{type:Function,default:function(){}},multiple:{type:Boolean,default:!0},baseUrl:{type:String,default:function(){return S.api_baseURL}},limitnum:{type:Number,default:1},chunkSize:{type:Number,default:10485760},threads:{type:Number,default:3},uploadType:{type:String,default:"video"},chunkRetry:{type:Number,default:3}},data:function(){return{uploadFiles:[],worker:null,cancels:[],tempThreads:3,acceptsObj:{video:["video/mp4"],image:["image/png","image/gif","image/jpeg","image/jpg","image/bmp","."],audio:["audio/mp3","audio/mpeg"],ppt:["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation",".ppt",".pptx"],excel:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]},acceptDesc:{video:"mp4",image:"png,gif,jpeg,jpg,bmp",audio:"mp3",ppt:"ppt",excel:"xls,xlsx"},status:I.wait}},computed:{changeDisabled:function(){return![I.wait,I.done].includes(this.status)},uploadDisabled:function(){return!this.uploadFiles.length||[I.pause,I.done,I.uploading,I.hash].includes(this.status)},pauseDisabled:function(){return[I.hash,I.wait,I.done,I.pause].includes(this.status)},resumeDisabled:function(){return![I.pause].includes(this.status)},clearDisabled:function(){return!this.uploadFiles.length},headers:function(){return{Authorization:"token"}},fileStatuIcon:function(t){return function(t){var e="";switch(t){case"uploading":e="el-icon-loading";break;case"success":case"secondPass":e="el-icon-circle-check";break;case"error":e="el-icon-circle-close"}return e+" el-icon--left"}}},destroyed:function(){this.clearFiles()},uploadType:function(){return this.uploadArguments.type},uploadArgumentsObj:function(){return g()({},this.uploadArguments,{share:this.share})},created:function(){this.uploadType?this.accepts=this.acceptsObj[this.uploadType].join(","):this.$message("存在类型不正确的文件"),this.setAxios(),this.tempThreads=this.threads},methods:(w={propertyRestrictions:function(t){var e=this;return p()(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new m.a(function(){var a=p()(u.a.mark(function a(i,s){var o;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("image"!==e.uploadType){a.next=6;break}return a.next=3,e.verifyResolution(t);case 3:o=a.sent,console.log("propertyRestrictions -> isVerifyResolution",o),o||(e.$message(e.$t("messageTips.notAbove4k")),s());case 6:i(!0);case 7:case"end":return a.stop()}},a,e)}));return function(t,e){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a,e)}))()},verifyResolution:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3840,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2160;return new m.a(function(i,s){var o=new FileReader;o.readAsDataURL(t),o.onload=function(){if(2===o.readyState){var t=new Image;t.src=o.result,t.onload=function(){var t=this.width,s=this.height;(t>e||s>a)&&i(!1),i(!0)}}}})},handleFileChange:function(t){var e=this,a=t.target.files;if(console.log("handleFileChange -> file",a),a)if(L=0,console.log("handleFileChange -> this.uploadFiles",this.uploadFiles),this.limit&&a.length>this.limit)this.$message.warning("最多支持选择"+this.limit+"个文件");else{this.status=I.wait;var i=Array.prototype.slice.call(a);console.log("handleFileChange -> postFiles",i),i.forEach(function(t){e.handleStart(t)})}},handleStart:function(t){var e=this;if(t.status=E.wait,t.chunkList=[],t.uploadProgress=0,t.fakeUploadProgress=0,t.hashProgress=0,this.beforeUpload){if(console.log(this.uploadFiles.length),this.uploadFiles.length>=this.limitnum)return void this.$message.warning("最多添加"+this.limitnum+"个文件");var a=this.beforeUpload(t);a&&a.then&&a.then(function(a){e.uploadFiles.push(t)})}this.beforeUpload||this.uploadFiles.push(t)},handleUpload:function(){var t=this;return p()(u.a.mark(function e(){var a,i,s,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleUpload -> this.uploadFiles",t.uploadFiles),t.uploadFiles){e.next=3;break}return e.abrupt("return");case 3:t.status=I.uploading,a=t.uploadFiles,i=u.a.mark(function e(i){var s,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(L=i,!["secondPass","success","error"].includes(a[i].status)){e.next=4;break}return console.log("跳过已上传成功或已秒传的或失败的"),e.abrupt("return","continue");case 4:if(s=t.createFileChunk(a[i]),"resume"===a[i].status){e.next=14;break}return t.status=I.hash,e.next=9,t.calculateHash(s);case 9:if(a[i].hash=e.sent,t.status!==I.wait){e.next=13;break}return console.log("若清空或者状态为等待，则跳出循环"),e.abrupt("return","break");case 13:console.log("handleUpload -> hash",a[i].hash);case 14:return t.status=I.uploading,e.next=17,t.verifyUpload(a[i].name,a[i].hash);case 17:if(!e.sent.data.presence){e.next=24;break}a[i].status=E.secondPass,a[i].uploadProgress=100,t.isAllStatus(),e.next=33;break;case 24:return console.log("开始上传文件----》",a[i].name),a[i].status=E.uploading,o=t.getChunkStorage(a[i].hash),a[i].fileHash=a[i].hash,a[i].chunkList=s.map(function(t,e){var s=t.file;return{fileHash:a[i].hash,fileName:a[i].name,index:e,hash:a[i].hash+"-"+e,chunk:s,size:s.size,uploaded:o&&o.includes(e),progress:o&&o.includes(e)?100:0,status:o&&o.includes(e)?"success":"wait"}}),t.$set(a,i,a[i]),console.log("handleUpload ->  this.chunkData",a[i]),e.next=33,t.uploadChunks(a[i]);case 33:case"end":return e.stop()}},e,t)}),s=0;case 7:if(!(s<a.length)){e.next=18;break}return e.delegateYield(i(s),"t0",9);case 9:o=e.t0,e.t1=o,e.next="continue"===e.t1?13:"break"===e.t1?14:15;break;case 13:return e.abrupt("continue",15);case 14:return e.abrupt("break",18);case 15:s++,e.next=7;break;case 18:case"end":return e.stop()}},e,t)}))()},uploadChunks:function(t){var e=this;return p()(u.a.mark(function a(){var i;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("uploadChunks -> data",t),i=t.chunkList,a.abrupt("return",new m.a(function(){var a=p()(u.a.mark(function a(s,o){var l,r,n;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=i.filter(function(t){return!t.uploaded}).map(function(t){var e=t.fileHash,a=t.chunk,i=t.fileName,s=t.index,o=new FormData;return o.append("md5",e),o.append("file",a),o.append("fileName",s),{formData:o,index:s,fileName:i}}),console.log("uploadChunks -> requestDataList",l),a.prev=2,a.next=5,e.sendRequest(l,i);case 5:r=a.sent,console.log("uploadChunks -> chunkData",i),console.log("ret",r),a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),e.$message.error("亲 上传失败了,考虑重试下呦"+a.t0),a.abrupt("return");case 14:if(n=i.some(function(t){return!1===t.uploaded}),console.log("created -> isUpload",n),!n){a.next=20;break}alert("存在失败的切片"),a.next=29;break;case 20:return a.prev=20,a.next=23,e.mergeRequest(t);case 23:s(),a.next=29;break;case 26:a.prev=26,a.t1=a.catch(20),o();case 29:case"end":return a.stop()}},a,e,[[2,10],[20,26]])}));return function(t,e){return a.apply(this,arguments)}}()));case 3:case"end":return a.stop()}},a,e)}))()},sendRequest:function(t,e){var a=this;console.log("sendRequest -> forms",t),console.log("sendRequest -> chunkData",e);var i=0,s=t.length,o=this,l=[];return new m.a(function(r,n){for(var c=function c(){if(console.log("handler -> forms",t),t.length){var u=t.shift(),d=u.formData,m=u.index;$.post("upload/uploadSimple",d,{onUploadProgress:o.createProgresshandler(e[m]),cancelToken:new x.CancelToken(function(t){return a.cancels.push(t)}),timeout:0}).then(function(t){console.log("handler -> res",t),e[m].uploaded=!0,e[m].status="success",a.addChunkStorage(e[m].fileHash,m),i++,c()}).catch(function(i){if(console.log("handler -> this.status",a.status),![I.pause,I.wait].includes(a.status)){if(console.warn("出现错误",i),console.log("handler -> retryArr",l),"number"!=typeof l[m]&&(l[m]=0),e[m].status="warning",l[m]++,l[m]>=a.chunkRetry)return console.warn(" 重试失败--- > handler -> retryArr",l,e[m].hash),n("重试失败",l);console.log("handler -> retryArr[finished]",e[m].hash+"--进行第 "+l[m]+" '次重试'"),console.log(l),a.tempThreads++,t.push(u),c()}})}i>=s&&r("done")},u=0;u<a.tempThreads;u++)c()})},clearFiles:function(){this.$refs.upload.clearFiles()},mergeRequest:function(t){var e=this;return new m.a(function(a,i){var s=g()({md5:t.fileHash,fileName:t.name,fileChunkNum:t.chunkList.length},e.uploadArguments);$.post("upload/merge",s,{timeout:0}).then(function(i){if(2e3===i.data.code){t.status=E.success,console.log("mergeRequest -> data",t),D(t.fileHash),e.isAllStatus();var s=i.data.data;e.$emit("geturl",s),a()}else D(t.fileHash),t.status=E.error,e.status=I.wait,a()}).catch(function(e){console.log("mergeRequest -> err",e),t.status=E.error,i()})})},createFileChunk:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,a=[],i=0;i<t.size;)a.push({file:t.slice(i,i+e)}),i+=e;return console.log("createFileChunk -> fileChunkList",a),a},handlePause:function(){if(this.status=I.pause,this.uploadFiles.length){var t=this.uploadFiles[L];t.status=E.pause,t.fakeUploadProgress=t.uploadProgress,console.log("handlePause -> currentFile",t)}for(;this.cancels.length>0;)this.cancels.pop()("取消请求")},handleResume:function(){this.status=I.uploading,console.log("handleResume -> this.uploadFiles[fileIndex]",this.uploadFiles[L]),this.uploadFiles[L].status=E.resume,this.handleUpload()},verifyUpload:function(t,e){var a=this;return new m.a(function(i){var s=g()({md5:e,fileName:t},a.uploadArguments);$.get("upload/presence",{params:s}).then(function(t){if(console.log("verifyUpload -> res",t),2e3==t.data.code&&t.data.data.presence){var e=t.data.data.data;a.$emit("geturl",e)}i(t.data)}).catch(function(t){console.log("verifyUpload -> err",t)})})},calculateHash:function(t){var e=this;return console.log("calculateHash -> fileChunkList",t),new m.a(function(a){e.worker=new Worker("./hash.js"),e.worker.postMessage({fileChunkList:t}),e.worker.onmessage=function(t){var i=t.data,s=i.percentage,o=i.hash;e.uploadFiles[L]&&(e.uploadFiles[L].hashProgress=Number(s.toFixed(0)),e.$set(e.uploadFiles,L,e.uploadFiles[L])),o&&a(o)}})},createProgresshandler:function(t){var e=this;return console.log("createProgresshandler -> item",t),function(a){t.progress=parseInt(String(a.loaded/a.total*100)),e.fileProgress()}},fileProgress:function(){var t=this.uploadFiles[L];if(t){var e=t.chunkList.map(function(t){return t.size*t.progress}).reduce(function(t,e){return t+e}),a=parseInt((e/t.size).toFixed(2));t.fakeUploadProgress?a>t.fakeUploadProgress&&(t.uploadProgress=a,this.$set(this.uploadFiles,L,t)):(t.uploadProgress=a,this.$set(this.uploadFiles,L,t))}},addChunkStorage:function(t,e){var a=[e];console.log("addChunkStorage -> name, data",t,a);var i=y(t);b(t,i?[].concat(n()(i),a):a)},getChunkStorage:function(t){return y(t)},setAxios:function(){if(this.headers){for(var t in this.headers)$.defaults.headers.common[t]=this.headers[t];this.withCredentials&&($.defaults.withCredentials=!0),this.baseUrl&&($.defaults.baseURL=this.baseUrl),C=this.chunkSize}}},s()(w,"clearFiles",function(){console.log("清空文件"),L=0,this.handlePause(),this.worker&&this.worker.terminate(),this.status=I.wait,l()(this.$data,this.$options.data())}),s()(w,"isAllStatus",function(){var t=this.uploadFiles.every(function(t){return["success","secondPass","error"].includes(t.status)});console.log("mergeRequest -> isAllSuccess",t),t&&(this.status=I.done,this.$emit("success"))}),w)},T=(a("4FSf"),a("KHd+")),F=Object(T.a)(V,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"simple-upload-container"},[a("div",{staticClass:"total-progress"},[a("div",{staticClass:"btns"},[a("el-button-group",[a("el-button",{attrs:{disabled:t.changeDisabled}},[a("i",{staticClass:"el-icon-upload2 el-icon--left",attrs:{size:"mini"}}),t._v("选择文件\n          "),t.changeDisabled?t._e():a("input",{staticClass:"select-file-input",attrs:{type:"file",multiple:t.multiple,accept:t.accept,"οnclick":"f.outerHTML=f.outerHTML"},on:{change:t.handleFileChange}})]),t._v(" "),a("el-button",{attrs:{disabled:t.uploadDisabled},on:{click:t.handleUpload}},[a("i",{staticClass:"el-icon-upload el-icon--left",attrs:{size:"mini"}}),t._v("上传")]),t._v(" "),a("el-button",{attrs:{disabled:t.pauseDisabled},on:{click:t.handlePause}},[a("i",{staticClass:"el-icon-video-pause el-icon--left",attrs:{size:"mini"}}),t._v("暂停")]),t._v(" "),a("el-button",{attrs:{disabled:t.resumeDisabled},on:{click:t.handleResume}},[a("i",{staticClass:"el-icon-video-play el-icon--left",attrs:{size:"mini"}}),t._v("恢复")]),t._v(" "),a("el-button",{attrs:{disabled:t.clearDisabled},on:{click:t.clearFiles}},[a("i",{staticClass:"el-icon-video-play el-icon--left",attrs:{size:"mini"}}),t._v("清空")])],1),t._v(" "),t._t("header")],2)]),t._v(" "),a("div",{staticClass:"file-list"},[t.uploadFiles.length?a("el-collapse",{attrs:{accordion:""}},t._l(t.uploadFiles,function(e,i){return a("el-collapse-item",{key:i},[a("template",{slot:"title"},[a("div",{staticClass:"progress-box"},[a("div",{staticClass:"list-item"},[a("div",{staticClass:"item-name"},[a("span",[t._v(t._s(i+1)+"：名称："+t._s(e.name))])]),t._v(" "),a("div",{staticClass:"item-size"},[t._v("大小："+t._s(t._f("transformByte")(e.size)))]),t._v(" "),100!==e.hashProgress?a("div",{staticClass:"item-progress"},[a("span",[t._v(t._s("wait"===t.status?"准备读取文件":"正在读取文件")+"：")]),t._v(" "),a("el-progress",{attrs:{percentage:e.hashProgress}})],1):a("div",{staticClass:"item-progress"},[a("span",[t._v("文件进度：")]),a("el-progress",{attrs:{percentage:e.uploadProgress}})],1),t._v(" "),a("div",{staticClass:"item-status"},[a("i",{class:t.fileStatuIcon(e.status)}),t._v("\n                "+t._s(t._f("fileStatus")(e.status))+"\n              ")])])])]),t._v(" "),a("div",{staticClass:"item-chunk-box"},[a("el-table",{attrs:{data:e.chunkList,border:"","max-height":"300"}},[a("el-table-column",{attrs:{prop:"index",label:"#",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hash",label:"切片md5",align:"center","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"大小",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("transformByte")(e.row.size))+"\n              ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"uploaded",label:"是否完成",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.uploaded?"完成":"进行中")+"\n              ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"进度",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.status&&"wait"!==t.row.status?a("el-progress",{attrs:{percentage:t.row.progress,status:t.row.status}}):a("el-progress",{attrs:{percentage:t.row.progress}})]}}])})],1)],1)],2)})):t._e(),t._v(" "),t._t("tip")],2)])},[],!1,null,"44a0be14",null);F.options.__file="simple.vue";e.default=F.exports},Nbl0:function(t,e,a){"use strict";var i=a("u/Y0");a.n(i).a},Npir:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},data:function(){return{searchTime:[],searchData:{goods_id:"",orderno:"",user_nickname:"",startdate:"",enddate:"",status:"all",isfirst:"all",dotype:"all"},page_loading:!1,tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"order/getOrderList",data:t}).then(function(t){e.page_loading=!1,1==t.code?(console.log(t),e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})):l.Message.error(t.msg)}))},onReset:function(){this.setDataArr({searchData:{goods_id:"",orderno:"",user_nickname:"",startdate:"",enddate:"",status:"all",isfirst:"all",dotype:"all"},searchTime:[]}),this.getList()},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getFormatDate:function(t){return l.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},n=(a("bdqP"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单号","prefix-icon":"el-icon-search"},model:{value:t.searchData.orderno,callback:function(e){t.$set(t.searchData,"orderno",e)},expression:"searchData.orderno"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"购买者昵称"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入购买者昵称","prefix-icon":"el-icon-search"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"已支付",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未支付",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否开户"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.isfirst,callback:function(e){t.$set(t.searchData,"isfirst",e)},expression:"searchData.isfirst"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"开户",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"续费",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.dotype,callback:function(e){t.$set(t.searchData,"dotype",e)},expression:"searchData.dotype"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"管理",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"记账",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.onReset}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"user_nickname",label:"购买者昵称",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.user_nickname)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order_no",label:"订单号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.goods_name)),e.row.attr?a("span",[t._v(" | "+t._s(e.row.attr.attr_name))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isfirst",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.isfirst?a("span",[t._v("开户")]):2==e.row.isfirst?a("span",[t._v("续费")]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"real_price",label:"支付金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isfirst",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("已支付")]):0==e.row.status?a("span",[t._v("待支付")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"下单时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"4822675c",null);c.options.__file="list.vue";e.default=c.exports},OPQR:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("kxxL"),n=a("Bi68"),c=a("Z1g7"),u=a("fbG1"),d=a("bC1q"),m=a("ygAv"),f={components:{"pagination-box":n.default,"img-upload":c.default,"img-upload2":u.default,"mycity-select":d.default},mixins:[r.a],data:function(){return{siteCitys:{},dialogFormVisible:!1,formLabelWidth:"123px",form_type:"",form:{id:"",name:"",phone:"",status:"1",head_img_id:[],head_img_url:[],is_default:0,city_no:"",area_no:""},rules:{},searchData:{search_word:""},page_loading:!1,tableData:[],pagination:{}}},watch:{},created:function(){this.resetData({form:this.form}),this.getList()},methods:{getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onUploadedImg:function(t){this.form.head_img_id=t.res.id,this.form.head_img_url=t.res.url},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,m.requests("post",{url:"agent/getList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):m.Message.error(t.msg)}))},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},onSerch:function(){this.getList(this.searchData)},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dialogFormVisible=!0,this.form_type=t,s()(e).length>0&&(e.region_nos_info2=[],this.form=l()({},e),this.form.status=String(this.form.status))},doEditSubmit:function(){var t=this;1!=this.form.is_default||this.form.city_no?t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;m.requests("post",{url:"agent/editAgent",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(m.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):m.Message.error(e.msg)})}):this.$message({type:"error",message:"未选地区不得设为默认"})},doDel:function(t){var e=this;e.$confirm("该操作将永久删除记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading=!0,m.requests("post",{url:"agent/delete",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),m.Message.success("操作成功")):m.Message.error(t.msg)})}).catch(function(){})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,m.requests("post",{url:"agent/setStatus",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),m.Message.success("操作成功")):m.Message.error(t.msg)}))},getFormatDate:m.DataFun.getFormatDate,openPage:m.openPage}},p=(a("afry"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{attrs:{model:t.searchData}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xl:6,md:8,xs:24}},[a("el-form-item",{attrs:{label:"账号","label-width":"60px"}},[a("el-input",{model:{value:t.searchData.search_word,callback:function(e){t.$set(t.searchData,"search_word",e)},expression:"searchData.search_word"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit("add")}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"head_img",label:"头像",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.head_img?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.head_img)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"85",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/user/AgentEstates",data:{agent_id:e.row.id}})}}},[t._v("绑定楼盘")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit("edit",e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:"add"==t.form_type?"新增淘房师":"编辑淘房师",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":t.formLabelWidth,prop:"phone"}},[a("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),a("el-form-item",{ref:"head_img",attrs:{label:"头像","label-width":t.formLabelWidth,prop:"head_img"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,fileList:t.form.head_img_url,imgIds:t.form.head_img_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.form,"head_img_url",e)},"update:imgIds":function(e){t.$set(t.form,"head_img_id",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth,prop:"status"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("否")])],1),t._v(" "),a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.form.city_no,area_no:t.form.area_no,isMy:!0,model:"2",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.form,"city_no",e)},"update:area_no":function(e){t.$set(t.form,"area_no",e)}}}),t._v(" "),a("el-form-item",{attrs:{label:"区域默认淘房师","label-width":t.formLabelWidth,prop:"is_default"}},[a("el-radio",{attrs:{label:1},model:{value:t.form.is_default,callback:function(e){t.$set(t.form,"is_default",e)},expression:"form.is_default"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0},model:{value:t.form.is_default,callback:function(e){t.$set(t.form,"is_default",e)},expression:"form.is_default"}},[t._v("否")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"3188b37e",null);h.options.__file="AgentList.vue";e.default=h.exports},Oqp2:function(t,e,a){"use strict";var i=a("46P+");a.n(i).a},OuY4:function(t,e,a){"use strict";var i=a("acAG");a.n(i).a},PBsP:function(t,e,a){},PK5N:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("Z1g7"),c=a("kxxL"),u=a("xIHd"),d=a("fbG1"),m=a("ygAv"),f={components:{"pagination-box":r.default,"img-upload":n.default,"img-upload2":d.default},mixins:[c.a,u.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",searchData:{},tableData:[],formData:{name:"",img:"",cover_url:[],cover_id:[],price:0,price_total:0,price_str:"",built_area:0,rooms:"1",rooms_str:"",sale_status:"1",orientation:"1",house_purpose:[],building_id:""},default_src:"",pagination:{},rules:{name:[{required:!0,message:"请输入楼栋名称",trigger:"change"}]},estate_id:0,building:[]}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),this.$urlData&&this.$urlData.id&&(this.estate_id=this.$urlData.id),t.getList(t.searchData),this.getHousePurpose(),this.getOrientation(),this.getRooms(),this.getEstatesNewSaleStatus(),this.getBuildingList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;t.estate_id=this.estate_id,m.requests("post",{url:"estates/getEstatesnewHouseList",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.requests("post",{url:"estates/delEstateHouse",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.sale_status=String(this.formData.sale_status),this.formData.orientation=String(this.formData.orientation),this.formData.rooms=String(this.formData.rooms),this.default_src=this.$getRealImgUrl(this.formData.img)),this.dialogVisibleEdit=!0,console.log(this.formData)},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.estate_id=a.estate_id,m.requests("post",{url:"estates/editEstatesnewHouse",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},getBuildingList:function(){var t=this,e=t.estate_id;m.requests("post",{url:"estates/getBuildingList",data:{estate_id:e}}).then(function(e){t.building=e.data.list})},onUploadedImg:function(t){},openPage:m.openPage}},p=(a("PtpX"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入户型名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"户型名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"户型名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{ref:"img",attrs:{label:"上传户型图","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,fileList:t.formData.cover_url,imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"cover_url",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"sale_status",label:"销售状态","label-width":t.formLabelWidth}},t._l(t.const_estates_new_sale_status,function(e,i){return a("el-radio",{key:i,attrs:{label:String(i)},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v(t._s(e))])}))],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"参考价格-均价",prop:"price","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}}),t._v("元/㎡\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"参考价格-总价",prop:"price_total","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.price_total,callback:function(e){t.$set(t.formData,"price_total",e)},expression:"formData.price_total"}}),t._v("万元/套\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"参考价格",prop:"price_str","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入价格描述"},model:{value:t.formData.price_str,callback:function(e){t.$set(t.formData,"price_str",e)},expression:"formData.price_str"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"built_area",label:"建面","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.built_area,callback:function(e){t.$set(t.formData,"built_area",e)},expression:"formData.built_area"}}),t._v("㎡\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"rooms",label:"几居室","label-width":t.formLabelWidth}},t._l(t.const_rooms,function(e,i){return a("el-radio",{key:i,attrs:{label:String(i)},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}},[t._v(t._s(e))])}))],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"rooms_str",label:"居室描述","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入居室描述"},model:{value:t.formData.rooms_str,callback:function(e){t.$set(t.formData,"rooms_str",e)},expression:"formData.rooms_str"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"orientation",label:"朝向","label-width":t.formLabelWidth}},t._l(t.const_orientation,function(e,i){return a("el-radio",{key:i,attrs:{label:String(i)},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v(t._s(e))])}))],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"house_purpose",label:"建筑用途","label-width":t.formLabelWidth}},[a("el-checkbox-group",{attrs:{max:1},model:{value:t.formData.house_purpose,callback:function(e){t.$set(t.formData,"house_purpose",e)},expression:"formData.house_purpose"}},t._l(t.const_house_purpose,function(e,i){return a("el-checkbox",{key:i,attrs:{label:String(i)}},[t._v(t._s(e))])}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"所属楼栋",prop:"building_id","label-width":t.formLabelWidth}},[a("el-select",{attrs:{clearable:""},model:{value:t.formData.building_id,callback:function(e){t.$set(t.formData,"building_id",e)},expression:"formData.building_id"}},t._l(t.building,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"4329be0e",null);h.options.__file="EstatesnewHouse.vue";e.default=h.exports},PK5a:function(t,e,a){"use strict";var i=a("fKMK");a.n(i).a},PeaI:function(t,e,a){"use strict";var i=a("MCPW");a.n(i).a},PjLl:function(t,e,a){},PtpX:function(t,e,a){"use strict";var i=a("Gs3Z");a.n(i).a},PxF3:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=a("bC1q"),c=a("Bi68"),u=a("ygAv"),d={components:{"pagination-box":c.default,"img-upload":r.default,"mycity-select":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{name:"",status:"0",has_comment:"0",order:50,icon_category:"",pid:""},categoryList:[],searchTime:[],searchData:{status:"-1",has_comment:"-1",name:""},catelist:[],default_icon_category:"",rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}]},tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getCategoryList(),this.getList()},methods:{getCategoryList:function(){var t=this;u.requests("post",{url:"news/getCategoryListAll",data:{pid:9}}).then(function(e){if(1==e.code){t.setDataArr({categoryList:e.data});var a=new Array;a.id="all",a.title="全部",t.categoryList[0].children.unshift(a)}else u.Message.error(e.msg)})},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,u.requests("post",{url:"commentList/consultingComments",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):u.Message.error(t.msg)}))},getCateList:function(){var t=this;u.requests("get",{url:"news/getCateList"}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({catelist:e.data}):u.Message.error(e.msg)})},resetData:function(){this.setDataArr({form:{name:"",status:"0",has_comment:"0",order:0,pid:"",icon_category:""},default_icon_category:""}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t),this.default_icon_category=this.$getRealImgUrl(this.form.icon_category)),this.form.status=String(this.form.status),this.form.has_comment=String(this.form.has_comment),this.form.pid=String(this.form.pid)},onUploadedImg:function(t,e){var a=t.res.info;this.form[e]=a.url},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return!1;u.requests("post",{url:"news/categoryEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(u.Message.success("操作成功"),t.getList(),setTimeout(function(){t.doEditCancel()},1e3)):u.Message.error(e.msg)})})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,u.requests("post",{url:"news/categoryDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),u.Message.success("操作成功")):u.Message.error(t.msg)}))}).catch(function(){})},orderChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return u.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,u.requests("post",{url:"news/categoryChangeorder",data:{id:t,order:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),u.Message.success("操作成功")):u.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},switchChange:function(t,e,a){var i=this;if(!i.page_loading){if(i.page_loading=!0,"status"==a)var s="commentList/consultingCommentsReview",o={id:t,status:e};u.requests("post",{url:s,data:o}).then(function(t){i.page_loading=!1,1==t.code?(i.getList(),u.Message.success("操作成功")):u.Message.error(t.msg)})}},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},openPage:function(t){return u.openPage(t)}}},m=(a("HT7b"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"类别选择"}},[a("el-cascader",{attrs:{options:t.categoryList,props:{value:"id",label:"title"},"show-all-levels":!1},model:{value:t.searchData.cate_id,callback:function(e){t.$set(t.searchData,"cate_id",e)},expression:"searchData.cate_id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.user_name,callback:function(e){t.$set(t.searchData,"user_name",e)},expression:"searchData.user_name"}})],1),t._v(" "),a("mycity-select",{attrs:{province_no:t.searchData.province,city_no:t.searchData.city,area_no:t.searchData.area,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:province_no":function(e){t.$set(t.searchData,"province",e)},"update:city_no":function(e){t.$set(t.searchData,"city",e)},"update:area_no":function(e){t.$set(t.searchData,"area",e)}}}),t._v(" "),a("el-form-item",{attrs:{label:"文章名称"}},[a("el-input",{attrs:{placeholder:"请输入文章名称"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name_title",label:"文章名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"用户昵称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"评论内容",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"审核状态",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,"status")}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑类别":"新增类别",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"所属栏目","label-width":t.formLabelWidth,prop:"pid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}},t._l(t.catelist,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth,prop:"order"}},[a("el-input",{model:{value:t.form.order,callback:function(e){t.$set(t.form,"order",e)},expression:"form.order"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"评论功能","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.form.has_comment,callback:function(e){t.$set(t.form,"has_comment",e)},expression:"form.has_comment"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图标","label-width":t.formLabelWidth,prop:"icon_category"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1},default_src:t.default_icon_category,uploadedImg:function(e){return t.onUploadedImg(e,"icon_category")}},on:{"update:default_src":function(e){t.default_icon_category=e}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"408bf608",null);f.options.__file="consultingComments.vue";e.default=f.exports},Q2MI:function(t,e,a){},"QC+q":function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("VVsi"),n=a("ygAv"),c={components:{"select-tree":r.default},data:function(){return{btn_show_options:[{value:"1",label:"设置"},{value:"0",label:"不设置"}],status_options:[{value:"1",label:"在侧边栏显示"},{value:"0",label:"在侧边栏隐藏"}],type_options:[{value:"1",label:"有界面可访问菜单"},{value:"2",label:"无界面可访问菜单(接口)"},{value:"0",label:"只作为菜单"}],enable_options:[{value:"1",label:"启用"},{value:"0",label:"禁用"}],parent_id_options:[],form:{parent_id:"0",name:"",url:"",extra_urls:"",page:"",active_page:"",icon:"",sort:0,remark:"",type:"1",status:"1",btn_show:"0",enable:"1"},tableData:[],defaultProps:{children:"children",label:"name"},repastitle:"菜单添加"}},computed:{defaultCheckedKeys:function(){return[this.form.parent_id]}},created:function(){var t=l()(this.$urlData).length>0?this.$urlData:{};this.getList(),t.id&&this.getInfo(t.id)},methods:{getInfo:function(t){var e=this;n.requests("post",{url:"merchant/getMenuInfo",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(t.data.type=String(t.data.type),t.data.status=String(t.data.status),t.data.enable=String(t.data.enable),t.data.btn_show=String(t.data.btn_show),e.setDataArr({form:t.data,repastitle:"菜单编辑"})):n.Message.error(t.msg)})},getList:function(){var t=this;t.page_loading||(t.page_loading=!0,n.requests("post",{url:"merchant/getMenuList"}).then(function(e){if(t.page_loading=!1,1==e.code){var a=[{parent_id:0,id:0,name:"一级菜单"}].concat(e.data.list);t.setDataArr({tableData:a})}else n.Message.error(e.msg)}))},popoverHide:function(t){console.log(t),this.form.parent_id=t},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!"),!1;0==t.form.parent_id&&(t.form.btn_show=0),n.requests("post",{url:"merchant/menuEdit",data:s()({},t.form)}).then(function(t){1==t.code?(n.Message.success(t.msg),setTimeout(function(){n.openPage({url:-1})},800)):n.Message.error(t.msg)})})},cancelForm:function(){this.$refs.form.resetFields(),n.openPage({url:-1,hreftype:"navigateBack"})}}},u=(a("IQIp"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"repastitle"},[t._v(t._s(t.repastitle))]),t._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"120px",model:t.form}},[a("el-form-item",{attrs:{label:"上级",prop:"parent_id",rules:{required:!0,message:"请选择上级",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[t.tableData.length>0?a("select-tree",{staticStyle:{},attrs:{data:t.tableData,defaultProps:t.defaultProps,checkedKeys:t.defaultCheckedKeys},on:{popoverHide:t.popoverHide}}):t._e()],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"名称不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入名称","auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),0!=t.form.type?a("div",[a("el-form-item",{attrs:{label:"权限url",prop:"url",rules:{required:!0,message:"权限url不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入权限url,模块/控制器/方法?参数","auto-complete":"off"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"其他附加权限url",prop:"extra_urls"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入附加权限请求,多个以,隔开","auto-complete":"off"},model:{value:t.form.extra_urls,callback:function(e){t.$set(t.form,"extra_urls",e)},expression:"form.extra_urls"}})],1)],1),t._v(" "),t.form.parent_id>0?a("el-form-item",{attrs:{label:"上级按钮触发",rules:{required:!0,message:"权限url不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},t._l(t.btn_show_options,function(e){return a("el-radio",{key:e.value,attrs:{label:e.value},model:{value:t.form.btn_show,callback:function(e){t.$set(t.form,"btn_show",e)},expression:"form.btn_show"}},[t._v(t._s(e.label))])}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"页面路径",prop:"page"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入页面路径","auto-complete":"off"},model:{value:t.form.page,callback:function(e){t.$set(t.form,"page",e)},expression:"form.page"}})],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入图标","auto-complete":"off"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"icon"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入排序","auto-complete":"off"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入备注内容","auto-complete":"off"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.status_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),"0"==t.form.status?a("el-form-item",{attrs:{label:"菜单激活路径",prop:"active_page"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入左侧菜单hover路径","auto-complete":"off"},model:{value:t.form.active_page,callback:function(e){t.$set(t.form,"active_page",e)},expression:"form.active_page"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否启用",prop:"enable"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.enable,callback:function(e){t.$set(t.form,"enable",e)},expression:"form.enable"}},t._l(t.enable_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelForm}},[t._v("返 回")])],1)],1)],1)},[],!1,null,"51e1ea9c",null);d.options.__file="menuEdit.vue";e.default=d.exports},QCEY:function(t,e,a){"use strict";var i=a("80C+");a.n(i).a},QCJo:function(t,e,a){"use strict";var i=a("hBjY");a.n(i).a},QCS8:function(t,e,a){},QQK4:function(t,e,a){"use strict";var i=a("v3HQ");a.n(i).a},QRTe:function(t,e,a){},QUP5:function(t,e,a){"use strict";a.r(e);var i=a("ZY9c"),s={components:{VueQr:a.n(i).a},name:"QCode",props:{id_name:{type:String,default:""},value:{type:String,default:""},logoScale:{type:Number,default:.25},logoSrc:{type:String,default:""},bgSrc:{type:String,default:""},width:{type:Number,default:132},need_big:{type:Boolean,default:!1},big_width:{type:Number,default:600}},data:function(){return{margin:8,correctLevel:3,dotScale:.8,logoMargin:3,logoBackgroundColor:"#fff"}},watch:{},computed:{id_name_big:function(){return this.id_name+"_big"}},mounted:function(){},methods:{qrcodeImgClick:function(t){if(this.$refs[this.id_name_big]){var e=this.$refs[this.id_name_big].$el;this.$emit("onQrcodeImgClick",{bigImgSrc:e.currentSrc})}}}},o=(a("Nbl0"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qcode-box",on:{click:t.qrcodeImgClick}},[t._t("header"),t._v(" "),a("div",{staticClass:"qcode-item",attrs:{id:t.id_name}},[a("vue-qr",{attrs:{margin:t.margin,correctLevel:t.correctLevel,bgSrc:t.bgSrc,logoSrc:t.logoSrc,text:t.value,logoScale:t.logoScale,logoMargin:t.logoMargin,logoBackgroundColor:t.logoBackgroundColor,size:t.width,dotScale:t.dotScale}})],1),t._v(" "),t._t("footer"),t._v(" "),t.need_big?a("div",{staticClass:"qcode-bigitem",staticStyle:{display:"none"},attrs:{id:t.id_name_big}},[a("vue-qr",{ref:t.id_name_big,attrs:{margin:t.margin,correctLevel:t.correctLevel,bgSrc:t.bgSrc,logoSrc:t.logoSrc,text:t.value,logoScale:t.logoScale,logoMargin:t.logoMargin,logoBackgroundColor:t.logoBackgroundColor,size:t.big_width,dotScale:t.dotScale}})],1):t._e()],2)},[],!1,null,"eea09d1a",null);l.options.__file="QCodeForLogo.vue";e.default=l.exports},R7zJ:function(t,e,a){},"RB8/":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("bC1q"),c=(a("MCLT"),a("ygAv")),u={components:{"pagination-box":r.default,"mycity-select":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",searchTime:[],searchData:{vote_detail_id:"",region_no:"",startdate:"",enddate:"",nickname:""},page_loading:!1,tableData:[],pagination:{},caneditSource:!1,total:0,vote_detail_id:"",region_no:""}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.setDataArr({vote_detail_id:this.$urlData.vote_detail_id,region_no:this.$urlData.region_no,searchData:{vote_detail_id:this.$urlData.vote_detail_id,region_no:this.$urlData.region_no}}),this.vote_detail_id&&this.region_no?this.getList(this.searchData):this.$alert("缺失参数","提示",{confirmButtonText:"确定",callback:function(t){c.openPage({url:"/marketing/vote"})}})},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,c.requests("post",{url:"vote/getLogList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):c.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t),this.form.avatar=this.$getRealImgUrl(this.form.avatar))},openPage:c.openPage,getFormatDate:function(t){return c.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},d=(a("0aTa"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.nickname,callback:function(e){t.$set(t.searchData,"nickname",e)},expression:"searchData.nickname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t.getRealImgUrl(e.row.headimgurl)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 数据")],1)],1)],1)},[],!1,null,"1d72cdae",null);m.options.__file="voteLog.vue";e.default=m.exports},"Rl+W":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("7QZd"),u=a("bC1q"),d=a("fbG1"),m=a("glbJ"),f=a("TrUB"),p=a.n(f),h=a("Kw5r"),g=a("ygAv");h.default.use(p.a);var _={components:{"img-upload":r.default,"img-preview":c.default,"mycity-select":u.default,"img-upload2":d.default,Tinymce:m.default},mixins:[n.a,p.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{title:[{required:!0,message:"请输入名称",trigger:"change"}]},searchData:{status:"-1",type:"-1",region_no:""},tableData:[],formData:{name:"",status:"0",page_title:"",page_keywords:"",page_desc:"",region_no:"",type:"0",bgcolor:"",cover_url:[],cover_id:[],start_time:"",end_time:"",more_set:{day_limit:""},context_rule:""},old_region_no:"",type_list:["0","1"],previewShow:!1,previewSrc:""}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{showThat:function(t){var e=this,a=this.$baseconfig.host+t.row.wx_h5;this.$copyText(a).then(function(t){e.$message({message:"复制成功！",type:"success"})},function(t){e.$message.error(e.$t("prompt.copyFail"))})},changeCity:function(){},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;g.requests("post",{url:"Vote/getList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.old_region_no="",l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.bgcolor=this.formData.bgcolor?this.formData.bgcolor:"",this.formData.start_time=this.getFormatDate(this.formData.start_time),this.formData.end_time=this.getFormatDate(this.formData.end_time),this.formData.more_set=this.formData.more_set?this.formData.more_set:{day_limit:""},this.old_region_no=t.region_no,this.default_src=this.$getRealImgUrl(this.formData.cover_url)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;g.requests("post",{url:"Vote/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?g.Message.success("操作成功"):g.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){g.requests("post",{url:"Vote/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this;this.old_region_no!=this.formData.region_no&&this.formData.id?e.$confirm("检测到变更新的城市将会重置配置信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(a){e.formSubmit(t)}):e.formSubmit(t)},formSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,g.requests("post",{url:"Vote/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:g.openPage,getFormatDate:function(t){return g.DataFun.getFormatDate(t,2)}}},v=(a("gRNJ"),a("KHd+")),b=Object(v.a)(_,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("mycity-select",{attrs:{city_no:t.searchData.region_no,unlimitedCity:!0,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"region_no",e)}}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"活动名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"活动时间",align:"center",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.getFormatDate(e.row.start_time))+" -- "+t._s(t.getFormatDate(e.row.end_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/marketing/voteDetail",data:{vote_id:e.row.id,region_no:e.row.region_no}})}}},[t._v("模块配置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.showThat(e)}}},[t._v("复制链接")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"活动名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"页面标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_title,callback:function(e){t.$set(t.formData,"page_title",e)},expression:"formData.page_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"页面关键字","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_keywords,callback:function(e){t.$set(t.formData,"page_keywords",e)},expression:"formData.page_keywords"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"页面描述","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.page_desc,callback:function(e){t.$set(t.formData,"page_desc",e)},expression:"formData.page_desc"}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"每天限制投票","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.more_set.day_limit,callback:function(e){t.$set(t.formData.more_set,"day_limit",e)},expression:"formData.more_set.day_limit"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{ref:"cover_url",attrs:{label:"封面图","label-width":t.formLabelWidth,prop:"cover_url"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,fileList:t.formData.cover_url,thumb:{isthumb:1,width:750,height:750},imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"cover_url",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"context_rule",label:"投票规则",required:"","label-width":"80px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.formData.context_rule,callback:function(e){t.$set(t.formData,"context_rule",e)},expression:"formData.context_rule"}})],1),t._v(" "),"0"==t.formData.type?a("el-form-item",{ref:"bgcolor",attrs:{label:"底色选择","label-width":t.formLabelWidth,prop:"bgcolor"}},[a("el-color-picker",{attrs:{"el-color-picker":""},model:{value:t.formData.bgcolor,callback:function(e){t.$set(t.formData,"bgcolor",e)},expression:"formData.bgcolor"}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1),t._v(" "),a("img-preview",{attrs:{show:t.previewShow,src:t.previewSrc},on:{"update:show":function(e){t.previewShow=e}}})],1)},[],!1,null,"d634cdaa",null);b.options.__file="vote.vue";e.default=b.exports},RqI6:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":r.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{user_nickname:"",editscore:""},searchData:{sort:"id",user_nickname:""},page_loading:!1,tableData:[],pagination:{},caneditSource:!1,total:0}},created:function(){this.getList()},methods:{showEditSource:function(){this.caneditSource=!this.caneditSource,!1===this.caneditSource&&(this.form.editscore="")},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,n.requests("post",{url:"team/getTeamInfo",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):n.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t),this.form.avatar=this.$getRealImgUrl(this.form.avatar))},getFormatDate:function(t){return n.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("3DEm"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.sort,callback:function(e){t.$set(t.searchData,"sort",e)},expression:"searchData.sort"}},[a("el-option",{attrs:{label:"ID",value:"id"}}),t._v(" "),a("el-option",{attrs:{label:"注册时间",value:"create_time"}}),t._v(" "),a("el-option",{attrs:{label:"积分",value:"score"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"归属用户",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"team_name",label:"团队名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"join_user_count",label:"成员数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.member_total.member_count)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row))}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1)],1)},[],!1,null,"abb424d6",null);d.options.__file="teamInfo.vue";e.default=d.exports},Rr1V:function(t,e,a){"use strict";var i=a("njJi");a.n(i).a},"S+zT":function(t,e,a){"use strict";var i=a("zdrB");a.n(i).a},"S/mv":function(t,e,a){"use strict";var i=a("r9gY");a.n(i).a},SLKG:function(t,e,a){"use strict";var i=a("lfRA");a.n(i).a},SQTp:function(t,e,a){},SoI8:function(t,e,a){},"Ss/C":function(t,e,a){"use strict";a.r(e);var i=a("Z1g7"),s=a("z11e"),o=a("q/hb"),l=a("Xf8r"),r=a("VMOO"),n=a("lbmj"),c=a("Mr0s"),u=a("PK5N"),d=a("kxxL"),m=(a("ygAv"),{components:{"img-upload":i.default,"estates-edit":s.default,"estates-building":o.default,"buildingpricelog-list":l.default,"buildingphotos-list":r.default,"estates-open-time":n.default,"estatesnew-news":c.default,"estatesnew-house":u.default},mixins:[d.a],watch:{activeTab:function(t){this.$changeUrlData({activeTab:t})}},data:function(){return{activeTab:"1",url_id:0}},created:function(){this.url_id=this.$urlData&&this.$urlData.id?this.$urlData.id:0,this.activeTab=this.$urlData&&this.$urlData.activeTab?String(this.$urlData.activeTab):"1"},methods:{handleClick:function(t,e){console.log(t,e)}}}),f=(a("9XHa"),a("KHd+")),p=Object(f.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"楼盘信息",name:"1"}},["1"==t.activeTab?a("estates-edit"):t._e()],1),t._v(" "),t.url_id>0?a("el-tab-pane",{attrs:{label:"楼栋管理",name:"2"}},["2"==t.activeTab?a("estates-building"):t._e()],1):t._e(),t._v(" "),t.url_id>0?a("el-tab-pane",{attrs:{label:"户型管理",name:"7"}},["7"==t.activeTab?a("estatesnew-house"):t._e()],1):t._e(),t._v(" "),t.url_id>0?a("el-tab-pane",{attrs:{label:"楼盘相册",name:"3"}},["3"==t.activeTab?a("buildingphotos-list"):t._e()],1):t._e(),t._v(" "),t.url_id>0?a("el-tab-pane",{attrs:{label:"历史价格变化列表",name:"4"}},["4"==t.activeTab?a("buildingpricelog-list"):t._e()],1):t._e()],1)],1)},[],!1,null,"add88260",null);p.options.__file="estatesnew_edit.vue";e.default=p.exports},Syvo:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("Z1g7"),c=a("ygAv"),u={components:{"pagination-box":r.default,"img-upload":n.default},data:function(){return{siteCitys:{},dialogFormVisible:!1,formLabelWidth:"123px",form_type:"",form:{account:"",mobile:"",email:"",head_ico_id:"",head_ico_path:"",newpassword:"",newpassword2:"",role_id:"",status:"",region_nos_info:{},region_nos_info2:[]},rules:{},searchData:{account:""},page_loading:!1,tableData:[],pagination:{},roleList:[{id:-1,name:"超级管理员"}]}},watch:{form_type:function(t){var e=this;this.rules="add"==t?{account:[{required:!0,message:"请输入账号",trigger:"change"}],cover:[{required:!0,message:"请上传头像",trigger:"change"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"change"},{validator:function(t,a,i){(a=c.trim(a)).length<6?i(new Error("请输入至少6位密码")):(""!==e.form.newpassword2&&e.$refs.form.validateField("newpassword2"),i())},trigger:"change"}],newpassword2:[{required:!0,message:"请再次输入新密码",trigger:"change"},{validator:function(t,a,i){""===(a=c.trim(a))?i(new Error("请再次输入密码")):a!==e.form.newpassword?i(new Error("两次输入的新密码不一致")):i()},trigger:"change"}]}:{}}},created:function(){this.getList(),this.getRoleList(),this.getSiteCitys()},methods:{getSiteCitys:function(){var t=this;c.requests("post",{url:"city/siteCitys",data:{status:1}}).then(function(e){var a={};for(var i in e.data){var s=e.data[i];a[s.id]=s}t.siteCitys=a})},onUploadedImg:function(t){this.form.head_ico_id=t.res.info.id,this.form.head_ico_path=t.res.info.url,this.$refs.cover.clearValidate()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,c.requests("post",{url:"account/index",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):c.Message.error(t.msg)}))},getRoleList:function(){var t=this;c.requests("post",{url:"role/index"}).then(function(e){1==e.code?t.setDataArr({roleList:e.data.list}):c.Message.error(e.msg)})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},onSerch:function(){this.getList(this.searchData)},resetData:function(){this.setDataArr({form:{account:"",mobile:"",email:"",newpassword:"",newpassword2:"",role_id:"",status:"",region_nos_info:{},region_nos_info2:[]}})},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.dialogFormVisible=!0,this.form_type=t,s()(e).length>0&&(e.region_nos_info2=[],this.form=l()({},e),this.form.role_id=Number(this.form.role_id),this.form.status=String(this.form.status),this.form.region_nos_info))for(var a in this.form.region_nos_info=JSON.parse(this.form.region_nos_info),this.form.region_nos_info)this.form.region_nos_info2[a]=Number(this.form.region_nos_info[a].id)},doEditSubmit:function(){var t=this;for(var e in t.form.region_nos_info={},t.form.region_nos_info2){var a=t.siteCitys[t.form.region_nos_info2[e]];t.form.region_nos_info[e]={id:a.id,cname:a.cname,pid:a.pid,pcname:a.pcname}}t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;c.requests("post",{url:"account/edit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(c.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):c.Message.error(e.msg)})})},doDel:function(t){var e=this;1==t||e.page_loading||e.$confirm("该操作将永久删除记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading=!0,c.requests("post",{url:"account/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),c.Message.success("操作成功")):c.Message.error(t.msg)})}).catch(function(){})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,c.requests("post",{url:"account/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),c.Message.success("操作成功")):c.Message.error(t.msg)}))},getFormatDate:c.DataFun.getFormatDate}},d=(a("QQK4"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{attrs:{model:t.searchData}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xl:6,md:8,xs:24}},[a("el-form-item",{attrs:{label:"账号","label-width":"60px"}},[a("el-input",{model:{value:t.searchData.account,callback:function(e){t.$set(t.searchData,"account",e)},expression:"searchData.account"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit("add")}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"账号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"role_name",label:"用户角色",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:1==e.row.id},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"last_login_ip",label:"最后登录IP",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"最后登录时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getFormatDate(e.row.last_login_time,2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit("edit",{id:e.row.id,mobile:e.row.mobile,email:e.row.email,role_id:e.row.role_id,status:e.row.status,region_nos_info:e.row.region_nos_info,head_ico_path:e.row.head_ico_path,head_ico_id:e.row.head_ico_id})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",disabled:1==e.row.id},on:{click:function(a){1!=e.row.id&&t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:"add"==t.form_type?"新增用户":"编辑用户",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},["add"==t.form_type?a("el-form-item",{attrs:{label:"账号","label-width":t.formLabelWidth,prop:"account"}},[a("el-input",{model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":t.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":t.formLabelWidth,prop:"email"}},[a("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth,prop:"newpassword"}},[a("el-input",{model:{value:t.form.newpassword,callback:function(e){t.$set(t.form,"newpassword",e)},expression:"form.newpassword"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码","label-width":t.formLabelWidth,prop:"newpassword2"}},[a("el-input",{model:{value:t.form.newpassword2,callback:function(e){t.$set(t.form,"newpassword2",e)},expression:"form.newpassword2"}})],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"用户头像","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.form.head_ico_path,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.$set(t.form,"head_ico_path",e)}}})],1),t._v(" "),1!=t.form.id?a("el-form-item",{staticClass:"city-box",attrs:{label:"区域","label-width":t.formLabelWidth}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.form.region_nos_info2,callback:function(e){t.$set(t.form,"region_nos_info2",e)},expression:"form.region_nos_info2"}},t._l(t.siteCitys,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:t.id}})}))],1):t._e(),t._v(" "),1!=t.form.id?a("el-form-item",{attrs:{label:"勾选角色","label-width":t.formLabelWidth}},[a("div",[a("el-radio",{attrs:{label:-1,border:""},model:{value:t.form.role_id,callback:function(e){t.$set(t.form,"role_id",e)},expression:"form.role_id"}},[t._v("超级管理员")]),t._v(" "),t._l(t.roleList,function(e){return a("el-radio",{key:e.id,attrs:{label:e.id,border:""},model:{value:t.form.role_id,callback:function(e){t.$set(t.form,"role_id",e)},expression:"form.role_id"}},[t._v(t._s(e.name))])})],2)]):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"1ca67a24",null);m.options.__file="list.vue";e.default=m.exports},T1jY:function(t,e,a){"use strict";var i=a("qU0o");a.n(i).a},T3t0:function(t,e,a){"use strict";var i=a("8PLI");a.n(i).a},TMQI:function(t,e,a){},U3Wb:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},props:{show:{type:Boolean,default:function(){return!1}},city:{type:String,default:""}},data:function(){return{searchData:{cate_id:[9,"all"],name:"",status:"-1",city:""},categoryList:[],page_loading:!1,tableData:[],innerDialogVisible:!1,pagination:{}}},watch:{innerDialogVisible:function(t){this.$emit("update:show",t)},show:function(t){this.innerDialogVisible=t}},created:function(){this.getCategoryList(),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,t.city=this.city,l.requests("post",{url:"news/getList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):l.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},innerSelcetRow:function(t){this.innerDialogVisible=!1,this.$emit("innerFormData",t)},getCategoryList:function(){var t=this;l.requests("post",{url:"news/getCategoryListAll",data:{pid:9}}).then(function(e){if(1==e.code){t.setDataArr({categoryList:e.data});var a=new Array;a.id="all",a.title="全部",t.categoryList[0].children.unshift(a)}else l.Message.error(e.msg)})}}},n=(a("WhER"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"55%",title:"新房",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"类别"}},[a("el-cascader",{attrs:{options:t.categoryList,props:{value:"id",label:"title"},"show-all-levels":!1},model:{value:t.searchData.cate_id,callback:function(e){t.$set(t.searchData,"cate_id",e)},expression:"searchData.cate_id"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入文章名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"row-click":t.innerSelcetRow}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"112575b2",null);c.options.__file="Article.vue";e.default=c.exports},UDlm:function(t,e,a){"use strict";var i=a("8sCe");a.n(i).a},"Uw+K":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("I0Yi")),c=a("bC1q"),u=a("kxxL"),d=a("5/kW"),m=a("ygAv"),f={components:{"img-upload":r.default,"estates-new":n.default,"estates-new-tag":d.default,"mycity-select":c.default},mixins:[u.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",page_loading:"",rules:{},searchTime:[],searchData:{status:"-1",region_no:""},tableData:[],formData:{id:0,status:"0",type:"1",name:"",sort:"",city:"",bind_id:"",purpose_type:1},innerVisible:!1,innerVisibleTag:!1}},watch:{},created:function(){this.resetData({formData:this.formData},function(){}),this.getList(this.searchData)},methods:{changeType:function(){this.clearInner()},changeCity:function(){this.clearInner()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;m.requests("post",{url:"SearchWord/getList",data:t}).then(function(t){e.tableData=t.data.list})},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return m.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,m.requests("post",{url:"searchWord/changeSort",data:{id:t,sort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSearch(),m.Message.success("操作成功")):m.Message.error(t.msg)}))},switchChange:function(t,e){var a=this;m.requests("post",{url:"searchWord/changeStatus",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?m.Message.success("操作成功"):m.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.requests("post",{url:"searchWord/delete",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,m.requests("post",{url:"searchWord/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:m.openPage,onSearch:function(){this.getList(this.searchData)},changeInnerShow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(console.log(t),1==t){if(!this.formData.city)return void this.$message({type:"error",message:"请先选择城市"});this.innerVisible=!0}else 2==t&&(this.innerVisibleTag=!0)},innerFormData:function(t){console.log(t),this.formData.bind_id=t.id,this.formData.bind_name=t.name,console.log(this.formData)},clearInner:function(){this.formData.bind_name="",this.formData.bind_id=0}}},p=(a("PK5a"),a("KHd+")),h=Object(p.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}})],1)],1),t._v(" "),a("el-form-item",[a("mycity-select",{attrs:{city_no:t.searchData.region_no,unlimitedCity:!0,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"region_no",e)}}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"热搜词",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.type?a("el-tag",[t._v("楼盘")]):t._e(),t._v(" "),"2"==e.row.type?a("el-tag",[t._v("标签")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",width:"80",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"越大越靠前",size:"medium"},on:{change:function(a){t.sortChange(e.row.id,a)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"860px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"热搜词",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeType},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"楼盘",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"标签",value:"2"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.city,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"city",e)}}})],1)],1),t._v(" "),a("el-row",[1==t.formData.type?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:function(e){t.changeInnerShow(1)}}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.bind_id,callback:function(e){t.$set(t.formData,"bind_id",e)},expression:"formData.bind_id"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.bind_name,callback:function(e){t.$set(t.formData,"bind_name",e)},expression:"formData.bind_name"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1):t._e(),t._v(" "),2==t.formData.type?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请选择标签",prop:"forid_tag","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:function(e){t.changeInnerShow(2)}}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择标签"},model:{value:t.formData.bind_id,callback:function(e){t.$set(t.formData,"bind_id",e)},expression:"formData.bind_id"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择标签"},model:{value:t.formData.bind_name,callback:function(e){t.$set(t.formData,"bind_name",e)},expression:"formData.bind_name"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new-tag",{attrs:{show:t.innerVisibleTag},on:{"update:show":function(e){t.innerVisibleTag=e},innerFormData:t.innerFormData}})],1):t._e()],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"禁用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"410e17b7",null);h.options.__file="searchWord.vue";e.default=h.exports},Uz2U:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("IbCV"),n=a("kxxL"),c=a("ygAv"),u={components:{"auth-tree":r.default},mixins:[n.a],data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{id:0,name:"",remark:"",status:0},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"change"}]},tableData:[],roleMenusPageShow:!1,menu_roleinfo:{},tree_defultcheckedkeys:[],roleMenus:[],menuList:[]}},created:function(){this.resetData({form:this.form}),this.getList(),this.getMenuList()},methods:{getList:function(){var t=this;t.page_loading||(t.page_loading=!0,c.requests("post",{url:"role/index"}).then(function(e){if(t.page_loading=!1,1==e.code){t.setDataArr({tableData:[{id:-1,name:"超级管理员",remark:"超级管理员",status:1}].concat(e.data.list)})}else c.Message.error(e.msg)}))},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dialogFormVisible=!0,this.form_type=t,l()(e).length>0&&(this.form=s()({},e)),this.form.status=String(this.form.status)},doEditSubmit:function(){var t=this;-1!=t.form.id&&t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;c.requests("post",{url:"role/edit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(c.Message.success("操作成功"),t.getList(),setTimeout(function(){t.doEditCancel()},1e3)):c.Message.error(e.msg)})})},doDel:function(t){if(-1!=t){var e=this;e.page_loading||e.$confirm("该操作将永久删除记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading=!0,c.requests("post",{url:"role/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),c.Message.success("操作成功")):c.Message.error(t.msg)})}).catch(function(){})}},switchChange:function(t,e){if(-1!=t){var a=this;a.page_loading||(a.page_loading=!0,c.requests("post",{url:"role/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),c.Message.success("操作成功")):c.Message.error(t.msg)}))}},doMenuSubmit:function(t){var e=this;-1!=t.role_id&&(e.page_loading||(e.page_loading=!0,c.requests("post",{url:"role/editRoleMenus",data:{id:t.role_id,mymenu_ids:t.checked_keys}}).then(function(t){e.page_loading=!1,1==t.code?(e.list&&(e.list[id].status=val,e.setDataArr({tableData:e.list})),c.Message.success("操作成功")):c.Message.error(t.msg)})))},openRoleMenus:function(t){this.menu_roleinfo={id:t.id,name:t.name},this.getRoleMenusId(t.id)},closeroleMenus:function(){this.roleMenusPageShow=!1},getRoleMenusId:function(t){var e=this;e.page_loading||(e.page_loading=!0,c.requests("post",{url:"role/getRoleMenusId",data:{role_id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.setDataArr({roleMenus:t.data.list}),e.roleMenusPageShow=!0):c.Message.error(t.msg)}))},getMenuList:function(){var t=this;c.requests("post",{url:"menu/index"}).then(function(e){1==e.code?t.setDataArr({menuList:e.data.list}):c.Message.error(e.msg)})}}},d=(a("aE4a"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit("add")}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(-1==e.row.id?0:e.row.id)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"角色名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"角色描述",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{disabled:-1==e.row.id,"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{disabled:-1==e.row.id,type:"primary",size:"mini"},on:{click:function(a){t.openRoleMenus({id:e.row.id,name:e.row.name})}}},[t._v("设置权限")]),t._v(" "),a("el-button",{attrs:{disabled:-1==e.row.id,type:"primary",size:"mini"},on:{click:function(a){t.doEdit("edit",{id:e.row.id,name:e.row.name,remark:e.row.remark,status:e.row.status})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{disabled:-1==e.row.id,type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:"add"==t.form_type?"新增角色":"编辑角色",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"角色名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("开启")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("禁用")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e(),t._v(" "),t.menuList.length>0&&t.roleMenusPageShow?a("auth-tree",{ref:"authtree",attrs:{roleinfo:t.menu_roleinfo,data:t.menuList,pageShow:t.roleMenusPageShow,default_checkedKeys:t.roleMenus},on:{onClose:t.closeroleMenus,onSubmit:t.doMenuSubmit}}):t._e()],1)},[],!1,null,"754c9f24",null);m.options.__file="role.vue";e.default=m.exports},VAVW:function(t,e,a){"use strict";var i=a("okyx");a.n(i).a},VMOO:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("fbG1"),u=a("ygAv"),d={components:{"img-upload":r.default,"img-upload2":c.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{category_id:[{required:!0,message:"请选择类型",trigger:"change"}]},searchData:{estate_id:"",category_id:"-1"},tableData:[],formData:{category_id:"",cover:"",cover_url:[],cover_id:[],estate_id:""},categorys:[],estate_id:""}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.estate_id=t.$urlData.id,t.searchData.estate_id=t.$urlData.id,t.getBuildingPhotosCategory(),t.getList(t.searchData)},methods:{getBuildingPhotosCategory:function(){var t=this;u.requests("post",{url:"estates/getBuildingPhotosCategory"}).then(function(e){t.categorys=e.data})},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;u.requests("post",{url:"estates/getBuildingPhotosList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.category_id=String(this.formData.category_id),this.default_src=this.$getRealImgUrl(this.formData.cover)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){u.requests("post",{url:"estates/delBuildingPhotos",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.estate_id=a.estate_id,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,u.requests("post",{url:"estates/editBuildingPhotos",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:u.openPage}},m=(a("a3/U"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tb-top",staticStyle:{float:"right"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.category_id,callback:function(e){t.$set(t.searchData,"category_id",e)},expression:"searchData.category_id"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),t._l(t.categorys,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})],2)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:"/estates/estatesnew"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cover?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.cover)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(t.categorys[e.row.category_id]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"类型",prop:"category_id","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.category_id,callback:function(e){t.$set(t.formData,"category_id",e)},expression:"formData.category_id"}},t._l(t.categorys,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传封面","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1,width:750,height:750},"show-file-list":!1,fileList:t.formData.cover_url,imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"cover_url",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"1ffd8968",null);f.options.__file="BuildingPhotos.vue";e.default=f.exports},VRBp:function(t,e,a){"use strict";var i=a("bKOT");a.n(i).a},VVsi:function(t,e,a){"use strict";a.r(e);var i={name:"select-tree",props:{data:{type:Array,default:function(){return[]}},expand_all:{type:Boolean,default:function(){return!1}},defaultProps:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:function(){return!1}},clearable:{type:Boolean,default:function(){return!1}},collapseTags:{type:Boolean,default:function(){return!1}},nodeKey:{type:String,default:function(){return"id"}},checkStrictly:{type:Boolean,default:function(){return!1}},checkedKeys:{type:Array,default:function(){return[]}},size:{type:String,default:function(){return""}},height:{type:Number,default:function(){return 300}},selectStyle:{type:Object,default:function(){return{width:"100%"}}},treeStyle:{type:Object,default:function(){return{}}}},data:function(){return{isShowSelect:!1,options:[],selectedData:[],checkedIds:[],checkedData:[],popover_width:""}},mounted:function(){var t=this;t.$nextTick(function(){t.popover_width=t.$refs.select&&t.$refs.select.inputWidth?t.$refs.select.inputWidth:150,t.initCheckedData()})},methods:{setSelectOption:function(t){var e={};t&&(e.value=t.key,e.label=t.label,this.options=[],this.options.push(e),this.selectedData=t.key)},checkSelectedNode:function(t){var e=t[0];this.$refs.tree.setCurrentKey(e);var a=this.$refs.tree.getNode(e);this.setSelectOption(a)},checkSelectedNodes:function(t){this.$refs.tree.setCheckedKeys(t)},clearSelectedNode:function(){this.selectedData="",this.$refs.tree.setCurrentKey(null)},clearSelectedNodes:function(){for(var t=this.$refs.tree.getCheckedKeys(),e=0;e<t.length;e++)this.$refs.tree.setChecked(t[e],!1)},initCheckedData:function(){this.multiple?this.checkedKeys.length>0?this.checkSelectedNodes(this.checkedKeys):this.clearSelectedNodes():this.checkedKeys.length>0?this.checkSelectedNode(this.checkedKeys):this.clearSelectedNode()},popoverHide:function(){this.multiple?(this.checkedIds=this.$refs.tree.getCheckedKeys(),this.checkedData=this.$refs.tree.getCheckedNodes()):(this.checkedIds=this.$refs.tree.getCurrentKey(),this.checkedData=this.$refs.tree.getCurrentNode()),this.$emit("popoverHide",this.checkedIds,this.checkedData)},handleNodeClick:function(t,e){this.multiple||(this.setSelectOption(e),this.isShowSelect=!this.isShowSelect,this.$emit("change",this.selectedData))},handleCheckChange:function(){var t=this,e=this.$refs.tree.getCheckedKeys();this.options=e.map(function(e){var a=t.$refs.tree.getNode(e),i={};return i.value=a.key,i.label=a.label,i}),this.selectedData=this.options.map(function(t){return t.value}),this.$emit("change",this.selectedData)},removeSelectedNodes:function(t){var e=this;this.$refs.tree.setChecked(t,!1);var a=this.$refs.tree.getNode(t);!this.checkStrictly&&a.childNodes.length>0&&(this.treeToList(a).map(function(t){t.childNodes.length<=0&&e.$refs.tree.setChecked(t,!1)}),this.handleCheckChange()),this.$emit("change",this.selectedData)},treeToList:function(t){var e=[],a=[];for(e=e.concat(t);e.length;){var i=e.shift();i.childNodes&&(e=e.concat(i.childNodes)),a.push(i)}return a},removeSelectedNode:function(){this.clearSelectedNode(),this.$emit("change",this.selectedData)},changeSelectedNodes:function(t){this.multiple&&t.length<=0&&this.clearSelectedNodes(),this.$emit("change",this.selectedData)}},watch:{isShowSelect:function(t){this.$refs.select.blur()},checkedKeys:function(t){t&&(this.checkedKeys=t,this.initCheckedData())}}},s=(a("bzi3"),a("KHd+")),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSelect,expression:"isShowSelect"}],staticClass:"mask",on:{click:function(e){t.isShowSelect=!t.isShowSelect}}}),t._v(" "),a("el-popover",{attrs:{placement:"bottom-start",width:t.popover_width,trigger:"manual"},on:{hide:t.popoverHide},model:{value:t.isShowSelect,callback:function(e){t.isShowSelect=e},expression:"isShowSelect"}},[a("el-tree",{ref:"tree",staticClass:"common-tree",style:t.treeStyle,attrs:{data:t.data,props:t.defaultProps,"show-checkbox":t.multiple,"node-key":t.nodeKey,"check-strictly":t.checkStrictly,"default-expand-all":t.expand_all,"expand-on-click-node":!1,"check-on-click-node":t.multiple,"highlight-current":!0},on:{"node-click":t.handleNodeClick,"check-change":t.handleCheckChange}}),t._v(" "),a("el-select",{ref:"select",staticClass:"tree-select",style:t.selectStyle,attrs:{slot:"reference",size:t.size,multiple:t.multiple,clearable:t.clearable,"collapse-tags":t.collapseTags},on:{"remove-tag":t.removeSelectedNodes,clear:t.removeSelectedNode,change:t.changeSelectedNodes},nativeOn:{click:function(e){t.isShowSelect=!t.isShowSelect}},slot:"reference",model:{value:t.selectedData,callback:function(e){t.selectedData=e},expression:"selectedData"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)},[],!1,null,"45102a9d",null);o.options.__file="SelectTree.vue";e.default=o.exports},VqUm:function(t,e,a){"use strict";var i=a("4+69");a.n(i).a},"Vuw+":function(t,e,a){},"W8y+":function(t,e,a){"use strict";var i=a("qM+O");a.n(i).a},WCvx:function(t,e,a){"use strict";var i=a("8Vtz");a.n(i).a},WX1K:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},data:function(){return{searchData:{name:"",status:"-1"},page_loading:!1,tableData:[],pagination:{}}},created:function(){console.log(this.$pageShowBtns),this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"mall/getGoodsList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):l.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,l.requests("post",{url:"mall/goodsDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),l.Message.success("操作成功")):l.Message.error(t.msg)}))}).catch(function(){})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,l.requests("post",{url:"mall/goodsEnable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),l.Message.success("操作成功")):l.Message.error(t.msg)}))},openPage:l.openPage}},n=(a("QCJo"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入商品名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"封面图",width:"85",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"62px",height:"62px"},attrs:{src:t.getRealImgUrl(e.row.cover)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",width:"180",label:"商品名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格/佣金",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("价格："+t._s(e.row.price))]),t._v(" "),a("div",[t._v("佣金："+t._s(e.row.commission))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"规格设置",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.attr,function(e,i){return a("div",{key:i},[t._v("名称："+t._s(e.attr_name)+" | 价格："+t._s(e.attr_price)+" | 佣金："+t._s(e.attr_commission))])})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"iscan",rawName:"v-iscan",value:"mall/goodsEdit",expression:'"mall/goodsEdit"'}],attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/mall/goodsEdit",data:{id:e.row.id}})}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"2b0c6928",null);c.options.__file="goodsList.vue";e.default=c.exports},WY79:function(t,e,a){"use strict";var i=a("tvK+");a.n(i).a},WhER:function(t,e,a){"use strict";var i=a("5y0Y");a.n(i).a},WmLb:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":r.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{user_nickname:"",editscore:""},searchData:{sort:"id",user_nickname:""},page_loading:!1,tableData:[],pagination:{},caneditSource:!1,total:0}},created:function(){this.getList()},methods:{showEditSource:function(){this.caneditSource=!this.caneditSource,!1===this.caneditSource&&(this.form.editscore="")},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,n.requests("post",{url:"team/getTeamList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):n.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t),this.form.avatar=this.$getRealImgUrl(this.form.avatar))},getFormatDate:function(t){return n.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},openPage:n.openPage}},u=(a("QCEY"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.sort,callback:function(e){t.$set(t.searchData,"sort",e)},expression:"searchData.sort"}},[a("el-option",{attrs:{label:"ID",value:"id"}}),t._v(" "),a("el-option",{attrs:{label:"注册时间",value:"create_time"}}),t._v(" "),a("el-option",{attrs:{label:"积分",value:"score"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"归属用户",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"team_name",label:"团队名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"join_user_count",label:"成员数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.member_total.member_count)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/user/teamInfo",data:{team_id:e.row.id,user_id:e.row.user_id}})}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1)],1)},[],!1,null,"2f8e7181",null);d.options.__file="teamList.vue";e.default=d.exports},WrMv:function(t,e,a){},"X/V2":function(t,e,a){},XKBR:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=(a("Zd91"),a("kxxL")),n=a("ygAv"),c={components:{},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",searchData:{status:"-1",is_custom:"-1",pid:""},tableData:[],formData:{status:"0",cname:"",id:"",pid:"",lng:"",lat:""}}},created:function(){this.pid=this.$urlData.pid,this.searchData.pid=this.pid,this.resetData({formData:this.formData}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;n.requests("post",{url:"city/siteAreas",data:t}).then(function(t){e.tableData=t.data})},openPage:n.openPage,doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0?(t.status=String(t.status),this.formData=s()({},t),this.formData.dotype="edit"):(this.formData.dotype="add",this.formData.is_custom=1),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.requests("post",{url:"city/siteAreasDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.pid=a.pid,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,n.requests("post",{url:"city/siteAreasEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},u=(a("0ZND"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"区域定义"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.is_custom,callback:function(e){t.$set(t.searchData,"is_custom",e)},expression:"searchData.is_custom"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"自定义",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"默认",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"区名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_custom",label:"区域定义",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_custom?a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("自定义")]):a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("默认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_custom",label:"经纬度",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.lng)+","+t._s(e.row.lat)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),1==e.row.is_custom?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[1==t.formData.is_custom?a("span",[a("el-form-item",{staticClass:"city-box",attrs:{label:"区名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.cname,callback:function(e){t.$set(t.formData,"cname",e)},expression:"formData.cname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"ID编码","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"经度","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.lng,callback:function(e){t.$set(t.formData,"lng",e)},expression:"formData.lng"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"纬度","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.lat,callback:function(e){t.$set(t.formData,"lat",e)},expression:"formData.lat"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"aa89d0f6",null);d.options.__file="areaList.vue";e.default=d.exports},XW9K:function(t,e,a){},Xcdu:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":r.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{},searchData:{sort:"id",customer_name:"",customer_mobile:""},page_loading:!1,tableData:[],pagination:{},total:0}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,n.requests("post",{url:"user/getCustomerList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):n.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t))},getFormatDate:function(t){return n.DataFun.getFormatDate(t,1)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("Rr1V"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.sort,callback:function(e){t.$set(t.searchData,"sort",e)},expression:"searchData.sort"}},[a("el-option",{attrs:{label:"ID",value:"id"}}),t._v(" "),a("el-option",{attrs:{label:"最近消费时间",value:"last_custtime"}}),t._v(" "),a("el-option",{attrs:{label:"消费总金额",value:"total_custmoney"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"客户名字","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入客户名字"},model:{value:t.searchData.customer_name,callback:function(e){t.$set(t.searchData,"customer_name",e)},expression:"searchData.customer_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户手机号","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入客户手机号"},model:{value:t.searchData.customer_mobile,callback:function(e){t.$set(t.searchData,"customer_mobile",e)},expression:"searchData.customer_mobile"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_name",label:"客户名字",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_mobile",label:"客户手机号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"归属人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"最近消费时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.last_custtime))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"消费总金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.total_custmoney)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row))}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1),t._v(" "),a("el-dialog",{staticClass:"user-dialog",attrs:{title:"用户信息",visible:t.dialogFormVisible,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{lg:17,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"归属人员","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.user_nickname))])]),t._v(" "),a("el-form-item",{attrs:{label:"客户名字","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.customer_name))])]),t._v(" "),a("el-form-item",{attrs:{label:"客户手机号","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.customer_mobile))])]),t._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(1==t.form.sex?"男":"女"))])]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.getFormatDate(t.form.create_time)))])]),t._v(" "),a("el-form-item",{attrs:{label:"最近消费","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.getFormatDate(t.form.last_custtime)))])]),t._v(" "),a("el-form-item",{attrs:{label:"消费次数","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.total_custnum))])]),t._v(" "),a("el-form-item",{attrs:{label:"消费总额","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.total_custmoney))])])],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.form.customer_name))]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:12,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"客户习惯","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.habit))])]),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.remark))])])],1)],1)],1)],1)],1)},[],!1,null,"7a2c44eb",null);d.options.__file="customerList.vue";e.default=d.exports},Xf8r:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=(a("Zd91"),a("Bi68")),n=a("kxxL"),c=a("ygAv"),u={components:{"pagination-box":r.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:!1,searchTime:[],searchData:{status:"-1",is_hot:"-1",id:""},tableData:[],value3:"",formData:{estate_id:"",city_no:"",change_time:"",new_price:""},pagination:{},total:0}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.resetData({formData:this.formData}),console.log(this.$urlData.id),this.searchData.id=this.$urlData.id,this.getList(this.searchData),this.getSysCitys(0,"provinces")},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("get",{url:"buildingPriceLog/list",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):c.Message.error(t.msg)})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getSysCitys:function(t,e){var a=this;c.requests("post",{url:"city/sysCitys",data:{pid:t}}).then(function(t){if(1==t.code){a[e]=[{id:0,cname:"不限制"}].concat(t.data),console.log(a[e])}else c.Message.error(t.msg)})},openPage:c.openPage,doEdit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s()(e).length>0){e.status=String(e.status),e.is_hot=String(e.is_hot),this.formData=l()({},e),this.formData.dotype="edit",this.provinceData=e.pid+"-"+e.pcname;var a=setInterval(function(){t.cityData?clearInterval(a):"edit"==t.formData.dotype?t.cityData=e.id+"-"+e.cname:t.cityData=""},800)}else this.formData.dotype="add";this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"city/siteCitysDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.estate_id=a.$urlData.id,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"buildingPriceLog/cityPriceLogEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("veWv"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tb-top",staticStyle:{float:"right"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:"/estates/estatesnew"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"change_time",label:"月份",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"更新时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"new_price",label:"变动价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 价格")],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"价格变动时间","label-width":"110px"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.formData.change_time,callback:function(e){t.$set(t.formData,"change_time",e)},expression:"formData.change_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"变动价格","label-width":"110px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.new_price,callback:function(e){t.$set(t.formData,"new_price",e)},expression:"formData.new_price"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"72f8e7fb",null);m.options.__file="buildingpricelog.vue";e.default=m.exports},Y325:function(t,e,a){"use strict";a.r(e);var i=a("rfXi"),s=a.n(i),o=a("jWXv"),l=a.n(o),r=a("Z1g7"),n=a("glbJ"),c=a("ygAv"),u=function(t,e,a){if("NaN"==parseFloat(e).toString())return a(new Error("排序必须是数字")),!1;a()},d={components:{Tinymce:n.default,"img-upload":r.default},data:function(){return{formData:{id:"",name:"",type:"0",cover:"",price:0,commission:0,commission_type:"0",sort:0,content:"",attr:[],status:"0"},rules:{name:[{required:!0,message:"请输入商品名称"}],sort:[{trigger:"blur",validator:u,message:"请输入数字"}],cover:[{required:!0,message:"请上传图片"}],content:[{required:!0,message:"请输入详情"}],price:[{required:!0,trigger:"blur",validator:u,message:"请输入数字"}],commission:[{required:!0,trigger:"blur",validator:u,message:"请输入数字"}]},default_src1:"",page_loading:!1}},computed:{inputDisabled:function(){var t=this.formData.attr.length>0;return 1==t?(this.rules.price=[{trigger:"blur",validator:u,message:"请输入数字"}],this.rules.commission=[{trigger:"blur",validator:u,message:"请输入数字"}]):(this.rules.price=[{required:!0,trigger:"blur",validator:u,message:"请输入数字"}],this.rules.commission=[{required:!0,trigger:"blur",validator:u,message:"请输入数字"}]),t}},created:function(){if(this.$urlData&&this.$urlData.id){if(!this.doMissId(this.$urlData.id))return;this.formData.id=this.$urlData.id,this.getInfo(this.formData.id)}else this.resetForm("formData")},methods:{addAttr:function(){return"NaN"==parseFloat(this.formData.price).toString()?(c.Message.error("价格请输入数字"),!1):"NaN"==parseFloat(this.formData.commission).toString()?(c.Message.error("佣金请输入数字"),!1):void this.formData.attr.push({attr_name:"",attr_commission:0,attr_commission_type:"0",attr_price:0})},removeAttr:function(t){this.formData.attr.splice(t,1)},getInfo:function(t){var e=this;e.page_loading||(e.page_loading=!0,c.requests("post",{url:"mall/getGoodsInfo",data:{id:t}}).then(function(t){if(e.page_loading=!1,1==t.code){var a=t.data;for(var i in a.attr||(a.attr=[]),a.attr)a.attr[i].attr_commission_type=String(a.attr[i].attr_commission_type);a.status=String(a.status),a.type=String(a.type),a.commission_type=String(a.commission_type),e.setDataArr({formData:a,default_src1:e.$getRealImgUrl(a.cover)})}else c.Message.error(t.msg)}))},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields&&this.$refs[t].resetFields(),this.setDataArr({formData:{id:"",name:"",type:"0",cover:"",price:0,commission:0,commission_type:"0",sort:0,content:"",attr:[],status:"0"},default_src1:""}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData(),this.$refs.editor&&this.$refs.editor.setContent("")},onUploadedImg:function(t){var e=t.res.info;this.formData.cover=e.url},submitForm:function(t){var e=this;if(e.formData.attr&&e.formData.attr.length>0){var a=[];for(var i in e.formData.attr){var o=e.formData.attr[i];a.push(o.attr_name)}var r=new l.a(a);if(r=s()(r),a.length!=r.length)return void c.Message.error("规格名称出现重复")}e.$refs[t].validate(function(t){e.page_loading||(e.page_loading=!0,c.requests("post",{url:"/mall/goodsEdit",data:e.formData}).then(function(t){console.log(t),e.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)}))})},doMissId:function(t){if(!t){var e=this;return this.$alert("缺少必要的id参数，请重新打开","提示",{confirmButtonText:"确定",callback:function(t){e.openPage({hreftype:"navigateBack",url:-1})}}),!1}return!0},openPage:c.openPage}},m=(a("foat"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapeditor_container"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("基础信息")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"name",label:"商品名称","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"price",label:"价格","label-width":"110px"}},[a("el-input",{attrs:{disabled:t.inputDisabled,placeholder:"请输入规格价格"},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"commission",label:"佣金","label-width":"110px"}},[a("el-input",{attrs:{disabled:t.inputDisabled,placeholder:"请输入佣金"},model:{value:t.formData.commission,callback:function(e){t.$set(t.formData,"commission",e)},expression:"formData.commission"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.formData.commission_type,callback:function(e){t.$set(t.formData,"commission_type",e)},expression:"formData.commission_type"}},[a("el-option",{attrs:{label:"比例类型",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"金额类型",value:"1"}})],1)],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{display:"none"},attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"commission",label:"类型",required:"","label-width":"110px"}},[a("span",{staticStyle:{"margin-left":"15px"}},[a("el-radio",{attrs:{label:"0"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[t._v("管理类型")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[t._v("记账类型")])],1)])],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"越大越靠前"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{display:"none"},attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"状态","label-width":"120px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"禁用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}})],1)],1)],1)],1),t._v(" "),t._l(t.formData.attr,function(e,i){return a("el-row",{key:i,staticClass:"mapeditor-content attr-box"},[a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"规格名称","label-width":"95px",prop:"attr."+i+".attr_name",rules:{required:!0,message:"规格名称不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.formData.attr[i].attr_name,callback:function(e){t.$set(t.formData.attr[i],"attr_name",e)},expression:"formData.attr[index].attr_name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"价格","label-width":"60px",prop:"attr."+i+".attr_price",rules:[{required:!0,message:"规格价格不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入规格价格"},model:{value:t.formData.attr[i].attr_price,callback:function(e){t.$set(t.formData.attr[i],"attr_price",e)},expression:"formData.attr[index].attr_price"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"级别等级","label-width":"80px",prop:"attr."+i+".level",rules:[{required:!0,message:"级别为数字",trigger:"blur"}]}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入级别"},model:{value:t.formData.attr[i].level,callback:function(e){t.$set(t.formData.attr[i],"level",e)},expression:"formData.attr[index].level"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"佣金","label-width":"60px",prop:"attr."+i+".attr_commission",rules:[{required:!0,message:"规格佣金不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入规格佣金"},model:{value:t.formData.attr[i].attr_commission,callback:function(e){t.$set(t.formData.attr[i],"attr_commission",e)},expression:"formData.attr[index].attr_commission"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.formData.attr[i].attr_commission_type,callback:function(e){t.$set(t.formData.attr[i],"attr_commission_type",e)},expression:"formData.attr[index].attr_commission_type"}},[a("el-option",{attrs:{label:"比例类型",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"金额类型",value:"1"}})],1)],1)],1)],1)],1)})],2),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n        图片上传\n        "),a("span",[t._v("(建议文件小于3M)")])]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"cover",label:"封面图","label-width":"90px"}},[a("img-upload",{ref:"imgUpload",attrs:{default_src:t.default_src1,url:"Upload/imgUpload",uploadedImg:t.onUploadedImg,thumb:{isthumb:1,width:480,height:480}},on:{"update:default_src":function(e){t.default_src1=e}}})],1)],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("详情信息")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:16,sm:20,xs:24}},[a("el-form-item",{attrs:{prop:"content",label:"内容详情",required:"","label-width":"90px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(e){t.submitForm("formData")}}},[t._v("保存")]),t._v(" "),t.formData.id?t._e():a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm("formData")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1)],1)},[],!1,null,"143c012a",null);f.options.__file="goodsEdit.vue";e.default=f.exports},Y40r:function(t,e,a){},YYhf:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("YEIV"),n=a.n(r),c=a("Z1g7"),u=(a("Zd91"),a("kxxL")),d=a("Bi68"),m=a("glbJ"),f=a("ygAv"),p={components:{"img-upload":c.default,"pagination-box":d.default,Tinymce:m.default},mixins:[u.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}]},searchData:{status:"0",searchData:"-1"},pagination:{},catelist:[],tableData:[],formData:n()({name:"",context:"",title:"",status:"1"},"context","")}},created:function(){this.getCateList();this.resetData({formData:this.formData}),this.getList(this.searchData)},methods:{pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;f.requests("post",{url:"PublicArticles/list",data:t}).then(function(t){e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})},getCateList:function(){var t=this;f.requests("get",{url:"news/getCateList",data:{pid:0,flag:"fx"}}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({catelist:e.data}):f.Message.error(e.msg)})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(888,this.formData),s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type)),console.log(999,this.formData),this.dialogVisibleEdit=!0},doEditCancel:function(t){var e=this;1==e.dialogVisibleEdit&&(e.dialogVisibleEdit=!1),setTimeout(function(){e.$refs[t].resetFields(),e.resetData()},20)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;f.requests("post",{url:"PublicArticles/edit",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?f.Message.success("操作成功"):f.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f.requests("post",{url:"PublicArticles/delete",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,f.requests("post",{url:"PublicArticles/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},h=(a("7bk9"),a("KHd+")),g=Object(h.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"2"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":2},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"标题名称",prop:"title","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入名称"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1)],1),t._v(" "),a("el-row",{staticClass:"mapeditor-content",attrs:{gutter:60}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"context",label:"内容详情",required:"","label-width":t.formLabelWidth}},[t.dialogVisibleEdit?a("Tinymce",{ref:"editor",model:{value:t.formData.context,callback:function(e){t.$set(t.formData,"context",e)},expression:"formData.context"}}):t._e()],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"2"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"35fb0ea3",null);g.options.__file="list.vue";e.default=g.exports},YwfV:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("ygAv"),l={name:"dy-tags",props:{dataList:{type:Array,default:function(){return[]}},form_attrs:{type:Object,default:function(){return{}}}},computed:{dataListOrderByName:function(){var t={},e={},a={};if(this.dataList){t=o.ArrayFun.ArraytoKeyObj(this.dataList,"name");var i=o.ArrayFun.ArraytoKeyObj(this.form_attrs,"name");for(var l in t){t[l];i[l]&&(e[l]=i[l],a[l]=i[l].val)}}return this.attrsValue=s()({},a),this.$emit("form_attrs:update",s()({},e)),t}},data:function(){return{attrsValue:{}}},methods:{onInputAttrs:function(t,e){var a=this.form_attrs;a||console.log("重新赋值需form_attrs设定为{}",a),a[e]={sort:this.dataListOrderByName[e].sort,name:this.dataListOrderByName[e].name,val:t},console.log(a),this.$emit("form_attrs:update",a)}}},r=(a("UDlm"),a("KHd+")),n=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.dataListOrderByName,function(e){return a("el-col",{key:e.name,attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{label:e.name,"label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入数据点名称"},on:{change:function(a){return t.onInputAttrs(a,e.name)}},model:{value:t.attrsValue[e.name],callback:function(a){t.$set(t.attrsValue,e.name,a)},expression:"attrsValue[item.name]"}})],1)],1)}))},[],!1,null,"bdf23b5a",null);n.options.__file="DyInput.vue";e.default=n.exports},Z1g7:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),s={name:"img-upload",props:{url:{type:String,default:function(){return""}},thumb:{type:Object,default:function(){return{isthumb:0,width:90,height:90}}},default_src:{type:String,default:function(){return""}},auto_upload:{type:Boolean,default:function(){return!0}},uploadedImg:{type:Function},beforeUploadImage:{type:Function,default:function(){return!0}},uploadedImgForNew:{type:Function},limitM:{type:Number,default:function(){return 10.5}},width:{type:Number,default:function(){return 178}},height:{}},computed:{styleSet:function(){if(0==this.height||null==this.height)var t=this.width;else t=this.height;return"width:"+this.width+"px; height:"+t+"px; line-height:"+t+"px;"},default_realsrc:function(){return this.getRealImgUrl(this.default_src)}},data:function(){return{uploadLoading:!1,current_fileHandle:""}},created:function(){},methods:{resetData:function(){this.setDataArr({current_fileHandle:null}),this.$emit("update:default_src","")},_beforeUploadImage:function(t){var e=this.beforeUploadImage();if(1!=e)return this.$message.error(e),!1;"image/jpeg"===t.type||"image/png"===t.type||t.type;var a=this.limitM;t.size;return!0},changeUploadImage:function(t,e){var a=this,i=t.raw;if(1!=a._beforeUploadImage(i))return!1;if(!a.auto_upload&&window.FileReader){var s=new FileReader;s.readAsDataURL(i),s.onloadend=function(t){var e=t.currentTarget.result;a.$emit("update:default_src",e)}}a.current_fileHandle=i},uploadImage:function(t){var e=this;if(!e.uploadLoading){e.uploadLoading=!0;var a=this.$route.path.split("/"),s=a[1]?a[1]:"";if(s){if(e.auto_upload)o=t.file;else var o=e.current_fileHandle;var l=e.url,r={image:o,subpath:s};1==e.thumb.isthumb&&(r.isthumb=e.thumb.isthumb,r.width=e.thumb.width?e.thumb.width:90,r.height=e.thumb.height?e.thumb.height:90),i.requests("post",{url:l,data:r,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if(e.uploadLoading=!1,e.uploadedImgForNew)e.uploadedImgForNew({sub_that:e,res:t});else if(1==t.code){var a=t.data.info.url;e.$emit("update:default_src",a),e.uploadedImg&&e.uploadedImg({sub_that:e,res:t.data})}else i.Message.error(t.msg)})}else console.log("页面路径设置错误")}},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},o=(a("2I9k"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"string","http-request":t.uploadImage,"show-file-list":!1,"before-upload":t._beforeUploadImage,"on-change":t.changeUploadImage,"auto-upload":t.auto_upload,accept:"image/jpeg,image/png,image/gif"}},[t.default_src?a("img",{staticClass:"avatar",style:t.styleSet,attrs:{src:t.default_realsrc}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:t.styleSet}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.uploadLoading,expression:"uploadLoading"}],staticClass:"avatar-uploader-loading",style:t.styleSet,attrs:{"element-loading-background":"rgba(0, 0, 0, 0.8)"}})])],1)},[],!1,null,"e13b8a04",null);l.options.__file="ImgUpload.vue";e.default=l.exports},Zd91:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),s={name:"dy-tags",props:{data:{type:Array,default:function(){return[]}},button_name:{type:String,default:function(){return"添加标签"}},limitNum:{type:Number,default:function(){return 0}}},data:function(){return{inputVisible:!1,inputValue:"",inputErrorMsg:""}},methods:{isEmpty:function(t){return!(this.data.length>0)&&(this.inputErrorMsg=t,!0)},handleDel:function(t,e){this.data.splice(e,1),this.inputErrorMsg=""},showInput:function(){var t=this,e=this.data;0!=this.limitNum&&e.length>=this.limitNum?this.inputErrorMsg="选项设置已达到上限个数 "+this.limitNum+" 个":(this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()}))},oninputTagVal:function(){var t=this.inputValue,e=this.data;if(t){var a=i.ArrayFun.column(e,"name");if(-1!=i.ArrayFun.indexOfArr(a,t))this.inputErrorMsg="该选项名称已经存在，所以无添加该选项";else{var s=i.ArrayFun.getMaxOrMin(this.data,"sort","max");e.push({sort:Number(s)+1,name:t}),this.inputErrorMsg=""}}this.inputVisible=!1,this.inputValue=""}}},o=(a("LzTn"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag-content"},[t._l(t.data,function(e,i){return a("el-tag",{key:i,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){t.handleDel(e,i)}}},[t._v("\n    "+t._s(e.name)+"\n  ")])}),t._v(" "),t.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.oninputTagVal},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.oninputTagVal(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ "+t._s(t.button_name))]),t._v(" "),a("div",{staticClass:"el-form-item__error"},[t._v(t._s(t.inputErrorMsg))])],2)},[],!1,null,"7b1245a2",null);l.options.__file="DyTags.vue";e.default=l.exports},a0rh:function(t,e,a){},"a3/U":function(t,e,a){"use strict";var i=a("R7zJ");a.n(i).a},a8yI:function(t,e,a){"use strict";var i=a("nAtr");a.n(i).a},aBxp:function(t,e,a){"use strict";var i=a("hVcV");a.n(i).a},aE4a:function(t,e,a){"use strict";var i=a("2Dvj");a.n(i).a},aS7q:function(t,e,a){var i={"./App.vue":"Pf3K","./components/Breadcrumb/index.vue":"Y1Bl","./components/DyInput/DyInput.vue":"YwfV","./components/Hamburger/index.vue":"Tx5V","./components/InnerTable/EstatesImgs.vue":"kyiu","./components/InnerTable/EstatesNew.vue":"I0Yi","./components/InnerTable/EstatesNewTag.vue":"5/kW","./components/InnerTable/LiveRoom.vue":"lTwH","./components/SvgIcon/index.vue":"wAo7","./components/Tinymce/components/EditorImage.vue":"yzdO","./components/Tinymce/index.vue":"glbJ","./components/city/cityset.vue":"DqGA","./components/city/wxmenu.vue":"q2cZ","./components/common/AuthTree.vue":"IbCV","./components/common/CalculateUpload.vue":"hleA","./components/common/Clip.vue":"d+XH","./components/common/DownloadBase64img.vue":"8RjK","./components/common/DyTags.vue":"Zd91","./components/common/ImgPreview.vue":"7QZd","./components/common/ImgUpload.vue":"Z1g7","./components/common/ImgUpload2.vue":"fbG1","./components/common/MycitySelect.vue":"bC1q","./components/common/QCode.vue":"HrLS","./components/common/QCodeForLogo.vue":"QUP5","./components/common/SelectTree.vue":"VVsi","./components/common/VoiceUpload.vue":"FedZ","./components/common/VoiceUpload1.vue":"wfg/","./components/common/exportexcel.vue":"fqDt","./components/common/pagination.vue":"Bi68","./components/common/simple.vue":"NLI4","./components/page/Article.vue":"U3Wb","./components/page/ArticleRank.vue":"4JFi","./components/page/BuildingPhotos.vue":"VMOO","./components/page/CityPriceLogList.vue":"e7ju","./components/page/EstatesNewNews.vue":"Mr0s","./components/page/EstatesRank.vue":"ajkN","./components/page/EstatesnewBuilding.vue":"q/hb","./components/page/EstatesnewEdit.vue":"z11e","./components/page/EstatesnewHouse.vue":"PK5N","./components/page/EstatesnewOpenTime.vue":"lbmj","./components/page/buildingpricelog.vue":"Xf8r","./views/404.vue":"jNvO","./views/admin/areaList.vue":"XKBR","./views/admin/banner.vue":"sSgq","./views/admin/bannerPlace.vue":"N68V","./views/admin/baseset.vue":"J6CZ","./views/admin/businessArea.vue":"MfEU","./views/admin/cityList.vue":"bG5b","./views/admin/citytoptag.vue":"2EWK","./views/admin/column.vue":"nsTj","./views/admin/interestRate.vue":"s9wP","./views/admin/list.vue":"Syvo","./views/admin/menuedit.vue":"y20m","./views/admin/menulist.vue":"e7qq","./views/admin/rank.vue":"w1I0","./views/admin/rank_city.vue":"iSEo","./views/admin/role.vue":"Uz2U","./views/admin/sendpaylog.vue":"vFF5","./views/admin/streetList.vue":"fkcb","./views/admin/subwayList.vue":"vBf7","./views/build/new.vue":"D2pS","./views/build/tag.vue":"DF6x","./views/changePassword/index.vue":"3dpa","./views/commission/distributors.vue":"+R62","./views/commission/orderlist.vue":"9s5S","./views/commission/userWithdrawal.vue":"BpQL","./views/estates/citypricelog.vue":"p/s9","./views/estates/estatesnew.vue":"60bY","./views/estates/estatesnew_edit.vue":"Ss/C","./views/estates/estatesnew_house.vue":"5H1z","./views/estates/estatesnew_opentime.vue":"hYW7","./views/estates/searchWord.vue":"Uw+K","./views/estates/selectLog.vue":"bv3y","./views/estates/tag.vue":"BAVQ","./views/examine/comments.vue":"hakG","./views/extra/components/ExtraCheckbox.vue":"Jf9N","./views/extra/facilitie.vue":"sRQ/","./views/extra/nearby.vue":"KaCU","./views/extra/tag.vue":"dBdh","./views/layout/Layout.vue":"2c6e","./views/layout/components/AppMain.vue":"F35N","./views/layout/components/Navbar.vue":"oQr/","./views/layout/components/Sidebar/Item.vue":"ssOZ","./views/layout/components/Sidebar/Link.vue":"bITd","./views/layout/components/Sidebar/Logo.vue":"OZuN","./views/layout/components/Sidebar/SidebarItem.vue":"6cqe","./views/layout/components/Sidebar/index.vue":"MMau","./views/login/index.vue":"ntYl","./views/mall/goodsEdit.vue":"Y325","./views/mall/goodsList.vue":"WX1K","./views/mall/log.vue":"DElK","./views/marketing/coupon.vue":"8I+L","./views/marketing/liveRoom.vue":"+Wja","./views/marketing/signup.vue":"06OB","./views/marketing/signupLog.vue":"A83z","./views/marketing/subject.vue":"zwlo","./views/marketing/subjectConfig.vue":"KAGF","./views/marketing/vote.vue":"Rl+W","./views/marketing/voteDetail.vue":"9I0l","./views/marketing/voteLog.vue":"RB8/","./views/merchant/menuEdit.vue":"QC+q","./views/merchant/menuList.vue":"tsXt","./views/merchant/merchantList.vue":"JdwW","./views/news/category.vue":"y/Qe","./views/news/edit.vue":"i6Zo","./views/news/index.vue":"fGS7","./views/news/tag.vue":"oFJ8","./views/news/videoedit.vue":"lUuD","./views/news/videoindex.vue":"qkYM","./views/news/wxset.vue":"r2BO","./views/order/list.vue":"Npir","./views/publicArticles/list.vue":"YYhf","./views/user/AgentEstates.vue":"AEud","./views/user/AgentList.vue":"OPQR","./views/user/bookList.vue":"ESSz","./views/user/consultingComments.vue":"PxF3","./views/user/customerList.vue":"Xcdu","./views/user/propertyReviews.vue":"nbHh","./views/user/teamInfo.vue":"RqI6","./views/user/teamList.vue":"WmLb","./views/user/userList.vue":"oGLJ"};function s(t){var e=o(t);return a(e)}function o(t){var e=i[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="aS7q"},acAG:function(t,e,a){},afry:function(t,e,a){"use strict";var i=a("yhP4");a.n(i).a},ajkN:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("kxxL"),n=a("I0Yi"),c=a("ygAv"),u={name:"estates-rank",props:{type:{default:function(){return"1"}}},watch:{},components:{"estates-new":n.default},mixins:[r.a],computed:{},data:function(){return{region_id:0,code_type:"",dialogVisibleEdit:!1,innerVisible:!1,formLabelWidth:"123px",tableData:[],formData:{rank:"0",estate_id:"",deal:"",forid:"",forname:""},rules:{},searchData:{}}},created:function(){this.$urlData&&(this.$urlData.id&&(this.region_id=this.$urlData.id),this.$urlData.type&&(this.code_type=this.$urlData.type)),this.getList(),this.clearInner()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;t.type=e.type,t.region_id=e.region_id,c.requests("post",{url:"estates/getRank",data:t}).then(function(t){1==t.code?e.tableData=t.data:c.Message.error(t.msg)})},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.formData.deal="add",l()(t).length>0?(this.formData=s()({},t),this.formData.forname=t.estate,this.formData.forid=t.estate_id,this.formData.deal="edit"):this.clearInner(),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.type=a.type,a.formData.region_id=a.region_id,c.requests("post",{url:"estates/editRank",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.getList()):a.$message({type:"error",message:t.msg})}))})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"estates/editRank",data:{forid:t,region_id:a.region_id,deal:"del",type:a.type}}).then(function(t){0!=t.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.msg)})})},changeInnerShow:function(){this.innerVisible=!0},innerFormData:function(t){this.formData.forid=t.id,this.formData.forname=t.name},clearInner:function(){this.formData.forname="",this.formData.forid=0},openPage:c.openPage}},d=a("KHd+"),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:"/admin/rank_city"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"rank",label:"排名",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"estate_id",label:"楼盘ID",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"estate",label:"楼盘",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"region",label:"地区",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.estate_id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"排名",visible:t.dialogVisibleEdit,width:"860px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排名",prop:"rank","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{label:"排名",disabled:"edit"==t.formData.deal},model:{value:t.formData.rank,callback:function(e){t.$set(t.formData,"rank",e)},expression:"formData.rank"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),"city"==t.code_type?a("estates-new",{attrs:{region_no:t.region_id,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}}):t._e(),t._v(" "),"area"==t.code_type?a("estates-new",{attrs:{area_no:t.region_id,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}}):t._e()],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,null,null);m.options.__file="EstatesRank.vue";e.default=m.exports},bC1q:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("ygAv"),l={name:"mycity-select",props:{model:{default:function(){return"1"}},province_no:{default:function(){return""}},city_no:{default:function(){return""}},area_no:{default:function(){return""}},business_area_no:{default:function(){return""}},street_no:{default:function(){return""}},"label-width":{default:function(){return""}},isMy:{default:function(){return!1}},url:{default:function(){return"city/sysCitys"}},siteAreasUrl:{default:function(){return""}},unlimitedCity:{default:function(){return!1}}},watch:{provinceData2:function(t){this.$emit("update:province_no",t),1==this.showSelect.province&&(this.cityData2="",this.citys=[],this.getSysCitys("citys",{data:{pid:t}}))},cityData2:function(t){if(this.$emit("update:city_no",t),["2","3","4","5"].includes(this.model)){var e=this.myCitys[t];this.provinceData2=e&&e.pid?String(e.pid):""}if(this.areaData2="",this.areas=[],this.citys&&this.citys[t]){var a=this.citys[t];a.type="city",this.$emit("getMoreInfo",a)}1==this.showSelect.area&&(this.siteAreasUrl?this.getSysCitys("areas",{url:this.siteAreasUrl,data:{pid:t,status:1}}):this.getSysCitys("areas",{data:{pid:t}}))},areaData2:function(t){if(this.$emit("update:area_no",t),this.areas&&this.areas[t]){var e=this.areas[t];e.type="area",this.$emit("getMoreInfo",e)}this.businessAreaData2="",this.businessAreas=[],1==this.showSelect.businessArea&&this.getSysCitys("businessAreas",{url:"city/siteBusinessAreas",data:{area_no:t}}),this.streetData2="",this.streets=[],1==this.showSelect.street&&this.getSysCitys("streets",{url:"city/siteStreet",data:{area_no:t}})},businessAreaData2:function(t){if(this.businessAreas&&this.businessAreas[t]){var e=this.businessAreas[t];e.type="businessAreas",this.$emit("getMoreInfo",e)}this.$emit("update:business_area_no",t)},streetData2:function(t){if(this.streets&&this.streets[t]){var e=this.streets[t];e.type="streets",this.$emit("getMoreInfo",e)}this.$emit("update:street_no",t)},province_no:function(t){this.provinceData2=t?String(t):""},city_no:function(t){this.cityData2=t?String(t):""},area_no:function(t){this.areaData2=t?String(t):""},business_area_no:function(t){this.businessAreaData2=t?String(t):""},street_no:function(t){this.streetData2=t?String(t):""}},computed:{},data:function(){return{provinceData2:"",cityData2:"",areaData2:"",businessAreaData2:"",streetData2:"",provinces:"",citys:"",areas:"",businessAreas:"",streets:"",showSelect:{province:!0,city:!0,area:!0,businessArea:!1,street:!1},clearable:!0,myProvinces:{},myCitys:{}}},created:function(){var t=this;switch(1==this.isMy&&this.getMyCitys(),1==this.unlimitedCity&&(this.clearable=!1),this.model){case"2":this.showSelect={province:!1,city:!0,area:!0,businessArea:!1,street:!1};break;case"3":this.showSelect={province:!1,city:!0,area:!1,businessArea:!1,street:!1};break;case"4":this.showSelect={province:!1,city:!0,area:!0,businessArea:!0,street:!1};break;case"5":this.showSelect={province:!1,city:!0,area:!0,businessArea:!0,street:!0};break;default:this.showSelect={province:!0,city:!0,area:!0,businessArea:!1,street:!1}}this.province_no&&(this.provinceData2=String(this.province_no)),this.city_no&&(this.cityData2=String(this.city_no)),this.area_no&&setTimeout(function(){t.areaData2=String(t.area_no)},10),1==this.showSelect.province?this.getSysCitys("provinces",{data:{pid:0}}):["2","3","4","5"].includes(this.model)&&(this.citys=this.myCitys)},methods:{getSysCitys:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this;e.url||(e.url=a.url),e.data||(e.data={}),o.requests("post",{url:e.url,data:e.data}).then(function(e){if(1==e.code){var i={};for(var l in e.data){var r=e.data[l];i[r.id]=s()({},r)}a[t]=i}else o.Message.error(e.msg)})},getMyCitys:function(){var t=this.$store.getters.userinfo&&this.$store.getters.userinfo.region_nos_info?this.$store.getters.userinfo.region_nos_info:[];for(var e in this.myProvinces={},this.myCitys={},t){var a=t[e];this.myProvinces[a.pid]=a.pcname,this.myCitys[a.id]=s()({},a)}},changeRegion:function(t,e){this.$emit(e,t)}}},r=(a("gPYa"),a("KHd+")),n=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form-item",{staticClass:"city-box",attrs:{label:"城市","label-width":t.labelWidth}},[a("el-select",{staticClass:"select-box",style:1==t.showSelect.province?"display:inline-block;":"display:none;",attrs:{clearable:t.clearable,placeholder:"请选择省份"},on:{change:function(e){t.changeRegion(e,"changeProvince")}},model:{value:t.provinceData2,callback:function(e){t.provinceData2=e},expression:"provinceData2"}},t._l(t.provinces,function(e){return a("span",{key:e.id},[t.myProvinces[e.id]?a("el-option",{attrs:{label:e.cname,value:String(e.id)}}):t._e()],1)})),t._v(" "),a("el-select",{staticClass:"select-box",style:1==t.showSelect.city?"display:inline-block;":"display:none;",attrs:{clearable:t.clearable,placeholder:"请选择城市"},on:{change:function(e){t.changeRegion(e,"changeCity")}},model:{value:t.cityData2,callback:function(e){t.cityData2=e},expression:"cityData2"}},[1==t.unlimitedCity?a("el-option",{attrs:{label:"全部",value:"-1"}}):t._e(),t._v(" "),t._l(t.citys,function(e){return a("span",{key:e.id},[t.myCitys[e.id]?a("el-option",{attrs:{label:e.cname,value:String(e.id)}}):t._e()],1)})],2),t._v(" "),a("el-select",{staticClass:"select-box",style:1==t.showSelect.area?"display:inline-block;":"display:none;",attrs:{clearable:t.clearable,placeholder:"请选择区级"},on:{change:function(e){t.changeRegion(e,"changeArea")}},model:{value:t.areaData2,callback:function(e){t.areaData2=e},expression:"areaData2"}},t._l(t.areas,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:String(t.id)}})})),t._v(" "),a("el-select",{staticClass:"select-box",style:1==t.showSelect.businessArea?"display:inline-block;":"display:none;",attrs:{clearable:t.clearable,placeholder:"请选择商圈"},on:{change:function(e){t.changeRegion(e,"changeBusinessArea")}},model:{value:t.businessAreaData2,callback:function(e){t.businessAreaData2=e},expression:"businessAreaData2"}},t._l(t.businessAreas,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:String(t.id)}})})),t._v(" "),a("el-select",{staticClass:"select-box",style:1==t.showSelect.street?"display:inline-block;":"display:none;",attrs:{clearable:t.clearable,placeholder:"请选择街道"},on:{change:function(e){t.changeRegion(e,"changeStreet")}},model:{value:t.streetData2,callback:function(e){t.streetData2=e},expression:"streetData2"}},t._l(t.streets,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:String(t.id)}})}))],1)},[],!1,null,"2d648f38",null);n.options.__file="MycitySelect.vue";e.default=n.exports},bG5b:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=(a("Zd91"),a("kxxL")),n=a("ygAv"),c={components:{},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",searchData:{status:"-1",is_hot:"-1",id:""},tableData:[],formData:{status:"0",is_hot:"0",province_no:"",province_name:"",city_no:"",city_name:"",sort:"",lng:"",lat:""},provinces:[],citys:[],provinceData:"",cityData:""}},watch:{provinceData:function(t){t=t.split("-"),this.formData.province_no=t[0],this.formData.province_name=t[1],this.cityData="",this.citys=[],this.formData.city_no="",this.formData.city_name="",0!=t&&this.getSysCitys(t[0],"citys")},cityData:function(t){t=t.split("-"),this.formData.city_no=t[0],this.formData.city_name=t[1]}},created:function(){this.resetData({formData:this.formData,provinceData:this.provinceData,cityData:this.cityData}),this.getList(this.searchData),this.getSysCitys(0,"provinces")},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;n.requests("post",{url:"city/siteCitys",data:t}).then(function(t){e.tableData=t.data})},getSysCitys:function(t,e){var a=this;n.requests("post",{url:"city/sysCitys",data:{pid:t}}).then(function(t){if(1==t.code){a[e]=[{id:0,cname:"不限制"}].concat(t.data),console.log(a[e])}else n.Message.error(t.msg)})},openPage:n.openPage,doEdit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(l()(e).length>0){e.status=String(e.status),e.is_hot=String(e.is_hot),this.formData=s()({},e),this.formData.dotype="edit",this.provinceData=e.pid+"-"+e.pcname;var a=setInterval(function(){t.cityData?clearInterval(a):"edit"==t.formData.dotype?t.cityData=e.id+"-"+e.cname:t.cityData=""},800)}else this.formData.dotype="add";this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.requests("post",{url:"city/siteCitysDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,n.requests("post",{url:"city/siteCitysEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},u=(a("Kx8n"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("span",[t._v("状态：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1),t._v(" "),a("span",[t._v("是否热门")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.is_hot,callback:function(e){t.$set(t.searchData,"is_hot",e)},expression:"searchData.is_hot"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"城市名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_hot",label:"是否热门",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_hot?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("是")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("否")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_hot",label:"经度",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.lng)+","+t._s(e.row.lat)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",width:"380",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/citytoptag",data:{region_no:e.row.id}})}}},[t._v("配置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/areaList",data:{pid:e.row.id}})}}},[t._v("区设置")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{staticClass:"city-box",attrs:{label:"城市","label-width":t.formLabelWidth}},[a("el-select",{attrs:{disabled:"edit"==t.formData.dotype,placeholder:"请选择"},model:{value:t.provinceData,callback:function(e){t.provinceData=e},expression:"provinceData"}},t._l(t.provinces,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:t.id+"-"+t.cname}})})),t._v(" "),a("el-select",{attrs:{disabled:"edit"==t.formData.dotype,placeholder:"请选择"},model:{value:t.cityData,callback:function(e){t.cityData=e},expression:"cityData"}},t._l(t.citys,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:t.id+"-"+t.cname}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否热门","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.is_hot,callback:function(e){t.$set(t.formData,"is_hot",e)},expression:"formData.is_hot"}},[a("el-radio",{attrs:{label:"1"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1),t._v(" "),t.formData.id?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"经度","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.lng,callback:function(e){t.$set(t.formData,"lng",e)},expression:"formData.lng"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"纬度","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.lat,callback:function(e){t.$set(t.formData,"lat",e)},expression:"formData.lat"}})],1)],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"a7cb28ba",null);d.options.__file="cityList.vue";e.default=d.exports},bK9C:function(t,e,a){},bKOT:function(t,e,a){},bYyu:function(t,e,a){"use strict";var i=a("dApw");a.n(i).a},bdqP:function(t,e,a){"use strict";var i=a("gW91");a.n(i).a},bv3y:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=(a("Zd91"),a("kxxL")),n=(a("xIHd"),a("Bi68"),a("bC1q")),c=a("ygAv"),u={components:{"mycity-select":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",page_loading:"",rules:{},searchTime:[],searchData:{status:"-1",region_no:""},tableData:[],formData:{id:0,status:"0",type:"1",name:"",sort:"",city:"",bind_id:"",purpose_type:1},innerVisible:!1,innerVisibleTag:!1}},watch:{},created:function(){this.resetData({formData:this.formData},function(){}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"SelectLog/getList",data:t}).then(function(t){e.tableData=t.data.list})},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"SelectLog/delete",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},openPage:c.openPage,onSearch:function(){this.getList(this.searchData)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},d=(a("gJyL"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}})],1)],1),t._v(" "),a("el-form-item",[a("mycity-select",{attrs:{city_no:t.searchData.region_no,unlimitedCity:!0,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"region_no",e)}}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.getRealImgUrl(e.row.headimgurl)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"用户昵称",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"真实姓名",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"860px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"买房目的",prop:"purpose","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:!0},model:{value:t.formData.purpose,callback:function(e){t.$set(t.formData,"purpose",e)},expression:"formData.purpose"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"是否首套",prop:"has_num","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:!0},model:{value:t.formData.has_num,callback:function(e){t.$set(t.formData,"has_num",e)},expression:"formData.has_num"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"预算",prop:"price","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:!0},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"想买的区域",prop:"region","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:!0},model:{value:t.formData.region,callback:function(e){t.$set(t.formData,"region",e)},expression:"formData.region"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"想住几居室",prop:"rooms","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:!0},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"想买多大面积",prop:"built_area","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:!0},model:{value:t.formData.built_area,callback:function(e){t.$set(t.formData,"built_area",e)},expression:"formData.built_area"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他偏好",prop:"feature_tag","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:!0},model:{value:t.formData.feature_tag,callback:function(e){t.$set(t.formData,"feature_tag",e)},expression:"formData.feature_tag"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他要求",prop:"other_requirements","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:"",placeholder:"",disabled:!0},model:{value:t.formData.other_requirements,callback:function(e){t.$set(t.formData,"other_requirements",e)},expression:"formData.other_requirements"}})],1)],1)],1)],1)],1)],1)},[],!1,null,"1bf44bfc",null);m.options.__file="selectLog.vue";e.default=m.exports},bzi3:function(t,e,a){"use strict";var i=a("jjsZ");a.n(i).a},cTHy:function(t,e,a){},cYoG:function(t,e,a){"use strict";var i=a("QCS8");a.n(i).a},cZde:function(t,e,a){"use strict";var i=a("6vPn");a.n(i).a},"d+XH":function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),s={name:"clip",props:{data:{type:String,default:function(){return""}},size:{type:String,default:function(){return""}}},data:function(){return{}},methods:{handleCopy:function(t,e){console.log(e),i.clip(t,e)}}},o=(a("wawg"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("el-button",{attrs:{size:t.size},on:{click:function(e){t.handleCopy(t.data,e)}}},[t._v("复制")])],1)},[],!1,null,"494a2287",null);l.options.__file="Clip.vue";e.default=l.exports},dApw:function(t,e,a){},dBdh:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("Jf9N"),c=a("g5Kx"),u=a("ygAv"),d={components:{"pagination-box":r.default,"extra-checkbox":n.default},data:function(){var t=this;return{dialogFormVisible:!1,formLabelWidth:"123px",form:{id:"",name:"",type:0,fordo:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}],type:[{required:!0,message:"缺少作用标识"}],fordo:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(""==t.form.fordo)return i(new Error("请点选要应用的模块")),!1;i()})}}]},check_dataAll:c.a.data,searchData:{name:"",type:0,fordo:""},page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,u.requests("post",{url:"extra/getExtraList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):u.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},onChecked:function(t,e){console.log(t),this.form.fordo=e?"all":t.join(",")},getCheckedsName:function(t){var e=t.split(","),a=[];for(var i in e)a[i]=c.a.getCheckedsName(e[i]);return a.join(" / ")},resetData:function(){this.setDataArr({form:{id:"",name:"",type:0,fordo:""}})},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.dialogFormVisible=!0,s()(t).length>0&&(e.form=l()({},t),e.form.fordo&&e.$nextTick(function(){e.$refs.extra_checkbox.setCheckeds(e.form.fordo)}))},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.page_loading||(t.page_loading=!0,u.requests("post",{url:"extra/extraEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(u.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):u.Message.error(e.msg)}))})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,u.requests("post",{url:"extra/extraDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),u.Message.success("操作成功")):u.Message.error(t.msg)}))}).catch(function(){})},openPage:function(t){return u.openPage(t)}}},m=(a("g4ro"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:!0,placeholder:"模块应用范围"},model:{value:t.searchData.fordo,callback:function(e){t.$set(t.searchData,"fordo",e)},expression:"searchData.fordo"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),t._l(t.check_dataAll,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"模块应用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("  \n          "+t._s(t.getCheckedsName(e.row.fordo))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,name:e.row.name,type:e.row.type,fordo:e.row.fordo})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑标签":"新增标签",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"作用标识","label-width":t.formLabelWidth,prop:"type"}},[a("el-input",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"模块应用","label-width":t.formLabelWidth,prop:"fordo"}},[a("extra-checkbox",{ref:"extra_checkbox",attrs:{dataAll:t.check_dataAll},on:{onChecked:t.onChecked}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)])},[],!1,null,"6cc2e56d",null);f.options.__file="tag.vue";e.default=f.exports},da4X:function(t,e,a){"use strict";var i=a("hZks");a.n(i).a},e7ju:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("YEIV"),l=a.n(o),r=a("kxxL"),n=a("xIHd"),c=a("ygAv"),u={name:"estates-new",mixins:[r.a,n.a],directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},props:l()({region_no:{default:function(){return""}},show:{type:Boolean,default:function(){return!1}},startTime:{default:function(){return""}},endTime:{default:function(){return""}},cityId:{default:function(){return""}}},"region_no",{default:function(){return""}}),watch:{innerDialogVisible:function(t){if(this.$emit("update:show",t),1==t){if(this.innerSearch.region_no==this.region_no&&this.innerTableData.length)return;console.log(this.cityId),this.innerSearch.city_id=this.cityId,this.innerSearch.region_no=this.region_no,this.onInnerSerch()}},show:function(t){this.innerDialogVisible=t},searchTime:function(t){t?(this.innerSearch.start_time=t[0],this.innerSearch.end_time=t[1]):(this.innerSearch.start_time="",this.innerSearch.end_time="")}},data:function(){return{url:"cityPriceLog/cityAreaPriceList",innerTableData:[],searchTime:[],innerDialogVisible:!1,innerSearch:{name:"",region_no:"",status:"",sale_status:"",recommend:"",start_time:"",end_time:""},innerLoads:{loadSign:!1,page:0,last_page:1}}},created:function(){},methods:{openPage:c.openPage,innerSelcetRow:function(t){this.innerDialogVisible=!1,this.$emit("innerFormData",t)},onInnerSerch:function(){this.getList(s()({page:1},this.innerSearch))},innerLoadMore:function(){this.getList(s()({page:this.innerLoads.page+1},this.innerSearch))},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;if(1!=e.innerLoads.loadSign){var a=t.page;t.field="en.name,en.id",1==a&&(e.innerLoads.last_page=1,e.innerTableData=[]),a>e.innerLoads.last_page||(e.innerLoads.loadSign=!0,c.requests("post",{url:e.url,data:t}).then(function(t){if(e.innerLoads.loadSign=!1,1==t.code){for(var a in t.data.list)e.innerTableData.push(t.data.list[a]);e.innerLoads.last_page=t.data.last_page,e.innerLoads.page=t.data.current_page}else c.Message.error(t.msg)}))}}}},d=(a("v1P1"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"55%",title:"区域",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.innerSearch}}),t._v(" "),a("el-table",{ref:"innerTable",staticStyle:{width:"100%"},attrs:{data:t.innerTableData,height:"350px","highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{property:"cname",label:"城市",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"new_price",width:"180",label:"变动价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"change_time",width:"180",label:"时间",align:"center"}})],1)],1)},[],!1,null,"97265a4c",null);m.options.__file="CityPriceLogList.vue";e.default=m.exports},e7qq:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),s={data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{name:"",remark:"",status:0},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"change"}]},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;t.page_loading||(t.page_loading=!0,i.requests("post",{url:"menu/index"}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({tableData:e.data.list}):i.Message.error(e.msg)}))},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,i.requests("post",{url:"menu/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),i.Message.success("操作成功")):i.Message.error(t.msg)}))}).catch(function(){})},openPage:i.openPage}},o=(a("uEHq"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/admin/menuedit"})}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"菜单名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"权限url",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"page",label:"页面路径",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("显示")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("隐藏")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/menuedit",data:{id:e.row.id}},"get")}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},[],!1,null,"d5136198",null);l.options.__file="menulist.vue";e.default=l.exports},eO1a:function(t,e,a){"use strict";var i=a("kKQ8");a.n(i).a},eUVE:function(t,e,a){},fGS7:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},data:function(){return{searchData:{cate_id:[9,"all"],name:"",status:"-1"},categoryList:[],page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getCategoryList(),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"news/getList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):l.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getCategoryList:function(){var t=this;l.requests("post",{url:"news/getCategoryListAll",data:{pid:9}}).then(function(e){if(1==e.code){t.setDataArr({categoryList:e.data});var a=new Array;a.id="all",a.title="全部",t.categoryList[0].children.unshift(a)}else l.Message.error(e.msg)})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},format9999Num:function(t){return t?(t>9999&&(t="9999 +"),t):0},formatDate:function(t){return l.DataFun.getFormatDate(t,2)},doDel:function(t,e){var a=this;a.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.page_loading||(a.page_loading=!0,l.requests("post",{url:"news/del",data:{id:t,p_cate_id:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),l.Message.success("操作成功")):l.Message.error(t.msg)}))}).catch(function(){})},sortChange:function(t,e,a){var i=this;if("NaN"==parseFloat(e).toString())return l.Message.error("排序必须是数字"),!1;i.page_loading||(i.page_loading=!0,l.requests("post",{url:"news/changeSort",data:{id:t,sort:e,p_cate_id:a}}).then(function(t){i.page_loading=!1,1==t.code?l.Message.success("操作成功"):l.Message.error(t.msg),i.onSerch()}))},switchChange:function(t,e,a){var i=this;i.page_loading||(i.page_loading=!0,l.requests("post",{url:"news/enable",data:{id:t,status:e,p_cate_id:a}}).then(function(t){i.page_loading=!1,1==t.code?l.Message.success("操作成功"):l.Message.error(t.msg),i.onSerch()}))},openPage:l.openPage}},n=(a("K6TW"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"类别选择"}},[a("el-cascader",{attrs:{options:t.categoryList,props:{value:"id",label:"title"},"show-all-levels":!1},model:{value:t.searchData.cate_id,callback:function(e){t.$set(t.searchData,"cate_id",e)},expression:"searchData.cate_id"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入文章名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"草稿",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/news/edit"})}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"封面图",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"110px",height:"110px"},attrs:{src:t.getRealImgUrl(e.row.cover)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"190",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"统计信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("span",[a("div",[t._v("真实阅读数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_read_real?t.format9999Num(e.row.num_read_real):0))])],1),t._v(" "),a("div",[t._v("真实收藏数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_collect_real?t.format9999Num(e.row.num_collect_real):0))])],1),t._v(" "),a("div",[t._v("真实转发数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_share_real?t.format9999Num(e.row.num_share_real):0))])],1),t._v(" "),a("div",[t._v("真实点赞数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_thumbup_real?t.format9999Num(e.row.num_thumbup_real):0))])],1)]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("span",[a("div",[t._v("阅读数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_read?t.format9999Num(e.row.num_read):0))])],1),t._v(" "),a("div",[t._v("收藏数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_collect?t.format9999Num(e.row.num_collect):0))])],1),t._v(" "),a("div",[t._v("转发数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_share?t.format9999Num(e.row.num_share):0))])],1),t._v(" "),a("div",[t._v("点赞数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_thumbup?t.format9999Num(e.row.num_thumbup):0))])],1)])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n           "+t._s(t.formatDate(e.row.release_time))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"发布状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.status1?a("el-tag",{attrs:{type:"info"}},[t._v("草稿 ")]):a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,e.row.p_cate_id)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"越大越靠前",size:"medium"},on:{change:function(a){t.sortChange(e.row.id,a,e.row.p_cate_id)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/news/edit",data:{p_cate_id:e.row.p_cate_id,id:e.row.id}})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id,e.row.p_cate_id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"50617ef2",null);c.options.__file="index.vue";e.default=c.exports},fKMK:function(t,e,a){},fbG1:function(t,e,a){"use strict";a.r(e);a("X4fA"),a("URgk");var i=a("ygAv"),s={name:"img-upload2",props:{url:{type:String,default:function(){return""}},doSort:{type:Boolean,default:function(){return!1}},fileList:{type:Array,default:function(){return[]}},thumb:{type:Object,default:function(){return{isthumb:1,width:90,height:90}}},upload_type:{type:String,default:function(){return"local"}},imgIds:{type:Array,default:function(){return[]}},uploadedImg:{type:Function},uploadedImgForNew:{type:Function},beforeRemoveForOpenAlert:{type:Boolean,default:function(){return!0}},width:{type:Number,default:function(){return 164}},limit:{type:Number,default:function(){return 1}},limitM:{type:Number,default:function(){return 5}}},computed:{styleSet:function(){if(!(this.fileList.length>2))return"width:"+this.width+"px; height:"+this.width+"px; line-height:"+this.width+"px;";this.hideUpload=this.fileList.length>=this.limit-1},preview_fileList:function(){return this.fileList}},data:function(){return{uploadLoading:!1,isPlaying:!1,dialogVisible:!1,dialogImageUrl:"",hideUpload:!1,imgHost:""}},created:function(){},updated:function(){},methods:{resetData:function(){this.setDataArr({uploadLoading:!1,hideUpload:!1}),this.$emit("update:fileList",[]),this.$emit("update:imgIds",[])},handleExceed:function(t,e){this.$message.warning("只允许上传"+this.limit+"个文件,若要更改请先移除")},beforeUploadImg:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type,a=this.limitM,i=t.size/1024/1024<a;return e||that.$message.error("上传图片只能是 JPG,PNG,GIF 格式!"),i||that.$message.error("上传文件大小不能超过 "+a+"M!"),e&&i},uploadImg:function(t){var e=this;if(!e.uploadLoading){e.uploadLoading=!0;var a=t.file;if(e.uploadedImgForNew)e.uploadedImgForNew({sub_that:e,res:res});else if("oss"==e.upload_type)i.uploadFileToOss({file:a,type:"image",success:function(t){e.uploadLoading=!1,e.fileList.push({name:t.name,url:t.url,sort:0}),e.uploadedImg&&e.uploadedImg({sub_that:e,res:t,fileList:e.fileList}),e.$emit("update:fileList",e.fileList)},fail:function(t){e.uploadLoading=!1,i.Message.error(t)}});else if("local"==e.upload_type){var s=this.$route.path.split("/"),o=s[1]?s[1]:"";if(!o)return void console.log("页面路径设置错误");var l=e.url,r={image:a,subpath:o};1==e.thumb.isthumb&&(r.isthumb=e.thumb.isthumb,r.width=e.thumb.width?e.thumb.width:90,r.height=e.thumb.height?e.thumb.height:90),i.requests("post",{url:l,data:r,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.uploadLoading=!1,1==t.code?(t=t.data&&t.data.info?t.data.info:"",e.fileList.push({name:t.name,url:t.url,sort:0}),e.imgIds.push(Number(t.id)),e.uploadedImg&&e.uploadedImg({sub_that:e,res:t,fileList:e.fileList}),e.$emit("update:fileList",e.fileList),e.$emit("update:imgIds",e.imgIds)):i.Message.error(t.msg)})}}},closeDialog:function(){this.dialogVisible=!1},handleRemove:function(t){this.fileList.splice(t,1),this.fileList.length<3&&(this.hideUpload=!1),this.imgIds.splice(t,1),this.$emit("update:imgIds",this.imgIds),this.$emit("update:fileList",this.fileList)},handlePreview:function(t){this.dialogImageUrl=this.getRealImgUrl(t),this.dialogVisible=!0},changeHide:function(){this.hideUpload=this.fileList.length>=this.limit-1},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},o=(a("16Xz"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-upload-content"},[a("ul",{staticClass:"el-upload-list el-upload-list--picture-card"},t._l(t.fileList,function(e,i){return t.fileList.length>0?a("li",{key:i,staticClass:"el-upload-list__item is-success",attrs:{tabindex:"0"}},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.getRealImgUrl(e.url)}}),t._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(a){t.handlePreview(e.url)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),t._v(" "),a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){t.handleRemove(i)}}},[a("i",{staticClass:"el-icon-delete"})])]),t._v(" "),t.doSort?a("el-form-item",{attrs:{prop:"integral",label:"排序","label-width":"50px"}},[a("el-input",{attrs:{maxlength:"3",placeholder:"越大越靠前"},model:{value:t.fileList[i].sort,callback:function(e){t.$set(t.fileList[i],"sort",e)},expression:"fileList[idx].sort"}})],1):t._e()],1):t._e()})),t._v(" "),a("el-upload",{ref:"imgUpload",staticClass:"img-upload",class:{hide:t.hideUpload},attrs:{action:"string","on-change":t.changeHide,"http-request":t.uploadImg,"before-upload":t.beforeUploadImg,limit:t.limit,"on-exceed":t.handleExceed,"show-file-list":!1,"list-type":"picture-card","file-list":t.fileList,"img-ids":t.imgIds,accept:"image/jpeg,image/png,image/gif"}},[a("div",{staticClass:"itemfile-box",style:t.styleSet},[a("i",{staticClass:"el-icon-plus"})])]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":!0},on:{close:t.closeDialog}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},[],!1,null,null,null);l.options.__file="ImgUpload2.vue";e.default=l.exports},fkcb:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=(a("Zd91"),a("kxxL")),n=a("bC1q"),c=a("ygAv"),u={components:{"mycity-select":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",searchData:{status:"-1"},tableData:[],formData:{status:"0",cname:"",area_no:"",city_no:""}}},created:function(){this.resetData({formData:this.formData}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"city/siteStreet",data:t}).then(function(t){e.tableData=t.data})},openPage:c.openPage,doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0?(t.status=String(t.status),this.formData=s()({},t),this.formData.dotype="edit"):this.formData.dotype="add",console.log(this.formData),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"city/siteStreetDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.pid=a.pid,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"city/siteStreetEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("DXEL"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("mycity-select",{attrs:{city_no:t.searchData.city_no,area_no:t.searchData.area_no,isMy:!0,model:"2",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"city_no",e)},"update:area_no":function(e){t.$set(t.searchData,"area_no",e)}}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"街道",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"区域",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.city_name)+" - "+t._s(e.row.area_name)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{staticClass:"city-box",attrs:{label:"街道名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.cname,callback:function(e){t.$set(t.formData,"cname",e)},expression:"formData.cname"}})],1),t._v(" "),a("mycity-select",{attrs:{"label-width":t.formLabelWidth,province_no:t.formData.province_no,city_no:t.formData.city_no,area_no:t.formData.area_no,isMy:!0,model:"2",siteAreasUrl:"city/siteAreas"},on:{"update:province_no":function(e){t.$set(t.formData,"province_no",e)},"update:city_no":function(e){t.$set(t.formData,"city_no",e)},"update:area_no":function(e){t.$set(t.formData,"area_no",e)}}}),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"5b0af4f6",null);m.options.__file="streetList.vue";e.default=m.exports},foat:function(t,e,a){"use strict";var i=a("JiQR");a.n(i).a},fqDt:function(t,e,a){"use strict";a.r(e);var i=a("4d7F"),s=a.n(i),o=a("ygAv"),l={name:"exportexcel-box",props:["setArr"],data:function(){return{exportExcelInt:{progressShow:!1,percentage:0,loading:!1}}},methods:{dialogClose:function(){this.exportExcelInt.progressShow=!1,this.exportExcelInt.loading=!1},exportExcel:function(){var t=this;if(t.setArr.post&&t.setArr.post.url){var e=t.setArr.post.url;if(t.setArr.filename){if(1!=t.exportExcelInt.loading){t.exportExcelInt.loading=!0,t.exportExcelInt.progressShow=!0,t.exportExcelInt.percentage=0;var i=Math.ceil(t.setArr.post.total/t.setArr.post.pagesize);if(i>10)return t.dialogClose(),void t.$message.error("导出的数据量太大，可缩小所需要的时间段");for(var l=[],r=0,n=1;n<=i;n++){var c=new s.a(function(t,e){u(n,t,e)});l.push(c)}s.a.all(l).then(function(e){for(var i=[],s=0;s<e.length;s++)for(var o=0;o<e[s].length;o++)i.push(e[s][o]);0!=t.exportExcelInt.loading&&Promise.all([a.e("chunk-4dd3"),a.e("chunk-f891")]).then(a.bind(null,"S/jZ")).then(function(e){var a=t.setArr.tHeader,s=function(t,e){return e.map(function(e){return t.map(function(t){return"timestamp"===t?parseTime(e[t]):e[t]})})}(t.setArr.filterVal,i);e.export_json_to_excel({header:a,data:s,filename:t.setArr.filename,autoWidth:!0}),t.exportExcelInt.loading=!1})})}}else console.log("缺少要保存的filename设置")}else console.log("缺少url");function u(a,s,l){setTimeout(function(){var n={};(n=t.setArr.post.data?t.setArr.post.data:{}).page=a,0!=t.exportExcelInt.loading&&o.requests("post",{url:e,data:n},t).then(function(e){var a;a=t.setArr.ajaxSuccess(e),1==e.status||1==e.code?(r++,t.exportExcelInt.percentage=100*r/i,s(a)):l()})},1e3*a)}}}},r=(a("3irV"),a("KHd+")),n=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"exportexcel-btn"},[a("el-button",{staticClass:"defult",on:{click:t.exportExcel}},[t._v("导出")])],1),t._v(" "),a("el-dialog",{staticClass:"dialog-progressbox",attrs:{title:"导出进度",visible:t.exportExcelInt.progressShow,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.$set(t.exportExcelInt,"progressShow",e)},close:t.dialogClose}},[a("div",{staticClass:"progressbox"},[a("el-progress",{attrs:{type:"circle",percentage:Number(t.exportExcelInt.percentage)}})],1)])],1)},[],!1,null,null,null);n.options.__file="exportexcel.vue";e.default=n.exports},g4ro:function(t,e,a){"use strict";var i=a("PBsP");a.n(i).a},g5Kx:function(t,e,a){"use strict";var i=a("ygAv"),s=[{key:"scenic",name:"景区管理"},{key:"interest",name:"好玩"},{key:"discover",name:"发现"},{key:"service",name:"服务"},{key:"news",name:"资讯"}];e.a={data:s,getCheckedsName:function(t){var e=s,a=i.ArrayFun.column(e,"key");if("all"==t)return"全部";if(t){var o=i.ArrayFun.indexOfArr(a,t);return s[o]?s[o].name:""}}}},gJyL:function(t,e,a){"use strict";var i=a("GnJy");a.n(i).a},gPYa:function(t,e,a){"use strict";var i=a("gUP5");a.n(i).a},gRNJ:function(t,e,a){"use strict";var i=a("Vuw+");a.n(i).a},gUP5:function(t,e,a){},gW91:function(t,e,a){},gZhi:function(t,e,a){},glbI:function(t,e,a){},glbJ:function(t,e,a){"use strict";a.r(e);var i=a("yzdO"),s=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],o=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],l=a("FyfS"),r=a.n(l),n=[];var c=function(t,e){var a=document.getElementById(t),i=e||function(){};if(!a){var s=document.createElement("script");s.src=t,s.id=t,document.body.appendChild(s),n.push(i),("onload"in s?function(e){e.onload=function(){this.onerror=this.onload=null;var t=!0,a=!1,i=void 0;try{for(var s,o=r()(n);!(t=(s=o.next()).done);t=!0){var l=s.value;l(null,e)}}catch(t){a=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(a)throw i}}n=null},e.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+t),e)}}:function(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e=!0,a=!1,i=void 0;try{for(var s,o=r()(n);!(e=(s=o.next()).done);e=!0){var l=s.value;l(null,t)}}catch(t){a=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}n=null}}})(s)}a&&i&&(window.tinymce?i(null,a):n.push(i))},u={name:"Tinymce",components:{editorImage:i.default},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?t+"px":t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;c("https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",function(e){e?t.$message.error(e.message):t.initTinymce()})},initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#"+this.tinymceId,language:this.languageTypeList.zh,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:o,menubar:this.menubar,plugins:s,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,relative_urls:!1,document_base_url:this.$baseconfig.imghost,init_instance_callback:function(a){e.value&&a.setContent(e.value),e.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",a.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'">')})}}},d=(a("MAml"),a("KHd+")),m=Object(d.a)(u,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container",class:{fullscreen:this.fullscreen},style:{width:this.containerWidth}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"59583f3d",null);m.options.__file="index.vue";e.default=m.exports},h4HO:function(t,e,a){"use strict";var i=a("6aMj");a.n(i).a},hBjY:function(t,e,a){},hVcV:function(t,e,a){},hYW7:function(t,e,a){"use strict";a.r(e);var i=a("Z1g7"),s=a("lbmj"),o=a("kxxL"),l=(a("ygAv"),{components:{"img-upload":i.default,"estates-open-time":s.default},mixins:[o.a],watch:{},data:function(){return{estate_id:0,building_id:0}},created:function(){this.$urlData&&(this.$urlData.estate_id&&(this.estate_id=this.$urlData.estate_id),this.$urlData.building_id&&(this.building_id=this.$urlData.building_id))},methods:{handleClick:function(t,e){console.log(t,e)}}}),r=(a("lHp3"),a("KHd+")),n=Object(r.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"_container"},[e("estates-open-time")],1)},[],!1,null,"4dd14d38",null);n.options.__file="estatesnew_opentime.vue";e.default=n.exports},hZks:function(t,e,a){},hakG:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{status:"0",reply:""},rules:{status:[{required:!0,validator:function(t,e,a){if("1"!=e&&"2"!=e)return a(new Error("请选择审核状态")),!1;a()},trigger:"change"}]},formtype:"",currentImg:"",dialogImgsVisible:!1,searchTime:[],searchData:{startdate:"",enddate:"",object_name:"",status:"0"},page_loading:!1,tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"comment/getList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):l.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getInfo:function(t){var e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"comment/getInfo",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.setDataArr({form:t.data,dialogFormVisible:!0}),e.form.status=String(e.form.status)):l.Message.error(t.msg)}))},resetData:function(){this.setDataArr({form:{name:"",describe:"",status:"0",reply:""},formtype:""})},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.formtype=t,e.id&&this.getInfo(e.id)},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;l.requests("post",{url:"comment/edit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(l.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):l.Message.error(e.msg)})})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,l.requests("post",{url:"comment/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),l.Message.success("操作成功")):l.Message.error(t.msg)}))}).catch(function(){})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},getFormatDate:l.DataFun.getFormatDate,openPage:l.openPage}},n=(a("I/z8"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"380px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入文章标题","prefix-icon":"el-icon-search"},model:{value:t.searchData.object_name,callback:function(e){t.$set(t.searchData,"object_name",e)},expression:"searchData.object_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"待审核",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"已通过",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未通过",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"object_name",label:"文章标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"grade",label:"评分",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.row.grade,callback:function(a){t.$set(e.row,"grade",a)},expression:"scope.row.grade"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"提交时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getFormatDate(e.row.create_time,2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"审核时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getFormatDate(e.row.check_time,2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["-1"==e.row.status?a("el-tag",{attrs:{effect:"plain"}},[t._v("全部")]):t._e(),t._v(" "),"0"==e.row.status?a("el-tag",{attrs:{effect:"plain"}},[t._v("待审核")]):t._e(),t._v(" "),"1"==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("已通过")]):t._e(),t._v(" "),"2"==e.row.status?a("el-tag",{attrs:{type:"info",effect:"dark"}},[t._v("未通过")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit("edit",{id:e.row.id})}}},[t._v("编辑")]):a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit("see",{id:e.row.id})}}},[t._v("查看")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),t.dialogFormVisible?a("el-dialog",{staticClass:"dialog-examine",attrs:{title:"审核",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"用户昵称","label-width":t.formLabelWidth}},[a("div",[t.form.avatar?a("img",{staticClass:"avatar",attrs:{src:t.getRealImgUrl(t.form.avatar)}}):t._e(),t._v(" "),a("span",{staticStyle:{"vertical-align":"text-bottom"}},[t._v(t._s(t.form.user_nickname))])])]),t._v(" "),a("el-form-item",{attrs:{label:"文章标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.object_name,callback:function(e){t.$set(t.form,"object_name",e)},expression:"form.object_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"评分","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.grade,callback:function(e){t.$set(t.form,"grade",e)},expression:"form.grade"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"评论内容","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),a("el-divider",[a("i",{staticClass:"el-icon-news"})]),t._v(" "),a("el-form-item",{attrs:{label:"审核状态","label-width":t.formLabelWidth,prop:"status"}},[(t.formtype,a("div",[a("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-radio",{attrs:{label:"2"}},[t._v("未通过")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("已通过")])],1)],1))]),t._v(" "),"1"==t.form.status?a("el-form-item",{attrs:{label:"官方回复","label-width":t.formLabelWidth,prop:"reply"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.form.reply,callback:function(e){t.$set(t.form,"reply",e)},expression:"form.reply"}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)])},[],!1,null,"a46eda8c",null);c.options.__file="comments.vue";e.default=c.exports},hleA:function(t,e,a){"use strict";a.r(e);var i=a("14Xm"),s=a.n(i),o=a("4d7F"),l=a.n(o),r=a("D3Ub"),n=a.n(r),c=a("QbLZ"),u=a.n(c),d={name:"CalculateUpload",components:{Simple:a("NLI4").default},data:function(){return{accepts:"image/png",acceptsObj:{video:["video/mp4"],image:["image/png","image/gif","image/jpeg","image/jpg","image/bmp","."],audio:["audio/mp3","audio/mpeg"],ppt:["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation",".ppt",".pptx"],excel:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]},acceptDesc:{video:"mp4",image:"png,gif,jpeg,jpg,bmp",audio:"mp3",ppt:"ppt",excel:"xls,xlsx"},uploadArguments:{type:"video"},limit:20,chunkSize:52428800,share:1}},computed:{headers:function(){return{Authorization:"token"}},baseUrl:function(){return"http://localhost:3000"},uploadType:function(){return this.uploadArguments.type},uploadArgumentsObj:function(){return u()({},this.uploadArguments,{share:this.share})}},created:function(){this.uploadType?this.accepts=this.acceptsObj[this.uploadType].join(","):this.$message("存在类型不正确的文件")},methods:{beforeUpload:function(t){var e=this;return console.log("beforeAvatarUpload -> file",t),-1===this.acceptsObj[this.uploadType].indexOf(t.type)?(this.$notify({message:"只能上传"+this.acceptDesc[this.uploadType],type:"warning",offset:50}),!1):t.size?this.propertyRestrictions(t):(setTimeout(function(){e.$notify({message:"不能上传大小为0的文件",type:"warning",offset:50})},500),!1)},fileLimitFn:function(t){this.$message.warning("最多支持选择"+this.limit+"个文件")},clearFiles:function(){this.$refs.upload.clearFiles()},success:function(){},propertyRestrictions:function(t){var e=this;return n()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new l.a(function(){var a=n()(s.a.mark(function a(i,o){var l;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("image"!==e.uploadType){a.next=6;break}return a.next=3,e.verifyResolution(t);case 3:l=a.sent,console.log("propertyRestrictions -> isVerifyResolution",l),l||(e.$message(e.$t("messageTips.notAbove4k")),o());case 6:i(!0);case 7:case"end":return a.stop()}},a,e)}));return function(t,e){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a,e)}))()},verifyResolution:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3840,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2160;return new l.a(function(i,s){var o=new FileReader;o.readAsDataURL(t),o.onload=function(){if(2===o.readyState){var t=new Image;t.src=o.result,t.onload=function(){var t=this.width,s=this.height;(t>e||s>a)&&i(!1),i(!0)}}}})}}},m=(a("yNc9"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mater-upload-container"},[a("Simple",{ref:"upload",attrs:{headers:t.headers,"before-upload":t.beforeUpload,accept:t.accepts,"upload-arguments":t.uploadArgumentsObj,limit:t.limit,"on-exceed":t.fileLimitFn,"base-url":t.baseUrl,"chunk-size":t.chunkSize},on:{success:t.success}},[a("div",{staticClass:"upload-tip",attrs:{slot:"tip"},slot:"tip"},[a("i",{staticClass:"el-icon-info"}),t._v(":\n      只能上传："+t._s(t.acceptDesc[t.uploadType])+"\n    ")])])],1)},[],!1,null,"ceeadc22",null);f.options.__file="CalculateUpload.vue";e.default=f.exports},hu2A:function(t,e,a){},i6Zo:function(t,e,a){"use strict";a.r(e);a("bG5b");var i=a("Z1g7"),s=a("glbJ"),o=a("fbG1"),l=a("FedZ"),r=a("wfg/"),n=a("bC1q"),c=a("I0Yi"),u=(a("g5Kx"),a("kxxL")),d=a("ygAv"),m={components:{"img-upload":i.default,"img-upload2":o.default,"voice-upload":l.default,"voice-upload1":r.default,"mycity-select":n.default,"estates-new":c.default,Tinymce:s.default},mixins:[u.a],data:function(){var t=function(t,e,a){if("NaN"==parseFloat(e).toString())return a(new Error(t.message)),!1;a()};return{formData:{id:"",source_link:"",cate_id:"",is_original:"0",name:"",sort:50,status:"0",context:"",lable:"",keyword:"",is_top:!1,is_index:!1,title:"",order_type:0,city_list:[],tags:[],resource_type:1,top_time:"",has_comment:"1",release_time:"",num_read:0,num_collect:0,img_url:[],img_ids:[],num_share:0,region_no:"",description:"",forid:"",forname:"",num_thumbup:0,is_propert_news:!1,recommend_place:[]},rules:{name:[{required:!0,message:"请输入名称"}],cate_id:[{required:!0,message:"请选择类别"}],sort:[{validator:t,trigger:"blur",message:"排序必须是数字"}],context:[{required:!0,message:"请输入内容详情"}],release_time:[{required:!0,message:"请设置发布时间"}],num_read:[{validator:t,trigger:"blur",message:"阅读数必须是数字"}],num_collect:[{validator:t,trigger:"blur",message:"收藏数必须是数字"}],num_share:[{validator:t,trigger:"blur",message:"转发数必须是数字"}],num_thumbup:[{validator:t,trigger:"blur",message:"点赞数必须是数字"}],lable:[{required:!0,message:"最少选择一个标签"}]},formLabelWidth:"123px",categoryList:[],tagList:[],nearbyList:[],facilitieList:[],selected_tags:[],selected_city:[],citylist:[],is_fy:!1,isIndeterminate:!1,checkAll:!1,default_src:"",innerVisible:!1,info:[],page_loading:!1}},watch:{selected_tags:function(t){this.formData.lable=t.join(",")},selected_city:function(t){this.formData.city_list=t?t.join(","):[]}},created:function(){var t=this;if(this.$urlData&&this.$urlData.id){if(!this.doMissId(this.$urlData.id))return;this.formData.id=this.$urlData.id,this.formData.p_cate_id=this.$urlData.p_cate_id,this.getInfo(this.formData.id,this.formData.p_cate_id)}else this.resetForm("formData");this.getTagList(),this.getCategoryList(),this.citylist=this.$store.getters.userinfo.region_nos_info,this.resetData({formData:this.formData,default_src:"",selected_tags:[]},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData(),t.$refs.editor&&t.$refs.editor.setContent("")})})},methods:{handleCheckAllChange:function(t){var e=this.citylist.map(function(t){return t.id});this.selected_city=t?e:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=this.citylist.map(function(t){return t.id}),a=t.length;this.checkAll=a===e.length,this.isIndeterminate=a>0&&a<e.length},getInfo:function(t,e){var a=this,i=this;i.page_loading||(i.page_loading=!0,d.requests("post",{url:"news/getInfo",data:{id:t,p_cate_id:e}}).then(function(t){if(i.page_loading=!1,1==t.code){var e=t.data;console.log(e),e.status=String(e.status),e.forid=Number(e.forid),e.order_type=e.order_type?Number(e.order_type):0,e.has_comment=String(e.has_comment),e.is_original=String(e.is_original),e.is_propert_news=Boolean(e.is_propert_news),e.is_top=0!=e.is_top,e.is_index=0!=e.is_index,e.recommend_place=e.recommend_place?e.recommend_place:[];var s=[],o=[];e.lable&&(s=e.lable.split(","));for(var l=0;l<s.length;l++)s[l]=Number(s[l]);e.city_list&&(o=e.city_list.split(","));for(var r=0;r<o.length;r++)o[r]=Number(o[r]);t.data.statistic&&(e.num_read=t.data.statistic.num_read,e.num_collect=t.data.statistic.num_collect,e.num_share=t.data.statistic.num_share,e.num_thumbup=t.data.statistic.num_thumbup),a.handleCheckedCitiesChange(o),i.setDataArr({formData:e,selected_tags:s,selected_city:o,default_src:i.$getRealImgUrl(e.cover)})}else d.Message.error(t.msg)}))},changeCity:function(t){this.clearInner()},changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0},setTopAndINdex:function(t){console.log(t)},clearUpload:function(){this.formData.video_url="",this.$refs.voideUpload.videoFlag=!0},setPropertNesData:function(t){t||this.clearInner()},getCategoryList:function(){var t=this;d.requests("post",{url:"news/getCategoryListAll",data:{pid:[9,20,24]}}).then(function(e){1==e.code?t.setDataArr({categoryList:e.data}):d.Message.error(e.msg)})},getTagList:function(t){var e=this;d.requests("post",{url:"news/getExtraIsTrueList"}).then(function(t){1==t.code?e.setDataArr({tagList:t.data}):d.Message.error(t.msg)})},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields&&this.$refs[t].resetFields(),this.resetData(),this.setDataArr({formData:{id:"",cate_id:"",name:"",is_original:"0",sort:50,status:"0",context:"",lable:"",keyword:"",is_top:!1,is_index:!1,title:"",order_type:0,tags:[],resource_type:1,city_list:[],top_time:"",has_comment:"1",release_time:"",num_read:0,num_collect:0,img_url:[],img_ids:[],num_share:0,region_no:"",forid:"",forname:"",num_thumbup:0,is_propert_news:!1,recommend_place:[],source_link:"",description:""},default_src:"",citylist:[],selected_tags:[]}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData(),this.$refs.editor&&this.$refs.editor.setContent("")},onUploadedImg:function(t){console.log(this.formData.img_ids)},submitForm:function(t){console.log(this.formData);var e=this;e.$refs[t].validate(function(t){if(!t)return e.page_loading=!1,console.log("error submit!!"),!1;e.page_loading||(e.page_loading=!0,e.formData.status=2==e.formData.status?0:e.formData.status,d.requests("post",{url:"/news/edit",data:e.formData}).then(function(t){console.log(t),e.page_loading=!1,1==t.code?(d.Message.success("操作成功"),setTimeout(function(){d.openPage({url:-1})},500)):(e.page_loading=!1,d.Message.error(t.msg))}))})},dosubmit:function(t){console.log(this.formData);var e=this;e.page_loading||(e.formData.name?(e.page_loading=!0,e.formData.status=2,d.requests("post",{url:"/news/edit",data:e.formData}).then(function(t){if(console.log(t),e.page_loading=!1,1==t.code)d.Message.success("操作成功"),console.log("234234"),this.openPage({url:"/news/index"});else try{e.page_loading=!1,d.Message.error(t.msg)}catch(t){console.log(11111)}})):d.Message.error("名称不能为空"))},setImgLimit:function(t){this.$refs.imgUpload&&this.$refs.imgUpload.resetData(),this.formData.img_ids=[]},doMissId:function(t){if(!t){var e=this;return this.$alert("缺少必要的id参数，请重新打开","提示",{confirmButtonText:"确定",callback:function(t){e.openPage({hreftype:"navigateBack",url:-1})}}),!1}return!0},openPage:d.openPage}},f=(a("xeHL"),a("KHd+")),p=Object(f.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapeditor_container"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("基础信息")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"name",label:"名称","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入文章名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"status",required:"",label:"状态","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"未启用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"草稿",value:"2"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sort",label:"排序","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"排序越大越靠前"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"release_time",label:"发布时间","label-width":"80px"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:t.formData.release_time,callback:function(e){t.$set(t.formData,"release_time",e)},expression:"formData.release_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"title",label:"副标题","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入副标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"keyword",label:"关键词","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"关键词用于seo优化 多个关键词用,号隔开"},model:{value:t.formData.keyword,callback:function(e){t.$set(t.formData,"keyword",e)},expression:"formData.keyword"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"has_comment",required:"",label:"评论功能","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.has_comment,callback:function(e){t.$set(t.formData,"has_comment",e)},expression:"formData.has_comment"}},[a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"order_type",required:"",label:"排列方式","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:t.setImgLimit},model:{value:t.formData.order_type,callback:function(e){t.$set(t.formData,"order_type",e)},expression:"formData.order_type"}},[a("el-option",{attrs:{label:"无图",value:0}}),t._v(" "),a("el-option",{attrs:{label:"单图",value:1}}),t._v(" "),a("el-option",{attrs:{label:"双图",value:2}}),t._v(" "),a("el-option",{attrs:{label:"三图",value:3}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"is_original",required:"",label:"状态","label-width":"90px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.is_original,callback:function(e){t.$set(t.formData,"is_original",e)},expression:"formData.is_original"}},[a("el-option",{attrs:{label:"非原创",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"原创",value:"1"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"is_propert_news",label:"是否房源信息","label-width":"120px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.setPropertNesData},model:{value:t.formData.is_propert_news,callback:function(e){t.$set(t.formData,"is_propert_news",e)},expression:"formData.is_propert_news"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"keyword",label:"原文链接","label-width":"90px"}},[a("el-input",{attrs:{placeholder:"如果是其他地方文章请输入原文链接"},model:{value:t.formData.source_link,callback:function(e){t.$set(t.formData,"source_link",e)},expression:"formData.source_link"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v(" 发布城市")])]),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"发布城市","label-width":"100px"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),t._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),t._v(" "),a("el-checkbox-group",{attrs:{size:"small"},on:{change:t.handleCheckedCitiesChange},model:{value:t.selected_city,callback:function(e){t.selected_city=e},expression:"selected_city"}},t._l(t.citylist,function(e){return a("el-checkbox",{key:e.id,attrs:{prop:"lable",label:e.id}},[t._v("\n              "+t._s(e.cname)+"\n            ")])}))],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v(" 附加信息设置")])]),t._v(" "),t.tagList.length?a("el-form-item",{attrs:{label:" 标签选择","label-width":"100px"}},t._l(t.tagList,function(e,i){return a("div",[e.children?a("el-row",[a("el-divider",[a("span",{staticStyle:{color:"#5A6066","font-size":"20px"}},[t._v(t._s(e.name))])]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.name+":","label-width":t.formLabelWidth}},[a("el-checkbox-group",{attrs:{size:"small"},model:{value:t.selected_tags,callback:function(e){t.selected_tags=e},expression:"selected_tags"}},t._l(e.children,function(e){return a("el-checkbox",{key:e.id,attrs:{prop:"lable",label:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}))],1)],1)],1):t._e()],1)})):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"推荐显示","label-width":"100px"}},[a("el-checkbox-group",{attrs:{size:"small"},model:{value:t.formData.recommend_place,callback:function(e){t.$set(t.formData,"recommend_place",e)},expression:"formData.recommend_place"}},[a("el-checkbox",{attrs:{label:"1"}},[t._v("置顶")]),t._v(" "),a("el-checkbox",{attrs:{label:"2"}},[t._v("首页")])],1)],1),t._v(" "),t.formData.recommend_place.includes("1")?a("el-form-item",{attrs:{prop:"top_time",required:"",label:"置顶到期时间","label-width":"120px"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.formData.top_time,callback:function(e){t.$set(t.formData,"top_time",e)},expression:"formData.top_time"}})],1):t._e(),t._v(" "),t.formData.is_propert_news?a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n          房源信息\n        ")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-col",{attrs:{span:12}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1)],1):t._e(),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n          统计信息设置\n        ")]),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_read",label:"阅读数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入阅读数 "},model:{value:t.formData.num_read,callback:function(e){t.$set(t.formData,"num_read",e)},expression:"formData.num_read"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_collect",label:"收藏数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入收藏数"},model:{value:t.formData.num_collect,callback:function(e){t.$set(t.formData,"num_collect",e)},expression:"formData.num_collect"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_share",label:"转发数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入转发数"},model:{value:t.formData.num_share,callback:function(e){t.$set(t.formData,"num_share",e)},expression:"formData.num_share"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_thumbup",label:"点赞数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入点赞数"},model:{value:t.formData.num_thumbup,callback:function(e){t.$set(t.formData,"num_thumbup",e)},expression:"formData.num_thumbup"}})],1)],1)],1),t._v(" "),0!=t.formData.order_type?a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n          图片上传\n          "),a("span",[t._v("(建议文件小于3M)")])]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-form-item",{ref:"cover",attrs:{label:"上传图片",prop:"upload"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1,width:1200},"show-file-list":!0,limit:Number(t.formData.order_type),fileList:t.formData.img_url,imgIds:t.formData.img_ids,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"img_url",e)},"update:imgIds":function(e){t.$set(t.formData,"img_ids",e)}}})],1)],1)],1):t._e(),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n          分享设置\n        ")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content",attrs:{gutter:60}},[a("el-col",{attrs:{lg:16,sm:20,xs:24}},[a("el-form-item",{attrs:{prop:"context",label:"文章描述",required:"","label-width":"80px"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n          内容详情\n        ")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content",attrs:{gutter:60}},[a("el-col",{attrs:{lg:16,sm:20,xs:24}},[a("el-form-item",{attrs:{prop:"context",label:"内容详情",required:"","label-width":"80px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.formData.context,callback:function(e){t.$set(t.formData,"context",e)},expression:"formData.context"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(e){t.submitForm("formData")}}},[t._v("保存")]),t._v(" "),t.formData.id?t._e():a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm("formData")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")]),t._v(" "),1!=t.formData.status?a("el-button",{attrs:{type:"info",icon:"el-icon-success"},on:{click:function(e){t.dosubmit("formData")}}},[t._v("草稿保存")]):t._e()],1)],1)],1)},[],!1,null,"4700cc50",null);p.options.__file="edit.vue";e.default=p.exports},iE9S:function(t,e,a){"use strict";var i=a("wQuv");a.n(i).a},iIDF:function(t,e,a){"use strict";var i=a("/gPe");a.n(i).a},iSEo:function(t,e,a){"use strict";a.r(e);var i=a("kxxL"),s=a("ygAv"),o={components:{},mixins:[i.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",searchData:{name:""},tableData:[],formData:{}}},watch:{},created:function(){this.resetData({formData:this.formData}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;s.requests("post",{url:"estates/getRankCity",data:t}).then(function(t){e.tableData=t.data})},openPage:s.openPage,onSearch:function(){this.getList(this.searchData)}}},l=(a("8d5W"),a("KHd+")),r=Object(l.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"城市名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/rank",data:{id:e.row.id,type:e.row.type}})}}},[t._v("查看榜单")])]}}])})],1)],1)},[],!1,null,"17c536de",null);r.options.__file="rank_city.vue";e.default=r.exports},iiu4:function(t,e,a){"use strict";var i=a("D5Ue");a.n(i).a},"j/y9":function(t,e,a){},jNvO:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pic-404"},[e("img",{staticClass:"pic-404__parent",attrs:{src:a("o2sD"),alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child left",attrs:{src:a("Jvyq"),alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child mid",attrs:{src:a("Jvyq"),alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child right",attrs:{src:a("Jvyq"),alt:"404"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bullshit__info"},[this._v("版权所有\n        "),e("a",{staticClass:"link-type",attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[this._v("华尔街见闻")])])}],s={name:"Page404",computed:{message:function(){return"网管说这个页面你不能进......"}}},o=(a("yGHO"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[t._m(0),t._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[t._v("OOPS!")]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"bullshit__headline"},[t._v(t._s(t.message))]),t._v(" "),a("div",{staticClass:"bullshit__info"},[t._v("请检查您输入的网址是否正确，请点击以下按钮返回主页或者发送错误报告")]),t._v(" "),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[t._v("返回首页")])])])])},i,!1,null,"9b45c3f8",null);l.options.__file="404.vue";e.default=l.exports},jjsZ:function(t,e,a){},jwjx:function(t,e,a){},kKQ8:function(t,e,a){},kebN:function(t,e,a){"use strict";var i=a("GS9/");a.n(i).a},krU6:function(t,e,a){"use strict";var i=a("TMQI");a.n(i).a},kxxL:function(t,e,a){"use strict";var i=a("QbLZ"),s=a.n(i),o=(a("Q2AE"),document.body,null);e.a={data:function(){return{_$origin_data:{}}},methods:{resetData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)this.setDataArr({_$origin_data:this.$DeepCopy(t)}),o=e;else{var a=this.$DeepCopy(this.$data._$origin_data);this.setDataArr(s()({},a)),o&&o()}}}}},kyiu:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("kxxL"),l=a("ygAv"),r={name:"estates-imgs",mixins:[o.a],directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},props:{estate_id:{default:function(){return""}},show:{type:Boolean,default:function(){return!1}},selectData:{default:function(){return[]}},limiNum:{default:function(){return 3}}},watch:{innerDialogVisible:function(t){this.$emit("update:show",t)},show:function(t){this.innerDialogVisible=t},estate_id:function(t){this.getList()}},data:function(){return{url:"Estates/getImgsListGroup",innerLoads:{loadSign:!1,page:0,last_page:1},innerDialogVisible:!1,imgsData:{},selectImgs:{}}},created:function(){this.getList()},methods:{openPage:l.openPage,clearEstates:function(){this.formData.estates_name="",this.formData.forid=0},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.estate_id=this.estate_id,l.requests("post",{url:this.url,data:e}).then(function(e){if(1==e.code)for(var a in t.imgsData=e.data,t.imgsData){var i=t.imgsData[a];for(var s in i){var o=i[s];o.cover_url&&o.cover_url[0]&&o.cover_url[0].url&&t.selectData.includes(o.cover_url[0].url)&&(t.selectImgs[o.id]={url:o.cover_url[0].url})}}else l.Message.error(e.msg)})},getFormatDate:l.DataFun.getFormatDate,setImgs:function(t,e){if(e){if(this.selectImgs[t])delete this.selectImgs[t];else{if(s()(this.selectImgs).length>=Number(this.limiNum))return void this.$message({type:"error",message:"数量不能超过"+this.limiNum});this.selectImgs[t]={url:e}}this.$forceUpdate()}},doSubmit:function(){var t=[];for(var e in this.selectImgs)t.push(this.selectImgs[e].url);this.$emit("update:selectData",t),this.innerDialogVisible=!1}}},n=(a("CinJ"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"55%",title:"图片",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[a("div",{staticClass:"demo-image"},t._l(t.imgsData,function(e,i){return a("div",{key:i,staticClass:"block"},[a("el-row",{staticClass:"demonstration"},[t._v("\n        "+t._s(i)+"\n      ")]),t._v(" "),a("el-row",t._l(e,function(e,i){return a("div",{key:i,staticClass:"img-selectbox"},[a("span",{on:{click:function(a){t.setImgs(e.id,e.cover_url[0].url)}}},[a("el-image",{attrs:{src:e.cover_url[0].url,fit:"cover"}})],1),t._v(" "),t.selectImgs[e.id]?a("i",{staticClass:"el-icon-circle-check check_select"}):t._e()])}))],1)})),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(e){t.doSubmit()}}},[t._v("保存")])],1)])},[],!1,null,"067bd54e",null);c.options.__file="EstatesImgs.vue";e.default=c.exports},lHp3:function(t,e,a){"use strict";var i=a("7MKQ");a.n(i).a},lMsG:function(t,e,a){},lTwH:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("YEIV"),l=a.n(o),r=a("kxxL"),n=a("ygAv"),c={name:"live-room",mixins:[r.a],directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},props:l()({region_no:{default:function(){return""}},show:{type:Boolean,default:function(){return!1}}},"region_no",{default:function(){return""}}),watch:{innerDialogVisible:function(t){this.$emit("update:show",t)},show:function(t){this.innerDialogVisible=t}},data:function(){return{url:"LiveRoom/getList",innerTableData:[],innerDialogVisible:!1,innerSearch:{name:"",region_no:""},innerLoads:{loadSign:!1,page:0,last_page:1}}},created:function(){},methods:{openPage:n.openPage,clearEstates:function(){this.formData.estates_name="",this.formData.forid=0},innerSelcetRow:function(t){this.innerDialogVisible=!1,this.$emit("innerFormData",{id:t.id,name:t.room_name})},onInnerSerch:function(){this.innerSearch.region_no=this.region_no,this.getList(s()({page:1},this.innerSearch))},innerLoadMore:function(){this.getList(s()({page:this.innerLoads.page+1},this.innerSearch))},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;if(1!=e.innerLoads.loadSign){var a=t.page;t.field="en.name,en.id",1==a&&(e.innerLoads.last_page=1,e.innerTableData=[]),a>e.innerLoads.last_page||(e.innerLoads.loadSign=!0,n.requests("post",{url:e.url,data:t}).then(function(t){if(e.innerLoads.loadSign=!1,1==t.code){for(var a in t.data.list)e.innerTableData.push(t.data.list[a]);e.innerLoads.last_page=t.data.last_page,e.innerLoads.page=t.data.current_page}else n.Message.error(t.msg)}))}},getFormatDate:n.DataFun.getFormatDate}},u=(a("4kwl"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"55%",title:"直播",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.innerSearch}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"标题","prefix-icon":"el-icon-search"},model:{value:t.innerSearch.room_name,callback:function(e){t.$set(t.innerSearch,"room_name",e)},expression:"innerSearch.room_name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onInnerSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.innerLoadMore,expression:"innerLoadMore"}],ref:"innerTable",staticStyle:{width:"100%"},attrs:{data:t.innerTableData,height:"350px","highlight-current-row":"",border:""},on:{"row-click":t.innerSelcetRow}},[a("el-table-column",{attrs:{property:"id",width:"80",label:"ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"room_name",label:"标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"绑定的楼盘",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"status",width:"70",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1==e.row.status?"启用":"禁用")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",width:"255",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" - "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])})],1)],1)},[],!1,null,"6998b33c",null);d.options.__file="LiveRoom.vue";e.default=d.exports},lUuD:function(t,e,a){"use strict";a.r(e);var i=a("YEIV"),s=a.n(i),o=a("Z1g7"),l=a("glbJ"),r=a("fbG1"),n=a("FedZ"),c=a("wfg/"),u=a("NLI4"),d=a("bC1q"),m=a("I0Yi"),f=(a("g5Kx"),a("ygAv")),p=a("XXr9"),h={components:{"img-upload":o.default,"img-upload2":r.default,"voice-upload":n.default,"voice-upload1":c.default,"mycity-select":d.default,"estates-new":m.default,simple:u.default,Tinymce:l.default},data:function(){var t,e=function(t,e,a){if("NaN"==parseFloat(e).toString())return a(new Error(t.message)),!1;a()};return t={formData:{id:"",cate_id:[],name:"",sort:50,status:"0",context:"",lable:"",keyword:"",is_top:!1,is_index:!1,title:"",order_type:"",video_url:"",video_path:"",city_list:[],tags:[],resource_type:"",top_time:"",has_comment:"1",release_time:"",region_no:"",forid:"",forname:"",is_propert_news:!1,num_read:0,num_collect:0,img_url:[],num_share:0,num_thumbup:0,recommend_place:[]},rules:{name:[{required:!0,message:"请输入名称"}],cate_id:[{required:!0,message:"请选择类别"}],sort:[{validator:e,trigger:"blur",message:"排序必须是数字"}],context:[{required:!0,message:"请输入内容详情"}],release_time:[{required:!0,message:"请设置发布时间"}],num_read:[{validator:e,trigger:"blur",message:"阅读数必须是数字"}],num_collect:[{validator:e,trigger:"blur",message:"收藏数必须是数字"}],num_share:[{validator:e,trigger:"blur",message:"转发数必须是数字"}],num_thumbup:[{validator:e,trigger:"blur",message:"点赞数必须是数字"}],lable:[{required:!0,message:"最少选择一个标签"}]},innerVisible:!1,formLabelWidth:"123px",categoryList:[],selected_city:[],isIndeterminate:!1,checkAll:!1,citylist:[],tagList:[],nearbyList:[],facilitieList:[],selected_tags:[]},s()(t,"selected_city",[]),s()(t,"isedit",!1),s()(t,"default_src",""),s()(t,"accepts","image/png"),s()(t,"info",[]),s()(t,"page_loading",!1),t},computed:{},watch:{selected_tags:function(t){this.formData.lable=t.join(",")},selected_city:function(t){console.log(t),this.formData.city_list=t?t.join(","):[]}},created:function(){if(this.$urlData&&this.$urlData.id){if(!this.doMissId(this.$urlData.id))return;this.formData.id=this.$urlData.id,this.getTagList([]),this.getInfo(this.formData.id)}else this.getTagList([]),this.resetForm("formData");this.citylist=this.$store.getters.userinfo.region_nos_info,this.getCategoryList()},methods:{handleCheckAllChange:function(t){var e=this.citylist.map(function(t){return t.id});this.selected_city=t?e:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=this.citylist.map(function(t){return t.id}),a=t.length;this.checkAll=a===e.length,this.isIndeterminate=a>0&&a<e.length},getInfo:function(t){var e=this,a=this;a.page_loading||(a.page_loading=!0,f.requests("post",{url:"news/getInfoVideo",data:{id:t}}).then(function(t){if(a.page_loading=!1,1==t.code){var i=t.data;i.status=String(i.status),i.has_comment=String(i.has_comment),i.is_propert_news=Boolean(i.is_propert_news),i.resource_type=String(i.resource_type),i.recommend_place=i.recommend_place?i.recommend_place:[],i.cover_url=e.$getRealImgUrl(i.cover_url);var s=[],o=[];i.lable&&(s=i.lable.split(","));for(var l=0;l<s.length;l++)s[l]=Number(s[l]);i.city_list&&(o=i.city_list.split(","));for(var r=0;r<o.length;r++)o[r]=Number(o[r]);t.data.statistic&&(i.num_read=t.data.statistic.num_read,i.num_collect=t.data.statistic.num_collect,i.num_share=t.data.statistic.num_share,i.num_thumbup=t.data.statistic.num_thumbup),e.handleCheckedCitiesChange(o),a.setDataArr({formData:i,selected_tags:s,selected_city:o})}else f.Message.error(t.msg)}))},setPropertNesData:function(t){t||this.clearInner()},seteidtflag:function(){this.isedit=!0},success:function(t){},changeCity:function(t){this.clearInner()},changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0},geturl:function(t){console.log(t,234234234234),this.formData.video_url=t.id},getRealImgUrl:function(t){return p.imghost+"/"+this.formData.video_path},getCategoryList:function(){var t=this;f.requests("post",{url:"news/getCategoryListAll",data:{pid:[13]}}).then(function(e){1==e.code?t.setDataArr({categoryList:e.data}):f.Message.error(e.msg)})},getTagList:function(t){var e=this;f.requests("post",{url:"news/getExtraList"}).then(function(t){1==t.code?e.setDataArr({tagList:t.data.list}):f.Message.error(t.msg)})},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields&&this.$refs[t].resetFields(),this.setDataArr({formData:{id:"",cate_id:[],name:"",sort:50,status:"0",context:"",lable:"",keyword:"",is_top:!1,is_index:!1,title:"",order_type:"",video_url:"",video_path:"",tags:[],resource_type:"",top_time:"",has_comment:"1",release_time:"",region_no:"",city_list:[],forid:"",forname:"",is_propert_news:!1,num_read:0,num_collect:0,img_url:[],cover:"",cover_url:"",num_share:0,num_thumbup:0,recommend_place:[]},default_src:"",citylist:[],selected_tags:[]}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData(),this.$refs.editor&&this.$refs.editor.setContent("")},onUploadedImg:function(t){this.formData.cover=t.res.info.id,this.formData.cover_url=t.res.info.url,this.$refs.cover.clearValidate()},submitForm:function(t){console.log(this.formData);var e=this;e.$refs[t].validate(function(t){if(!t)return e.page_loading=!1,console.log("error submit!!"),!1;e.page_loading||(e.page_loading=!0,e.formData.status=2==e.formData.status?0:e.formData.status,f.requests("post",{url:"/news/videoEdit",data:e.formData}).then(function(t){console.log(t),e.page_loading=!1,1==t.code?(f.Message.success("操作成功"),setTimeout(function(){f.openPage({url:-1})},500)):(e.page_loading=!1,f.Message.error(t.msg))}))})},dosubmit:function(t){console.log(this.formData);var e=this;e.page_loading||(e.formData.name?(e.page_loading=!0,e.formData.status=2,f.requests("post",{url:"/news/videoEdit",data:e.formData}).then(function(t){console.log(t),e.page_loading=!1,1==t.code?f.Message.success("操作成功"):(e.page_loading=!1,f.Message.error(t.msg))})):f.Message.error("名称不能为空"))},setImgLimit:function(t){this.$refs.uploadimg.resetData()},doMissId:function(t){if(!t){var e=this;return this.$alert("缺少必要的id参数，请重新打开","提示",{confirmButtonText:"确定",callback:function(t){e.openPage({hreftype:"navigateBack",url:-1})}}),!1}return!0},openPage:f.openPage}},g=(a("2dG4"),a("KHd+")),_=Object(g.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapeditor_container"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("基础信息")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"name",label:"名称","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入文章名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"status",required:"",label:"状态","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"未启用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"草稿",value:"2"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sort",label:"排序","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"排序越大越靠前"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"release_time",label:"发布时间","label-width":"80px"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:t.formData.release_time,callback:function(e){t.$set(t.formData,"release_time",e)},expression:"formData.release_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"title",label:"副标题","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入副标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"cate_id",label:"类别选择","label-width":"80px"}},[a("el-cascader",{attrs:{options:t.categoryList,props:{value:"id",label:"title",multiple:!0},"show-all-levels":!1},model:{value:t.formData.cate_id,callback:function(e){t.$set(t.formData,"cate_id",e)},expression:"formData.cate_id"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"keyword",label:"关键词","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"关键词用于seo优化 多个关键词用,号隔开"},model:{value:t.formData.keyword,callback:function(e){t.$set(t.formData,"keyword",e)},expression:"formData.keyword"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"has_comment",required:"",label:"评论功能","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.has_comment,callback:function(e){t.$set(t.formData,"has_comment",e)},expression:"formData.has_comment"}},[a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"has_comment",required:"",label:"资讯类型","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.resource_type,callback:function(e){t.$set(t.formData,"resource_type",e)},expression:"formData.resource_type"}},[a("el-option",{attrs:{label:"长视频",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"短视频",value:"3"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"is_propert_news",label:"是否房源信息","label-width":"120px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.setPropertNesData},model:{value:t.formData.is_propert_news,callback:function(e){t.$set(t.formData,"is_propert_news",e)},expression:"formData.is_propert_news"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v(" 发布城市")])]),t._v(" "),a("el-row",[t.citylist.length?a("el-form-item",{attrs:{label:"发布城市","label-width":"100px"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),t._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),t._v(" "),a("el-checkbox-group",{attrs:{size:"small"},on:{change:t.handleCheckedCitiesChange},model:{value:t.selected_city,callback:function(e){t.selected_city=e},expression:"selected_city"}},t._l(t.citylist,function(e){return a("el-checkbox",{key:e.id,attrs:{prop:"lable",label:e.id}},[t._v("\n              "+t._s(e.cname)+"\n            ")])}))],1):t._e()],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n          附加信息设置\n        ")]),t._v(" "),a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{label:" 标签选择","label-width":"100px"}},[a("el-checkbox-group",{attrs:{size:"small"},model:{value:t.selected_tags,callback:function(e){t.selected_tags=e},expression:"selected_tags"}},t._l(t.tagList,function(e){return a("el-checkbox",{key:e.id,attrs:{prop:"lable",label:e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"推荐显示","label-width":"100px"}},[a("el-checkbox-group",{attrs:{size:"small"},model:{value:t.formData.recommend_place,callback:function(e){t.$set(t.formData,"recommend_place",e)},expression:"formData.recommend_place"}},[a("el-checkbox",{attrs:{label:"1"}},[t._v("置顶")]),t._v(" "),a("el-checkbox",{attrs:{label:"2"}},[t._v("首页")])],1)],1),t._v(" "),t.formData.recommend_place.includes("1")?a("el-form-item",{attrs:{prop:"top_time",required:"",label:"置顶到期时间","label-width":"120px"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.formData.top_time,callback:function(e){t.$set(t.formData,"top_time",e)},expression:"formData.top_time"}})],1):t._e(),t._v(" "),t.formData.is_propert_news?a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n            房源信息\n          ")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("\n          统计信息设置\n        ")]),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_read",label:"阅读数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入阅读数 "},model:{value:t.formData.num_read,callback:function(e){t.$set(t.formData,"num_read",e)},expression:"formData.num_read"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_collect",label:"收藏数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入收藏数"},model:{value:t.formData.num_collect,callback:function(e){t.$set(t.formData,"num_collect",e)},expression:"formData.num_collect"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_share",label:"转发数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入转发数"},model:{value:t.formData.num_share,callback:function(e){t.$set(t.formData,"num_share",e)},expression:"formData.num_share"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_thumbup",label:"点赞数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入点赞数"},model:{value:t.formData.num_thumbup,callback:function(e){t.$set(t.formData,"num_thumbup",e)},expression:"formData.num_thumbup"}})],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n          视频上传\n          "),a("span",[t._v("(建议文件小于100M)")])]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:12,sm:12,xs:24}},[a("el-form-item",{ref:"cover",attrs:{label:"视频封面图","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.formData.cover_url,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.$set(t.formData,"cover_url",e)}}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:12,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_thumbup",label:"视频上传",required:"","label-width":"80px"}},[a("el-row",{staticClass:"mapeditor-content"},[""==t.formData.video_path||t.isedit?a("div",{staticClass:"mater-upload-container"},[a("simple",{ref:"upload",on:{success:t.success,geturl:t.geturl}},[a("div",{staticClass:"upload-tip",attrs:{slot:"tip"},slot:"tip"},[a("i",{staticClass:"el-icon-info"}),t._v(":\n                      只能上传 mp4文件\n                    ")])])],1):t._e(),t._v(" "),""==t.formData.video_path||t.isedit?t._e():a("div",{staticStyle:{position:"relative"}},[a("video",{attrs:{src:t.getRealImgUrl(t.formData.video_path),controls:"controls",width:"200px"}}),t._v(" "),a("div",{staticStyle:{position:"absolute",top:"0px",margin:"0px",left:"120px","z-index":"99"}},[a("el-button",{attrs:{type:"success",icon:"el-icon-success",size:"mini"},on:{click:function(e){t.seteidtflag()}}},[t._v("修改")])],1)])])],1)],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(e){t.submitForm("formData")}}},[t._v("保存")]),t._v(" "),t.formData.id?t._e():a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm("formData")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")]),t._v(" "),1!=t.formData.status?a("el-button",{attrs:{type:"info",icon:"el-icon-success"},on:{click:function(e){t.dosubmit("formData")}}},[t._v("草稿保存")]):t._e()],1)],1)],1)},[],!1,null,"135aef34",null);_.options.__file="videoedit.vue";e.default=_.exports},lbmj:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=(a("Z1g7"),a("kxxL")),c=a("ygAv"),u={components:{"pagination-box":r.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",estate_id:0,building_id:0,searchData:{},tableData:[],formData:{opening_time:"",building:""},pagination:{},rules:{opening_time:[{required:!0,message:"请输入开盘时间",trigger:"change"}]}}},created:function(){this.$urlData&&(this.$urlData.estate_id&&(this.estate_id=this.$urlData.estate_id),this.$urlData.building_id&&(this.building_id=this.$urlData.building_id)),this.resetData({formData:this.formData},function(){}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.estate_id&&(t.estate_id=e.estate_id,t.building_id=e.building_id,c.requests("post",{url:"estates/getEstatesnewTime",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})}))},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"estates/delEstateTime",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.estate_id=a.estate_id,a.formData.building_id=a.building_id,c.requests("post",{url:"estates/editEstatesnewTime",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:c.openPage}},d=(a("FGWI"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:"/estates/estatesnew"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opening_time",label:"开盘时间",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"building",label:"开盘楼栋",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-form-item",{attrs:{prop:"opening_time",label:"开盘时间","label-width":"120px"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.opening_time,callback:function(e){t.$set(t.formData,"opening_time",e)},expression:"formData.opening_time"}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"building",label:"开盘楼栋","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",width:"2px"},model:{value:t.formData.building,callback:function(e){t.$set(t.formData,"building",e)},expression:"formData.building"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"029ac4c4",null);m.options.__file="EstatesnewOpenTime.vue";e.default=m.exports},lfRA:function(t,e,a){},lpj6:function(t,e,a){"use strict";var i=a("jwjx");a.n(i).a},mPbi:function(t,e,a){"use strict";var i=a("glbI");a.n(i).a},mzYu:function(t,e,a){},nAtr:function(t,e,a){},nbHh:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=a("7QZd"),c=a("Bi68"),u=a("ygAv"),d={components:{"pagination-box":c.default,"img-upload":r.default,"img-preview":n.default},data:function(){return{dialogFormVisible:!1,preview_show:!1,formLabelWidth:"123px",form:{name:"",status:"0",has_comment:"0",order:50,icon_category:"",pid:""},searchTime:[],searchData:{status:"-1",has_comment:"-1",name:""},catelist:[],default_icon_category:[],rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}]},tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList()},methods:{getRealImgUrl:function(t){return this.$getRealImgUrl(t)},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,u.requests("post",{url:"commentList/propertyReviews",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):u.Message.error(t.msg)}))},getCateList:function(){var t=this;u.requests("get",{url:"news/getCateList"}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({catelist:e.data}):u.Message.error(e.msg)})},resetData:function(){this.setDataArr({form:{name:"",status:"0",has_comment:"0",order:0,pid:"",icon_category:"",img:[]},default_icon_category:[]}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t),this.default_icon_category=this.form.img),this.form.status=String(this.form.status),this.form.has_comment=String(this.form.has_comment),this.form.pid=String(this.form.pid)},onUploadedImg:function(t,e){var a=t.res.info;this.form[e]=a.url},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return!1;u.requests("post",{url:"commentList/propertyReviewsReview",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(u.Message.success("操作成功"),t.getList(),setTimeout(function(){t.doEditCancel()},1e3)):u.Message.error(e.msg)})})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,u.requests("post",{url:"news/categoryDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),u.Message.success("操作成功")):u.Message.error(t.msg)}))}).catch(function(){})},orderChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return u.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,u.requests("post",{url:"news/categoryChangeorder",data:{id:t,order:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),u.Message.success("操作成功")):u.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},switchChange:function(t,e,a){var i=this;if(!i.page_loading){if(i.page_loading=!0,"status"==a)var s="commentList/propertyReviewsReview",o={id:t,status:e};u.requests("post",{url:s,data:o}).then(function(t){i.page_loading=!1,1==t.code?(i.getList(),u.Message.success("操作成功")):u.Message.error(t.msg)})}},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},openPage:function(t){return u.openPage(t)}}},m=(a("9s2G"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"用户昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.user_name,callback:function(e){t.$set(t.searchData,"user_name",e)},expression:"searchData.user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"楼盘名称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入楼盘名称"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"通过",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不通过",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"楼盘名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"用户昵称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"house_inspection_name",label:"标签",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"审核状态",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,"status")}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("查看审核")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑类别":"新增类别",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"楼盘名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用户昵称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.form.user_name,callback:function(e){t.$set(t.form,"user_name",e)},expression:"form.user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"评论内容","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"图片","label-width":t.formLabelWidth,prop:"name"}},t._l(t.default_icon_category,function(e,i){return a("span",{key:i},[a("el-image",{staticStyle:{width:"80px",height:"80px",float:"left","margin-right":"10px"},attrs:{src:t.getRealImgUrl(e)},on:{click:function(e){t.preview_show=!0}}}),t._v(" "),a("img-preview",{attrs:{src:t.getRealImgUrl(e),show:t.preview_show},on:{"update:show":function(e){t.preview_show=e}}})],1)})),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"f88ffbfc",null);f.options.__file="propertyReviews.vue";e.default=f.exports},njJi:function(t,e,a){},nn3l:function(t,e,a){},nsTj:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("VVsi"),u=a("ygAv"),d={components:{"img-upload":r.default,"select-tree":c.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{title:[{required:!0,message:"请输入栏目名称",trigger:"change"}]},searchData:{status:"-1",type:"-1",pid:""},tableData:[],catelist:[],defaultProps:{children:"children",label:"title"},tagList:[],formData:{type:"0",pid:"0",title:"",place:"",status:"0",sort:"0",cover:"",tags:"",href:"",page_title:"",page_keywords:"",page_desc:""},selected_tags:[]}},watch:{selected_tags:function(t){this.formData.tags=t.join(",")}},computed:{defaultCheckedKeys:function(){return[this.formData.pid]},defaultCheckedKeys1:function(){return[this.searchData.pid]}},created:function(){this.getCateList(),this.getTagList();var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;u.requests("post",{url:"column/getList",data:t}).then(function(t){e.tableData=t.data.list})},popoverHide:function(t){console.log(t),this.formData.pid=t},popoverHide1:function(t){this.searchData.pid=t},getCateList:function(){var t=this,e=this;u.requests("get",{url:"column/getCategoryListAll"}).then(function(a){e.page_loading=!1,1==a.code?(e.setDataArr({catelist:a.data}),console.log(t.catelist)):u.Message.error(a.msg)}).catch(function(t){e.page_loading=!1})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(l()(t).length>0){this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.pid=Number(this.formData.pid),this.default_src=this.$getRealImgUrl(this.formData.cover);var e=[];this.formData.tags&&(e=this.formData.tags.split(","));for(var a=0;a<e.length;a++)e[a]=Number(e[a]);this.selected_tags=e}this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},getTagList:function(){var t=this;u.requests("post",{url:"news/getTagList",data:{pid:-1,name:"",status:-1}}).then(function(e){console.log(e.data),t.tagList=e.data})},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;u.requests("post",{url:"column/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?u.Message.success("操作成功"):u.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){u.requests("post",{url:"column/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,u.requests("post",{url:"column/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch(),a.getCateList()):a.$message({type:"error",message:t.msg})}))})}}},m=(a("+dNv"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"父及栏目",prop:"pid"}},[a("select-tree",{staticStyle:{},attrs:{clearable:!0,data:t.catelist,defaultProps:t.defaultProps,checkedKeys:t.defaultCheckedKeys1},on:{change:t.popoverHide1}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"H5端",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"title",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"icon图",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cover?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.cover)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.type?a("el-tag",[t._v("H5端")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"place",label:"使用位置",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"父及栏目","label-width":t.formLabelWidth,prop:"pid"}},[a("select-tree",{staticStyle:{},attrs:{data:t.catelist,defaultProps:t.defaultProps,checkedKeys:t.defaultCheckedKeys},on:{popoverHide:t.popoverHide}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"title","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1)],1),t._v(" "),a("el-row",[0==t.formData.pid?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"跳转地址","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.href,callback:function(e){t.$set(t.formData,"href",e)},expression:"formData.href"}})],1)],1):t._e(),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1)],1),t._v(" "),t._l(t.tagList,function(e,i){return"h5_fx_home"==t.formData.place&&"0"!=t.formData.pid?a("div",[e.children?a("el-row",[a("el-divider",[a("span",{staticStyle:{color:"#5A6066","font-size":"20px"}},[t._v(t._s(e.name))])]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.name+":","label-width":t.formLabelWidth}},[a("el-checkbox-group",{attrs:{size:"small"},model:{value:t.selected_tags,callback:function(e){t.selected_tags=e},expression:"selected_tags"}},t._l(e.children,function(e){return a("el-checkbox",{key:e.id,attrs:{prop:"lable",label:e.id}},[t._v("\n                               "+t._s(e.name)+"\n                  ")])}))],1)],1)],1):t._e()],1):t._e()}),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"分组标识","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.place,callback:function(e){t.$set(t.formData,"place",e)},expression:"formData.place"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"页面标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_title,callback:function(e){t.$set(t.formData,"page_title",e)},expression:"formData.page_title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"页面关键字","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_keywords,callback:function(e){t.$set(t.formData,"page_keywords",e)},expression:"formData.page_keywords"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"页面描述","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.page_desc,callback:function(e){t.$set(t.formData,"page_desc",e)},expression:"formData.page_desc"}})],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传图片","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"0"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[t._v("H5端")])],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],2),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"63621b85",null);f.options.__file="column.vue";e.default=f.exports},ntYl:function(t,e,a){"use strict";a.r(e);var i=a("iCc5"),s=a.n(i),o=a("V7oC"),l=a.n(o),r=(a("Yfch"),{name:"Login",data:function(){return{site:this.$baseconfig.sitename,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(t,e,a){a()}}],password:[{required:!0,trigger:"blur",validator:function(t,e,a){e.length<5?a(new Error("密码不能小于5位")):a()}}]},loading:!1,pwdType:"password",redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},mounted:function(){this.bg()},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.$store.dispatch("Login",t.loginForm).then(function(){t.loading=!1,t.$router.push({path:t.redirect||"/"})}).catch(function(e){t.$message({message:e,type:"error",duration:5e3}),t.loading=!1})})},bg:function(){var t=[],e=100,a=100,i=100*e,o=!1;setTimeout(function(){o=!0}.bind(this),i),m(100);var r=this.$refs.loginbox.clientWidth,n=this.$refs.loginbox.clientHeight,c=document.createElement("canvas");c.width=r,c.height=n,this.$refs.loginbox.appendChild(c);var u=c.getContext("2d"),d=function(){function t(e,a){s()(this,t);var i=["#feea00","#a9df85","#5dc0ad","#ff9a00","#fa3f20"],o=["full","fill","empty"];this.random=Math.random(),this.canvas=e,this.progress=0,this.x=r/2+(200*Math.random()-200*Math.random()),this.y=n/2+(200*Math.random()-200*Math.random()),this.w=r,this.h=n,this.radius=1+8*this.random,this.type=o[this.randomIntFromInterval(0,o.length-1)],this.color=i[this.randomIntFromInterval(0,i.length-1)],this.a=0,this.s=(this.radius+1*Math.random())/10}return l()(t,[{key:"getCoordinates",value:function(){return{x:this.x,y:this.y}}},{key:"randomIntFromInterval",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"render",value:function(){var t=.2+2.8*this.random,e=this.color;switch(this.type){case"full":this.createArcFill(this.radius,e),this.createArcEmpty(this.radius+t,t/2,e);break;case"fill":this.createArcFill(this.radius,e);break;case"empty":this.createArcEmpty(this.radius,t,e)}}},{key:"createArcFill",value:function(t,e){this.canvas.beginPath(),this.canvas.arc(this.x,this.y,t,0,2*Math.PI),this.canvas.fillStyle=e,this.canvas.fill(),this.canvas.closePath()}},{key:"createArcEmpty",value:function(t,e,a){this.canvas.beginPath(),this.canvas.arc(this.x,this.y,t,0,2*Math.PI),this.canvas.lineWidth=e,this.canvas.strokeStyle=a,this.canvas.stroke(),this.canvas.closePath()}},{key:"move",value:function(){return this.x+=Math.cos(this.a)*this.s,this.y+=Math.sin(this.a)*this.s,this.a+=.4*Math.random()-.2,!(this.x<0||this.x>this.w-this.radius)&&(!(this.y<0||this.y>this.h-this.radius)&&(this.render(),!0))}},{key:"calculateDistance",value:function(t,e){var a=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.sqrt(a*a+i*i)}}]),t}();function m(a){for(var i=0;i<a;i++)setTimeout(function(){t.push(new d(u))},e*i);return t.length}!function e(){u.fillStyle="#111",u.fillRect(0,0,c.width,c.height),function(){var e=null;for(var a in t){var i=t[a];if(a>0){var s=e.getCoordinates(),o=i.getCoordinates();u.beginPath(),u.moveTo(s.x,s.y),u.lineTo(o.x,o.y),u.lineWidth=.45,u.strokeStyle="#3f47ff",u.stroke(),u.closePath()}e=i}}(),t=t.filter(function(t){return t.move()}),o&&t.length<a&&m(1),requestAnimationFrame(e.bind(this))}()}}}),n=(a("VRBp"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loginbox",staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[a("h3",{staticClass:"title"},[t._v(t._s(t.site))]),t._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),a("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"username"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),a("el-input",{attrs:{type:t.pwdType,name:"password","auto-complete":"on",placeholder:"password"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),t._v(" "),a("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===t.pwdType?"eye":"eye-open"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("\n        登录\n      ")])],1)],1)],1)},[],!1,null,"17d73c5a",null);c.options.__file="index.vue";e.default=c.exports},o2sD:function(t,e,a){t.exports=a.p+"portal/vue_static999admin/img/404.a57b6f3.png"},oBSS:function(t,e,a){},oFJ8:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("ygAv"),u={components:{"img-upload":r.default},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}]},searchData:{status:"-1",pid:"-1",name:""},catelist:[],tableData:[],formData:{name:"",pid:"",status:"0"}}},created:function(){this.getCateList();var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"news/getTagList",data:t}).then(function(t){e.tableData=t.data})},getCateList:function(){var t=this;c.requests("get",{url:"Tag/getParent"}).then(function(e){console.log(e),t.page_loading=!1,1==e.code?t.setDataArr({catelist:e.data}):c.Message.error(e.msg)})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;c.requests("post",{url:"news/enableTag",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"news/delTag",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"news/editTag",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("+SU3"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"标签名称","label-width":t.formLabelWidth,prop:"p_cate_id"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入标签名称"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所属分类","label-width":t.formLabelWidth,prop:"p_cate_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.pid,callback:function(e){t.$set(t.searchData,"pid",e)},expression:"searchData.pid"}},[a("el-option",{key:"-1",attrs:{value:"-1",label:"全部"}}),t._v(" "),t._l(t.catelist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标签名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.pid?a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"fordo",label:"所属分类",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.catelist,function(i){return i.id==e.row.pid?a("el-tag",{key:i.id},[t._v(t._s(i.name))]):t._e()})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"所属分类","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.pid,callback:function(e){t.$set(t.formData,"pid",e)},expression:"formData.pid"}},t._l(t.catelist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"标签名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"c895ebb2",null);m.options.__file="tag.vue";e.default=m.exports},oGLJ:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("bC1q"),c=(a("MCLT"),a("ygAv")),u={components:{"pagination-box":r.default,"mycity-select":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{user_nickname:"",editscore:""},searchData:{sort:"id",user_nickname:"",city_no:""},page_loading:!1,tableData:[],pagination:{},caneditSource:!1,total:0}},created:function(){console.log(8888),this.getList()},methods:{switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,c.requests("post",{url:"user/userChange",data:{id:t,user_type:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),c.Message.success("操作成功")):c.Message.error(t.msg)}))},switchChange1:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,c.requests("post",{url:"user/userDisableChange",data:{id:t,is_disable:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),c.Message.success("操作成功")):c.Message.error(t.msg)}))},showEditSource:function(){this.caneditSource=!this.caneditSource,!1===this.caneditSource&&(this.form.editscore="")},doEditSource:function(){var t=this;t.page_loading||(t.page_loading=!0,c.requests("post",{url:"user/addSource",data:{editscore:t.form.editscore,user_id:t.form.id}}).then(function(e){t.page_loading=!1,1==e.code?c.Message.success("操作成功"):c.Message.error(e.msg)}))},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,c.requests("post",{url:"user/list",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):c.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t),this.form.avatar=this.$getRealImgUrl(this.form.avatar))},getFormatDate:function(t){return c.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},d=(a("Fgkb"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.getRealImgUrl(e.row.headimgurl)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"用户类型",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否封号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":0,"inactive-value":1,disabled:1==e.row.id},on:{change:function(a){t.switchChange1(e.row.id,a)}},model:{value:e.row.is_disable,callback:function(a){t.$set(e.row,"is_disable",a)},expression:"scope.row.is_disable"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"注册时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1),t._v(" "),a("el-dialog",{staticClass:"user-dialog",attrs:{title:"用户信息",visible:t.dialogFormVisible,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{lg:7,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"用户头像","label-width":t.formLabelWidth}},[a("el-image",{staticStyle:{width:"95px"},attrs:{src:t.form.avatar}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:17,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"用户昵称","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.user_nickname))])]),t._v(" "),a("el-form-item",{attrs:{label:"地址信息","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.province+" - "+t.form.city))])]),t._v(" "),a("el-form-item",{attrs:{label:"注册时间","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.getFormatDate(t.form.create_time)))])])],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.form.user_nickname))]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:12,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"最后登录IP","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.last_login_ip))])]),t._v(" "),a("el-form-item",{attrs:{label:"最后登录时间","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.getFormatDate(t.form.last_login_time)))])])],1)],1)],1)],1)],1)},[],!1,null,"00a0545a",null);m.options.__file="userList.vue";e.default=m.exports},oHUr:function(t,e,a){"use strict";var i=a("gZhi");a.n(i).a},okyx:function(t,e,a){},"p/s9":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=(a("Zd91"),a("Bi68")),n=a("bC1q"),c=a("e7ju"),u=a("kxxL"),d=a("ygAv"),m={components:{"pagination-box":r.default,"mycity-select":n.default,"estates-new":c.default},mixins:[u.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:!1,areas:[],city_city_no:0,city_id:0,searchTime:[],searchData:{status:"-1",is_hot:"-1",id:""},tableData:[],value3:"",provinceData2:"",formData:{city_no:"",change_time:"",new_price:"",deal:"",on_sale:"",recent_opening:"",cname:"",new_city_price:[]},pagination:{},innerVisible:!1,total:0}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.resetData({formData:this.formData,areas:[]}),this.searchData.region_no=this.$urlData.region_no,this.getList(this.searchData),this.getSysCitys(0,"provinces")},methods:{innerFormData:function(t){this.formData.forid=t.id,this.formData.forname=t.name},getMoreInfo:function(t){this.formData.cname=t.cname;var e=this;d.requests("post",{url:"city/siteAreas",data:{pid:t.id}}).then(function(t){if(1==t.code){e.areas=[{id:0,cname:"不限制"}].concat(t.data);for(var a=e.areas,i=0;i<a.length;i++){var s=e.formData.new_city_price[i]?e.formData.new_city_price[i].price:0;e.formData.new_city_price[i]={id:a[i].id,name:a[i].cname,price:s}}console.log(e.formData.new_city_price,234234)}else d.Message.error(t.msg)})},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;d.requests("get",{url:"cityPriceLog/cityPriceList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):d.Message.error(t.msg)})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getSysCitys:function(t,e){var a=this;d.requests("post",{url:"city/sysCitys",data:{pid:t}}).then(function(t){if(1==t.code){a[e]=[{id:0,cname:"不限制"}].concat(t.data),console.log(a[e])}else d.Message.error(t.msg)})},forceUpdate:function(){this.$forceUpdate()},openPage:d.openPage,doCityList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(t.id),this.city_id=t.id,this.city_city_no=t.city_no,this.innerVisible=!0},doEdit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(console.log(e,345345),s()(e).length>0){e.status=String(e.status),e.is_hot=String(e.is_hot),this.formData=l()({},e),this.formData.dotype="edit",this.formData.city_no=String(this.formData.city_no),this.provinceData=e.pid+"-"+e.pcname;var a=setInterval(function(){t.cityData?clearInterval(a):"edit"==t.formData.dotype?t.cityData=e.id+"-"+e.cname:t.cityData=""},800)}else this.formData.dotype="add",this.formData.city_no=this.$urlData.region_no;this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"cityPriceLog/cityPriceLogDelete",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,d.requests("post",{url:"cityPriceLog/cityPriceLogEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},f=(a("HrIS"),a("KHd+")),p=Object(f.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("mycity-select",{attrs:{"label-width":"110px",province_no:t.searchData.province,city_no:t.searchData.city,area_no:t.searchData.area,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:province_no":function(e){t.$set(t.searchData,"province",e)},"update:city_no":function(e){t.$set(t.searchData,"city",e)},"update:area_no":function(e){t.$set(t.searchData,"area",e)}}}),t._v(" "),a("el-form-item",{attrs:{label:"变更时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM",format:"yyyy-MM",type:"monthrange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"城市",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"change_time",label:"价格变动月份",width:"160",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"new_price",label:"变动价格",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recent_opening",label:"开盘",width:"90",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"deal",label:"成交",width:"90",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"on_sale",label:"在销",width:"90",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doCityList(e.row)}}},[t._v("查看区域")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 价格")],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"价格变动时间","label-width":"110px"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:t.formData.change_time,callback:function(e){t.$set(t.formData,"change_time",e)},expression:"formData.change_time"}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"近期开盘","label-width":"110px"}},[a("el-input-number",{attrs:{size:"mini",placeholder:"请输入近期开盘"},model:{value:t.formData.recent_opening,callback:function(e){t.$set(t.formData,"recent_opening",e)},expression:"formData.recent_opening"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"在售楼盘","label-width":"110px"}},[a("el-input-number",{attrs:{size:"mini",placeholder:"请输入在售楼盘"},model:{value:t.formData.on_sale,callback:function(e){t.$set(t.formData,"on_sale",e)},expression:"formData.on_sale"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"成交套数","label-width":"110px"}},[a("el-input-number",{attrs:{size:"mini",placeholder:"请输入成交套数"},model:{value:t.formData.deal,callback:function(e){t.$set(t.formData,"deal",e)},expression:"formData.deal"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":"110px",province_no:t.formData.province,city_no:t.formData.city_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:province_no":function(e){t.$set(t.formData,"province",e)},getMoreInfo:t.getMoreInfo,"update:city_no":function(e){t.$set(t.formData,"city_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"变动价格","label-width":"110px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入变动价格"},model:{value:t.formData.new_price,callback:function(e){t.$set(t.formData,"new_price",e)},expression:"formData.new_price"}})],1)],1)],1),t._v(" "),a("el-row",t._l(t.areas,function(e,i){return a("el-col",{key:i,attrs:{span:12}},[0!=e.id?a("el-form-item",{attrs:{label:e.cname,"label-width":"110px"}},[a("el-input",{key:i,staticStyle:{width:"200px"},attrs:{placeholder:t.formData.new_city_price[i].name},on:{input:t.forceUpdate},model:{value:t.formData.new_city_price[i].price,callback:function(e){t.$set(t.formData.new_city_price[i],"price",e)},expression:"formData.new_city_price[idx].price"}})],1):t._e()],1)}))],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.city_city_no,cityId:t.city_id,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)},[],!1,null,"095288d0",null);p.options.__file="citypricelog.vue";e.default=p.exports},p64b:function(t,e,a){},"q/hb":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=(a("Z1g7"),a("kxxL")),c=a("xIHd"),u=a("ygAv"),d={components:{"pagination-box":r.default},mixins:[n.a,c.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",estate_id:0,searchData:{},tableData:[],formData:{id:"",name:"",sale_status:"1",building_type:"",floor_number:"",unit:"",house_number:"",sales_license:[],delivery_time:""},sales_license:[],pagination:{},rules:{name:[{required:!0,message:"请输入楼栋名称",trigger:"change"}]}}},watch:{"formData.id":function(t){if(this.formData.sales_license=[],t){t=String(t);var e=[];for(var a in this.sales_license){var i=this.sales_license[a];i.building&&i.building.includes(t)&&e.push(i.license)}this.formData.sales_license=e}}},created:function(){this.$urlData&&this.$urlData.id&&(this.estate_id=this.$urlData.id),this.resetData({formData:this.formData},function(){}),this.getSalesLicense(),this.getList(this.searchData),this.getEstatesNewSaleStatus()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.$urlData&&this.$urlData.id){var e=this;t.estate_id=this.$urlData.id,u.requests("post",{url:"estates/getEstatesnewBuildingList",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})}},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){u.requests("post",{url:"estates/delEstateBuilding",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(t.sales_license=t.sales_license?t.sales_license:[],this.formData=l()({},t),this.formData.sale_status=String(this.formData.sale_status)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,e.$urlData&&e.$urlData.id?a.formData.estate_id=e.$urlData.id:a.formData.estate_id=0,u.requests("post",{url:"estates/editEstatesnewBuilding",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch(),a.getSalesLicense()):a.$message({type:"error",message:t.msg})}))})},getSalesLicense:function(){var t=0,e=this;e.formData.id&&(t=e.formData.id),u.requests("post",{url:"estates/getSalesLicense",data:{estate_id:e.estate_id,building_id:t}}).then(function(t){e.sales_license=t.data.sales_license})},openPage:u.openPage}},m=(a("2Lqh"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tb-top",staticStyle:{float:"right"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入楼栋名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:"/estates/estatesnew"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"楼栋名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){t.openPage({url:"/estates/estatesnew_opentime",data:{building_id:e.row.id,estate_id:t.estate_id}})}}},[t._v("开盘时间")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"楼栋名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"楼型",prop:"building_type","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.building_type,callback:function(e){t.$set(t.formData,"building_type",e)},expression:"formData.building_type"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"sale_status",label:"销售状态","label-width":t.formLabelWidth}},t._l(t.const_estates_new_sale_status,function(e,i){return a("el-radio",{key:i,attrs:{label:String(i)},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v(t._s(e))])}))],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"层级",prop:"floor_number","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{label:"层级"},model:{value:t.formData.floor_number,callback:function(e){t.$set(t.formData,"floor_number",e)},expression:"formData.floor_number"}}),t._v(" 层\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"unit",label:"每层几单元","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{label:"每层几单元"},model:{value:t.formData.unit,callback:function(e){t.$set(t.formData,"unit",e)},expression:"formData.unit"}}),t._v(" 单元\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"house_number",label:"户数","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{label:"户数"},model:{value:t.formData.house_number,callback:function(e){t.$set(t.formData,"house_number",e)},expression:"formData.house_number"}}),t._v(" 户\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"delivery_time",label:"交房时间","label-width":"110px"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.delivery_time,callback:function(e){t.$set(t.formData,"delivery_time",e)},expression:"formData.delivery_time"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"预售许可证","label-width":t.formLabelWidth}},[t.sales_license&&t.sales_license.length?a("span",[a("el-checkbox-group",{model:{value:t.formData.sales_license,callback:function(e){t.$set(t.formData,"sales_license",e)},expression:"formData.sales_license"}},t._l(t.sales_license,function(e,i){return a("el-checkbox",{key:i,attrs:{label:String(e.license)}},[t._v(t._s(e.license))])}))],1):a("span",[t._v("暂未设置，请先设置预售许可证")])])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"53f87d86",null);f.options.__file="EstatesnewBuilding.vue";e.default=f.exports},q2cZ:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("ygAv"),c={components:{"pagination-box":r.default},directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},data:function(){return{activeName:"2",region_no:"",weixinTitle:"公众号菜单",menu:{button:[]},selectedMenuIndex:"",selectedSubMenuIndex:"",menuNameBounds:!1,materialBox:!1,dialogTableVisible:!1,pagination:{},loadingData:!1,loadSign:!0,page:1,last_page:"",radioStatus:!0,urlTitle:!1,material:{title:"",url:"",thumb_url:""},type_options:[{label:"跳转网页(view)",value:"view"},{label:"发送消息(media_id)",value:"media_id"},{label:"打开指定小程序(miniprogram)",value:"miniprogram"}],form:{},rules:{},listData:[],articleList:[],count:0,busy:!1,mask:[],sure:[],selectArticleIndex:"",articleSelectStatus:!0,formArticle:{title:""},articleBox:!1,scpage:1,tableData:[],tempData:[],multipleSelection:[],radio:"",radioValue:[],selected:{}}},created:function(){this.region_no=this.$urlData.region_no,this.getInfo()},watch:{},methods:{loadMore2:function(){var t=this,e=this;e.busy=!0,setTimeout(function(){e.scpage++,t.searchSource()},1e3)},searchSource:function(){var t=this,e=this;n.requests("post",{url:"wxset/getImageTextList2",data:{page:e.scpage,region_no:e.region_no}}).then(function(a){1==a.code?(console.log(a),console.log(e.scpage),a.data.list?(e.scrollDisabled=!1,e.listData=e.listData.concat(a.data.list),e.articleBox=!1):(e.scrollDisabled=!0,1==e.scpage&&(e.articleBox=!0)),t.busy=!1):n.Message.error(a.msg)})},selectMaterialId:function(){this.materialBox=!0;var t=this;n.requests("post",{url:"wxset/getImageTextList2",data:{region_no:t.region_no}}).then(function(e){console.log(e),t.setDataArr({listData:e.data.list})})},onImageTextSure:function(){this.materialBox=!1,this.articleList=this.listData[this.selectArticleIndex].val,this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].media_id=this.listData[this.selectArticleIndex].media_id,this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].title=this.listData[this.selectArticleIndex].title},closeArticle:function(){var t=[],e=[];for(var a in this.listData)t.push(!1),e.push(!1);this.setDataArr({sure:t,mask:e,selectArticleIndex:""}),this.articleSelectStatus=!0},onMaterialTitleSerch:function(){console.log(this.formArticle),this.selectArticleIndex="",this.articleSelectStatus=!0;var t=this;n.requests("post",{url:"wxset/getImageTextList2",data:{title:this.formArticle.title,region_no:t.region_no}}).then(function(e){console.log(e),t.setDataArr({listData:e.data.list})})},articleClick:function(t){console.log(t),this.selectArticleIndex=t,this.articleSelectStatus=!1;var e=[];for(var a in this.listData)e.push(!1);e[t]=!0,this.setDataArr({sure:e})},onMouseOver:function(t){this.mask[t]=!0;var e=[];for(var a in this.mask)e.push(this.mask[a]);this.setDataArr({mask:e})},onMouseout:function(t){this.mask[t]=!1;var e=[];for(var a in this.mask)e.push(this.mask[a]);this.setDataArr({mask:e})},onImageTextCancel:function(){this.materialBox=!1},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},closeMaterial:function(){this.radioStatus=!0,this.material.title="",this.tableData=this.tempData},loadMore:function(){var t=this;if(this.loadSign){if(this.loadSign=!1,this.page++,this.page>this.last_page)return;this.getMaterialList({type:"news",page:this.page}),setTimeout(function(){t.loadSign=!0},1e3)}},handleCurrentChange:function(t,e){this.currentRow=t},getCurrentRow:function(t){},onSure:function(){1==this.selectedMenuLevel()?this.menu.button[this.selectedMenuIndex].title=this.radioValue.title:2==this.selectedMenuLevel()&&(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].title=this.radioValue.title),this.checkUrlTitle(),""!==this.selectedSubMenuIndex?this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].url=this.radioValue.url:this.menu.button[this.selectedMenuIndex].url=this.radioValue.url,this.dialogTableVisible=!1},onSerch:function(){this.radio="",this.radioStatus=!0;var t=[];if(this.material.title.length>0){for(var e in this.tempData)-1!=this.tempData[e].title.indexOf(this.material.title)&&t.push(this.tempData[e]);this.tableData=t}else this.tableData=this.tempData},pageChange:function(t){var e=l()({},this.material,{type:"news"});e.page=t,this.getMaterialList(e)},showRow:function(t){this.radioStatus=!1,this.radio=this.tableData.indexOf(t),this.radioValue=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},getInfo:function(){var t=this;n.requests("post",{url:"wxset/menuInfo",data:{key:"wechat_menu",region_no:t.region_no}}).then(function(e){if(1==e.code){var a=[];""!=e.data.info.val&&(e.data.info.val.forEach(function(t){void 0!==t.sub_button&&null!=t.sub_button||(t.sub_button=[])}),a=e.data.info.val),t.setDataArr({menu:{button:a}})}else n.Message.error(e.msg)})},validateUrl:function(t){return!!/^((ht|f)tps?):\/\/([\w-]+(\.[\w-]+)*\/?)+(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?$/.test(t)},checkUrl:function(t){this.urlTitle=!1,this.validateUrl(t)||n.Message.error("请输入正确的URL")},onCancel:function(){this.dialogTableVisible=!1},onSubmit:function(){console.log(this.menu);var t="wxmenu";0==this.menu.button.length&&(t="menuDelete"),n.requests("post",{url:"wxset/"+t,data:s()({},this.menu,{region_no:this.region_no})}).then(function(t){1==t.code?n.Message.success(t.msg):n.Message.error(t.msg)})},cardingData:function(){var t=this;this.menu.button.forEach(function(e){(0!=e.sub_button.length&&e.sub_button.forEach(function(e){t.validateUrl(e.url)||(e.url="")}),""!=e.url)&&(t.validateUrl(e.url)||(e.url=""))})},selectedMenu:function(t){if("sub"!=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")){this.selectedMenuIndex=t,this.selectedSubMenuIndex="";var e=this.menu.button[this.selectedMenuIndex]}else{this.selectedSubMenuIndex=t;e=this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex]}void 0!=e.media_id&&""!=e.media_id&&"media_id"==this.selectedMenuType()&&this.getMaterial(e.media_id),this.checkMenuName(e.name)},selectedMenuLevel:function(){return""!==this.selectedMenuIndex&&""===this.selectedSubMenuIndex?1:""!==this.selectedMenuIndex&&""!==this.selectedSubMenuIndex?2:0},selectedMenuType:function(){return 1==this.selectedMenuLevel()&&0==this.menu.button[this.selectedMenuIndex].sub_button.length?this.menu.button[this.selectedMenuIndex].type:2==this.selectedMenuLevel()?this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].type:void 0},addMenu:function(t){1==t&&this.menu.button.length<3&&(this.menu.button.push({type:"view",name:"菜单名称",sub_button:[],url:""}),this.selectedMenuIndex=this.menu.button.length-1,this.selectedSubMenuIndex="",this.checkMenuName(this.menu.button[this.selectedMenuIndex].name)),2==t&&this.menu.button[this.selectedMenuIndex].sub_button.length<5&&(this.menu.button[this.selectedMenuIndex].sub_button.push({type:"view",name:"子菜单名称",url:""}),this.selectedSubMenuIndex=this.menu.button[this.selectedMenuIndex].sub_button.length-1,this.checkMenuName(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].name))},delMenu:function(){1==this.selectedMenuLevel()&&confirm("删除后菜单下设置的内容将被删除")?(0===this.selectedMenuIndex?(this.menu.button.splice(this.selectedMenuIndex,1),this.selectedMenuIndex=0):(this.menu.button.splice(this.selectedMenuIndex,1),this.selectedMenuIndex-=1),0==this.menu.button.length&&(this.selectedMenuIndex="")):2==this.selectedMenuLevel()&&(0===this.selectedSubMenuIndex?(this.menu.button[this.selectedMenuIndex].sub_button.splice(this.selectedSubMenuIndex,1),this.selectedSubMenuIndex=0):(this.menu.button[this.selectedMenuIndex].sub_button.splice(this.selectedSubMenuIndex,1),this.selectedSubMenuIndex-=1),0==this.menu.button[this.selectedMenuIndex].sub_button.length&&(this.selectedSubMenuIndex=""))},checkMenuName:function(t){1==this.selectedMenuLevel()&&this.getMenuNameLen(t)<=8?this.menuNameBounds=!1:2==this.selectedMenuLevel()&&this.getMenuNameLen(t)<=16?this.menuNameBounds=!1:this.menuNameBounds=!0,this.checkUrlTitle()},checkUrlTitle:function(){this.urlTitle=!1,1==this.selectedMenuLevel()?void 0!==this.menu.button[this.selectedMenuIndex].title&&(this.urlTitle=!0):2==this.selectedMenuLevel()?void 0!==this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].title&&(this.urlTitle=!0):this.urlTitle=!1},getMenuNameLen:function(t){for(var e=0,a=0;a<t.length;a++){null!=t.charAt(a).match(/[^\x00-\xff]/gi)?e+=2:e+=1}return e},selectNewsUrl:function(t){this.dialogTableVisible=!0,""!==this.last_page&&this.page>=this.last_page||this.getMaterialList({type:"news",page:this.page})},getMaterialList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.loadingData=!0,n.requests("post",{url:"wxset/getMaterialList",data:s()({},t,{region_no:e.region_no})}).then(function(t){if(e.loadingData=!1,1==t.code){for(var a in t.data.list)e.tableData.push(t.data.list[a]);e.setDataArr({tempData:e.tableData,last_page:t.data.last_page})}else n.Message.error(t.msg)})},setMaterialId:function(t,e,a){1==this.selectedMenuLevel()?Vue.set(this.menu.button[this.selectedMenuIndex],"media_id",t):2==this.selectedMenuLevel()&&Vue.set(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex],"media_id",t),this.material.title=e,this.material.url=a},delMaterialId:function(){1==this.selectedMenuLevel()?this.menu.button[this.selectedMenuIndex].media_id="":2==this.selectedMenuLevel()&&(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].media_id="",this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].title=""),this.menu=l()({},this.menu)},setNewsUrl:function(t){1==this.selectedMenuLevel()?Vue.set(this.menu.button[this.selectedMenuIndex],"url",t):2==this.selectedMenuLevel()&&Vue.set(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex],"url",t)}}},u=(a("ynX/"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"mapeditor-title"},[t._v("微信公众号菜单设置")]),t._v(" "),a("div",{staticClass:"content",staticStyle:{width:"900px",margin:"0 auto"}},[a("div",{attrs:{id:"app-menu"}},[a("div",{staticClass:"weixin-preview"},[a("div",{staticClass:"weixin-hd"},[a("div",{staticClass:"weixin-title"},[t._v(t._s(t.weixinTitle))])]),t._v(" "),a("div",{staticClass:"weixin-bd"},[a("ul",{staticClass:"weixin-menu",attrs:{id:"weixin-menu"}},[t._l(t.menu.button,function(e,i){return a("li",{key:i,staticClass:"menu-item",class:{current:t.selectedMenuIndex===i&&1==t.selectedMenuLevel()},on:{click:function(e){t.selectedMenu(i)}}},[a("div",{staticClass:"menu-item-title"},[a("i",{staticClass:"icon_menu_dot"}),t._v(" "),a("span",[t._v(t._s(e.name))])]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.selectedMenuIndex===i,expression:"selectedMenuIndex===i"}],staticClass:"weixin-sub-menu"},[t._l(e.sub_button,function(e,i){return a("li",{key:i,staticClass:"menu-sub-item",class:{current:t.selectedSubMenuIndex===i&&2==t.selectedMenuLevel()},on:{click:function(e){e.stopPropagation(),t.selectedMenu(i,"sub")}}},[a("div",{staticClass:"menu-item-title"},[a("span",[t._v(t._s(e.name))])])])}),t._v(" "),e.sub_button.length<5?a("li",{staticClass:"menu-sub-item",on:{click:function(e){e.stopPropagation(),t.addMenu(2)}}},[t._m(0,!0)]):t._e(),t._v(" "),a("i",{staticClass:"menu-arrow arrow_out"}),t._v(" "),a("i",{staticClass:"menu-arrow arrow_in"})],2)])}),t._v(" "),t.menu.button.length<3?a("li",{staticClass:"menu-item",on:{click:function(e){t.addMenu(1)}}},[a("i",{staticClass:"icon14_menu_add"})]):t._e()],2)])]),t._v(" "),1==t.selectedMenuLevel()?a("div",{staticClass:"weixin-menu-detail"},[a("div",{staticClass:"menu-input-group",staticStyle:{"border-bottom":"2px #e8e8e8 solid"}},[a("div",{staticClass:"menu-name"},[t._v(t._s(t.menu.button[t.selectedMenuIndex].name))]),t._v(" "),a("div",{staticClass:"menu-del",on:{click:t.delMenu}},[t._v("删除菜单")])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("菜单名称")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].name,expression:"menu.button[selectedMenuIndex].name"}],staticClass:"menu-input-text",attrs:{type:"text",name:"name",placeholder:"请输入菜单名称"},domProps:{value:t.menu.button[t.selectedMenuIndex].name},on:{input:[function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"name",e.target.value)},function(e){t.checkMenuName(t.menu.button[t.selectedMenuIndex].name)}]}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.menuNameBounds,expression:"menuNameBounds"}],staticClass:"menu-tips",staticStyle:{color:"#e15f63"}},[t._v("字数超过上限")]),t._v(" "),a("p",{staticClass:"menu-tips"},[t._v("字数不超过4个汉字或8个字母")])])]),t._v(" "),0==t.menu.button[t.selectedMenuIndex].sub_button.length?[a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("菜单内容")]),t._v(" "),a("el-select",{staticStyle:{width:"300px","margin-left":"10px"},model:{value:t.menu.button[t.selectedMenuIndex].type,callback:function(e){t.$set(t.menu.button[t.selectedMenuIndex],"type",e)},expression:"menu.button[selectedMenuIndex].type"}},t._l(t.type_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),"view"==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("订阅者点击该子菜单会跳到以下链接")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("页面地址")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].url,expression:"menu.button[selectedMenuIndex].url"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].url},on:{change:function(e){t.checkUrl(t.menu.button[t.selectedMenuIndex].url)},input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"url",e.target.value)}}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.urlTitle,expression:"urlTitle"}],staticClass:"menu-tips cursor"},[t._v("来自素材库 - 《"+t._s(t.menu.button[t.selectedMenuIndex].title)+"》")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.urlTitle,expression:"urlTitle"}],attrs:{plain:""},on:{click:function(e){t.selectNewsUrl()}}},[t._v("重新选择")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.urlTitle,expression:"!urlTitle"}],staticClass:"menu-tips cursor",on:{click:function(e){t.selectNewsUrl()}}},[t._v("从公众号图文消息中选择")])],1)])]):"media_id"==t.selectedMenuType()?a("div",{staticClass:"menu-msg-content"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"用户管理"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"icon_msg_sender"}),t._v(" 图文消息")]),t._v(" "),a("div",{staticClass:"menu-msg-panel"},[""==t.menu.button[t.selectedMenuIndex].media_id||void 0==t.menu.button[t.selectedMenuIndex].media_id?a("div",{staticClass:"menu-msg-select",on:{click:t.selectMaterialId}},[a("i",{staticClass:"icon36_common add_gray"}),t._v(" "),a("strong",[t._v("从素材库中选择")])]):a("div",{staticClass:"menu-msg-select"},[a("div",{staticClass:"menu-msg-title"},[a("i",{staticClass:"icon_msg_sender"}),t._v("\n                      "+t._s(t.material.title)+"\n                    ")]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-info",attrs:{href:t.material.url,target:"_blank"}},[t._v("查看")]),t._v(" "),a("div",{staticClass:"btn btn-sm btn-danger",on:{click:t.delMaterialId}},[t._v("删除")])])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"配置管理"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"icon_t"}),t._v(" "),a("img",{attrs:{src:"",alt:""}}),t._v("文字")]),t._v("\n                配置管理")]),t._v(" "),a("el-tab-pane",{attrs:{label:"角色管理"}},[t._v("角色管理")]),t._v(" "),a("el-tab-pane",{attrs:{label:"定时任务补偿"}},[t._v("定时任务补偿")])],1)],1):"miniprogram"==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("订阅者点击该子菜单会跳到以下小程序")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("小程序APPID")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].appid,expression:"menu.button[selectedMenuIndex].appid"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"小程序的appid（仅认证公众号可配置）"},domProps:{value:t.menu.button[t.selectedMenuIndex].appid},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"appid",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("小程序路径")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].pagepath,expression:"menu.button[selectedMenuIndex].pagepath"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"小程序的页面路径 pages/Index/index"},domProps:{value:t.menu.button[t.selectedMenuIndex].pagepath},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"pagepath",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("备用网页")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].url,expression:"menu.button[selectedMenuIndex].url"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].url},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"url",e.target.value)}}}),t._v(" "),a("p",{staticClass:"menu-tips"},[t._v("旧版微信客户端无法支持小程序，用户点击菜单时将会打开备用网页。")])])])]):3==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("用于消息接口推送，不超过128字节")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("菜单KEY值")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].key,expression:"menu.button[selectedMenuIndex].key"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].key},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"key",e.target.value)}}})])])]):t._e()]:t._e()],2):t._e(),t._v(" "),2==t.selectedMenuLevel()?a("div",{staticClass:"weixin-menu-detail"},[a("div",{staticClass:"menu-input-group",staticStyle:{"border-bottom":"2px #e8e8e8 solid"}},[a("div",{staticClass:"menu-name"},[t._v(t._s(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].name))]),t._v(" "),a("div",{staticClass:"menu-del",on:{click:t.delMenu}},[t._v("删除子菜单")])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("子菜单名称")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].name,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].name"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"请输入子菜单名称"},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].name},on:{input:[function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"name",e.target.value)},function(e){t.checkMenuName(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].name)}]}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.menuNameBounds,expression:"menuNameBounds"}],staticClass:"menu-tips",staticStyle:{color:"#e15f63"}},[t._v("字数超过上限")]),t._v(" "),a("p",{staticClass:"menu-tips"},[t._v("字数不超过8个汉字或16个字母")])])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("子菜单内容")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("el-select",{staticStyle:{width:"300px","margin-left":"10px"},model:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].type,callback:function(e){t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"type",e)},expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].type"}},t._l(t.type_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),"view"==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("订阅者点击该子菜单会跳到以下链接")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("页面地址")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].url"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url},on:{change:function(e){t.checkUrl(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url)},input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"url",e.target.value)}}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.urlTitle,expression:"urlTitle"}],staticClass:"menu-tips cursor",staticStyle:{color:"#8D8D8D","font-size":"14px"}},[t._v("来自素材库 - 《"+t._s(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].title)+"》")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.urlTitle,expression:"urlTitle"}],attrs:{plain:""},on:{click:function(e){t.selectNewsUrl()}}},[t._v("重新选择")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.urlTitle,expression:"!urlTitle"}],staticClass:"menu-tips cursor",on:{click:function(e){t.selectNewsUrl()}}},[t._v("从公众号图文消息中选择")])],1)])]):"media_id"==t.selectedMenuType()?a("div",{staticClass:"menu-msg-content"},[t._m(1),t._v(" "),a("div",{staticClass:"menu-msg-panel"},[t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].media_id?a("div",{staticClass:"menu-msg-select"},[a("i",{staticClass:"icon_msg_sender"}),t._v("\n              "+t._s(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].title)+"\n              "),t._v(" "),a("div",{staticClass:"btn btn-sm btn-danger",on:{click:t.delMaterialId}},[t._v("删除")])]):a("div",{staticClass:"menu-msg-select",on:{click:t.selectMaterialId}},[a("i",{staticClass:"icon36_common add_gray"}),t._v(" "),a("strong",[t._v("从素材库中选择")])])])]):"miniprogram"==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("订阅者点击该子菜单会跳到以下小程序")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("小程序APPID")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].appid,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].appid"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"小程序的appid（仅认证公众号可配置）"},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].appid},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"appid",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("小程序路径")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].pagepath,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].pagepath"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"小程序的页面路径 pages/Index/index"},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].pagepath},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"pagepath",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("备用网页")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].url"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"url",e.target.value)}}}),t._v(" "),a("p",{staticClass:"menu-tips"},[t._v("旧版微信客户端无法支持小程序，用户点击菜单时将会打开备用网页。")])])])]):3==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("用于消息接口推送，不超过128字节")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("菜单KEY值")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].key,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].key"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].key},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"key",e.target.value)}}})])])]):t._e()]):t._e()]),t._v(" "),a("el-dialog",{attrs:{title:"选择素材",visible:t.materialBox},on:{"update:visible":function(e){t.materialBox=e},close:t.closeArticle}},[a("div",{staticStyle:{height:"300px",overflow:"auto"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore2,expression:"loadMore2"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.articleBox,expression:"articleBox"}],staticStyle:{margin:"0 auto",width:"256px",position:"relative",top:"150px"}},[a("strong",[t._v("素材管理中还没有图文哦")])]),t._v(" "),a("ul",t._l(t.listData,function(e,i){return a("li",[a("div",{staticClass:"article-list",on:{mouseenter:function(e){t.onMouseOver(i)},mouseleave:function(e){t.onMouseout(i)},click:function(e){t.articleClick(i)}}},[a("ul",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.sure[i]||t.mask[i],expression:"sure[i] || mask[i]"}],staticClass:"edit_mask"},[a("i",{staticClass:"icon_card_selected"},[t._v("已选择")])]),t._v(" "),a("div",{staticClass:"appmsg_info"},[a("em",{staticClass:"appmsg_date"},[t._v("更新于 "+t._s(e.create_time))])]),t._v(" "),t._l(e.val,function(e,i){return a("li",[0==i?a("div",{staticClass:"big-img-box"},[a("div",{staticClass:"big-img-box-inline",style:{backgroundImage:"url("+t.getRealImgUrl(e.img)+")"}},[a("div",{staticClass:"big-tile"},[a("span",{staticClass:"card_appmsg_title"},[t._v(t._s(e.title))])])]),t._v(" "),a("div",{staticStyle:{"border-bottom":"1px solid #E8E8E8",width:"93%",margin:"0 auto",position:"relative",top:"16%"}})]):a("div",{staticClass:"small-img-box"},[a("div",{staticClass:"card_appmsg"},[a("div",{staticClass:"weui-desktop-vm_primary card_appmsg_hd"},[a("strong",{staticClass:"card_appmsg_title js_appmsg_title",staticStyle:{color:"black",width:"185px"}},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"card_appmsg_thumb js_appmsg_thumb",style:{backgroundImage:"url("+t.getRealImgUrl(e.img)+")"}})]),t._v(" "),a("div",{staticStyle:{"border-bottom":"1px solid #E8E8E8",width:"93%",margin:"0 auto",position:"relative",top:"41%"}})])])})],2)])])}))])]),t._v(" "),a("el-row",{staticStyle:{"text-align":"center"},attrs:{gutter:20}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",disabled:t.articleSelectStatus},on:{click:t.onImageTextSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{type:"info",plain:""},on:{click:t.onImageTextCancel}},[t._v(" 取消 ")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"公众号内容",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e},close:t.closeMaterial}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.material}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"标题","prefix-icon":"el-icon-search"},model:{value:t.material.title,callback:function(e){t.$set(t.material,"title",e)},expression:"material.title"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.loadMore,expression:"loadMore"},{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"350px","highlight-current-row":"",border:""},on:{"current-change":t.handleCurrentChange,"row-click":t.showRow}},[a("el-table-column",{attrs:{label:"选择",width:"70",center:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.$index},nativeOn:{change:function(a){t.getCurrentRow(e.$index)}},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(" ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"title",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"发布日期",width:"180"}})],1),t._v(" "),a("el-row",{staticStyle:{"text-align":"center"},attrs:{gutter:20}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",disabled:t.radioStatus},on:{click:t.onSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{type:"info",plain:""},on:{click:t.onCancel}},[t._v(" 取消 ")])],1)],1),t._v(" "),a("div",{staticClass:"weixin-btn-group"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-item-title"},[e("i",{staticClass:"icon14_menu_add"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-msg-head"},[e("i",{staticClass:"icon_msg_sender"}),this._v("图文消息\n          ")])}],!1,null,"2caa65e1",null);d.options.__file="wxmenu.vue";e.default=d.exports},qDVV:function(t,e,a){},"qM+O":function(t,e,a){},qSIp:function(t,e,a){"use strict";var i=a("bK9C");a.n(i).a},qU0o:function(t,e,a){},qkYM:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("ygAv"),r={components:{"pagination-box":o.default},data:function(){return{searchData:{cate_id:[13,"all"],name:"",status:"-1"},categoryList:[],page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getCategoryList(),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,l.requests("post",{url:"news/getListVoide",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):l.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getCategoryList:function(){var t=this;l.requests("post",{url:"news/getCategoryListAll",data:{pid:[13]}}).then(function(e){if(1==e.code){t.setDataArr({categoryList:e.data});var a=new Array;a.id="all",a.title="全部",t.categoryList.unshift(a)}else l.Message.error(e.msg)})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},format9999Num:function(t){return t?(t>9999&&(t="9999 +"),t):0},formatDate:function(t){return l.DataFun.getFormatDate(t,2)},doDel:function(t,e){var a=this;a.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.page_loading||(a.page_loading=!0,l.requests("post",{url:"news/delVideo",data:{id:t,p_cate_id:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),l.Message.success("操作成功")):l.Message.error(t.msg)}))}).catch(function(){})},sortChange:function(t,e,a){var i=this;if("NaN"==parseFloat(e).toString())return l.Message.error("排序必须是数字"),!1;i.page_loading||(i.page_loading=!0,l.requests("post",{url:"news/changeSortVideo",data:{id:t,sort:e,p_cate_id:a}}).then(function(t){i.page_loading=!1,1==t.code?(i.onSerch(),l.Message.success("操作成功")):l.Message.error(t.msg)}))},switchChange:function(t,e,a){var i=this;i.page_loading||(i.page_loading=!0,l.requests("post",{url:"news/enableVideo",data:{id:t,status:e,p_cate_id:a}}).then(function(t){i.page_loading=!1,1==t.code?(i.onSerch(),l.Message.success("操作成功")):l.Message.error(t.msg)}))},openPage:l.openPage}},n=(a("S+zT"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"类别选择"}},[a("el-cascader",{attrs:{options:t.categoryList,props:{value:"id",label:"title"},"show-all-levels":!1},model:{value:t.searchData.cate_id,callback:function(e){t.$set(t.searchData,"cate_id",e)},expression:"searchData.cate_id"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入文章名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"草稿",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/news/videoedit"})}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"封面图",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"110px",height:"110px"},attrs:{src:t.getRealImgUrl(e.row.cover_url)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"190",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"统计信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("span",[a("div",[t._v("真实阅读数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_read_real?t.format9999Num(e.row.num_read_real):0))])],1),t._v(" "),a("div",[t._v("真实收藏数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_collect_real?t.format9999Num(e.row.num_collect_real):0))])],1),t._v(" "),a("div",[t._v("真实转发数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_share_real?t.format9999Num(e.row.num_share_real):0))])],1),t._v(" "),a("div",[t._v("真实点赞数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_thumbup_real?t.format9999Num(e.row.num_thumbup_real):0))])],1)]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("span",[a("div",[t._v("阅读数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_read?t.format9999Num(e.row.num_read):0))])],1),t._v(" "),a("div",[t._v("收藏数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_collect?t.format9999Num(e.row.num_collect):0))])],1),t._v(" "),a("div",[t._v("转发数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_share?t.format9999Num(e.row.num_share):0))])],1),t._v(" "),a("div",[t._v("点赞数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row&&e.row.num_thumbup?t.format9999Num(e.row.num_thumbup):0))])],1)])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n           "+t._s(t.formatDate(e.row.create_time))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,e.row.p_cate_id)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.status1?a("el-tag",{attrs:{type:"info"}},[t._v("草稿 ")]):t._e(),t._v(" "),1==e.row.status1?a("el-tag",{attrs:{type:"success"}},[t._v("已发布 ")]):t._e(),t._v(" "),0==e.row.status1?a("el-tag",{attrs:{type:"danger"}},[t._v("未发布 ")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"越大越靠前",size:"medium"},on:{change:function(a){t.sortChange(e.row.id,a,e.row.p_cate_id)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/news/videoedit",data:{id:e.row.id}})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id,e.row.p_cate_id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"3a4a9fd4",null);c.options.__file="videoindex.vue";e.default=c.exports},qtDJ:function(t,e,a){},r2BO:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("U3Wb")),c=a("kxxL"),u=a("ygAv"),d={components:{"img-upload":r.default,Article:n.default},mixins:[c.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"150px",src:"",default_src:"",page_loading:"",innerVisible:!1,thumb:{},rules:{},searchData:{status:"-1",searchData:"-1"},catelist:[],tableData:[],formData:{name:"",id:""}}},created:function(){this.getCateList();var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;u.requests("post",{url:"Wxset/getMaterialData",data:t}).then(function(t){e.tableData=t.data.list})},innerFormData:function(t){this.formData.id=t.id,this.formData.name=t.name},changeInnerShow:function(){this.innerVisible=!0},getCateList:function(){var t=this;u.requests("get",{url:"news/getCateList",data:{pid:0,flag:"fx"}}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({catelist:e.data}):u.Message.error(e.msg)})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){u.requests("post",{url:"Wxset/deleteWxFile",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,u.requests("post",{url:"Wxset/uploadWxFile",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},m=(a("Oqp2"),a("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-input",{attrs:{placeholder:"请输入文章名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增素材")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"media_id",label:"微信资源标识",width:"360",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?a("el-tag",[t._v("图片")]):2==e.row.type?a("el-tag",[t._v("图文")]):1==e.row.type?a("el-tag",[t._v("视频")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{on:{click:t.changeInnerShow}},[a("el-form-item",{attrs:{label:"请选择需上传文章",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{disabled:!0,placeholder:"请输入内容"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)])],1),t._v(" "),a("Article",{attrs:{show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"51b3e1e6",null);f.options.__file="wxset.vue";e.default=f.exports},r8J9:function(t,e,a){},r9gY:function(t,e,a){},s9wP:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("kxxL"),n=a("ygAv"),c={components:{},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",rules:{},searchData:{status:"-1",type:"-1"},tableData:[],formData:{id:0,content:[],basic_point:[],release_time:"",type:"1",status:"1"},contentItem:[],basicPointItem:[]}},created:function(){this.resetData({formData:this.formData},function(){}),this.getList(this.searchData)},watch:{},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;n.requests("post",{url:"interestRate/getList",data:t}).then(function(t){e.tableData=t.data.list})},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.contentItem=this.formData.content,this.basicPointItem=this.formData.basic_point),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),this.contentItem=[],this.basicPointItem=[],1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;n.requests("post",{url:"interestRate/status",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?n.Message.success("操作成功"):n.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.requests("post",{url:"interestRate/delete",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.content=a.contentItem,a.formData.basic_point=a.basicPointItem,n.requests("post",{url:"interestRate/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},onAdd:function(t){switch(t){case"content":1==this.formData.type?this.contentItem.length<2?this.contentItem.push({year:"",rate:""}):this.$alert("超出限制","提示",{confirmButtonText:"确定",callback:function(t){}}):this.contentItem.push({start:"",end:"",rate:""});break;case"basic_point":this.basicPointItem.push({rate:""})}},onDelete:function(t,e){switch(e){case"content":this.contentItem.splice(t,1);break;case"basic_point":this.basicPointItem.splice(t,1)}},changeType:function(){this.contentItem=[],this.basicPointItem=[]}}},u=(a("t1uW"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"LPR",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"个人贷款旧版基准利率",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"公积金贷款基准利率",value:"3"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.type?a("el-tag",[t._v("LPR")]):t._e(),t._v(" "),"2"==e.row.type?a("el-tag",[t._v("个人贷款旧版基准利率")]):t._e(),t._v(" "),"3"==e.row.type?a("el-tag",[t._v("公积金贷款基准利率")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"release_time",label:"发布时间",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeType},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"LPR",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"个人贷款旧版基准利率",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"公积金贷款基准利率",value:"3"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"发布时间","label-width":t.formLabelWidth,"v-cloak":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.release_time,callback:function(e){t.$set(t.formData,"release_time",e)},expression:"formData.release_time"}})],1)],1),t._v(" "),a("el-row",[a("el-row",{attrs:{span:24}},[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onAdd("content")}}},[t._v("添加利率")])],1)],1),t._v(" "),1!=t.formData.type?a("el-row",t._l(t.contentItem,function(e,i){return a("el-row",{key:"content"+i},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"year_start",label:"年限","label-width":"70px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:e.start,callback:function(a){t.$set(e,"start",a)},expression:"itemC.start"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"year_end",label:"至","label-width":"40px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:e.end,callback:function(a){t.$set(e,"end",a)},expression:"itemC.end"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"rate",label:"利率(百分比)","label-width":"100px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:e.rate,callback:function(a){t.$set(e,"rate",a)},expression:"itemC.rate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"del",label:"","label-width":"120px"}},[a("el-button",{on:{click:function(e){t.onDelete(i,"content")}}},[t._v("删除")])],1)],1)],1)})):t._e(),t._v(" "),1==t.formData.type?a("el-row",t._l(t.contentItem,function(e,i){return a("el-row",{key:"content"+i},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"year_start",label:"年期","label-width":"70px"}},[a("el-input-number",{model:{value:e.year,callback:function(a){t.$set(e,"year",a)},expression:"itemC.year"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"rate",label:"利率(百分比)","label-width":"120px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:e.rate,callback:function(a){t.$set(e,"rate",a)},expression:"itemC.rate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"del",label:"","label-width":"120px"}},[a("el-button",{on:{click:function(e){t.onDelete(i,"content")}}},[t._v("删除")])],1)],1)],1)})):t._e()],1),t._v(" "),a("el-row",[a("el-row",{attrs:{span:24}},[a("el-col",[1==t.formData.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onAdd("basic_point")}}},[t._v("添加基点")]):a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onAdd("basic_point")}}},[t._v("添加上浮百分比")])],1)],1),t._v(" "),t._l(t.basicPointItem,function(e,i){return a("el-row",{key:"basic"+i},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"rate",label:"数值(百分比)","label-width":"120px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:e.rate,callback:function(a){t.$set(e,"rate",a)},expression:"itemB.rate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"del",label:"","label-width":"120px"}},[a("el-button",{on:{click:function(e){t.onDelete(i,"basic_point")}}},[t._v("删除")])],1)],1)],1)})],2)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"045fda61",null);d.options.__file="interestRate.vue";e.default=d.exports},"sRQ/":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),s=a.n(i),o=a("P2sY"),l=a.n(o),r=a("Bi68"),n=a("Jf9N"),c=a("Z1g7"),u=a("g5Kx"),d=a("ygAv"),m={components:{"pagination-box":r.default,"extra-checkbox":n.default,"img-upload":c.default},data:function(){var t=this;return{dialogFormVisible:!1,formLabelWidth:"123px",form:{id:"",name:"",type:1,fordo:"",icon:"/static/images/defultImg.png"},rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}],type:[{required:!0,message:"缺少作用标识"}],fordo:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(""==t.form.fordo)return i(new Error("请点选要应用的模块")),!1;i()})}}],icon:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(!t.form.icon||""==t.form.icon)return i(new Error("请上传图片")),!1;i()})}}]},check_dataAll:u.a.data,default_src:"",searchData:{name:"",type:1,fordo:""},page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,d.requests("post",{url:"extra/getExtraList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):d.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onUploadedImg:function(t){var e=t.res.info;this.form.icon=e.url},onChecked:function(t,e){this.form.fordo=e?"all":t.join(",")},getCheckedsName:function(t){var e=t.split(","),a=[];for(var i in e)a[i]=u.a.getCheckedsName(e[i]);return a.join(" / ")},resetData:function(){this.setDataArr({form:{id:"",name:"",type:1,fordo:"",icon:"/static/images/defultImg.png"}}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.dialogFormVisible=!0,s()(t).length>0&&(e.form=l()({},t),e.form.fordo&&e.$nextTick(function(){e.$refs.extra_checkbox.setCheckeds(e.form.fordo)}),e.default_src=e.getRealImgUrl(e.form.icon))},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.page_loading||(t.page_loading=!0,d.requests("post",{url:"extra/extraEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(d.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):d.Message.error(e.msg)}))})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,d.requests("post",{url:"extra/extraDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),d.Message.success("操作成功")):d.Message.error(t.msg)}))}).catch(function(){})},openPage:function(t){return d.openPage(t)}}},f=(a("36QG"),a("KHd+")),p=Object(f.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:!0,placeholder:"模块应用范围"},model:{value:t.searchData.fordo,callback:function(e){t.$set(t.searchData,"fordo",e)},expression:"searchData.fordo"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),t._l(t.check_dataAll,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"icon图标",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.getRealImgUrl(e.row.icon)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"模块应用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("  \n          "+t._s(t.getCheckedsName(e.row.fordo))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,name:e.row.name,type:e.row.type,fordo:e.row.fordo,icon:e.row.icon})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑设施":"新增设施",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"作用标识","label-width":t.formLabelWidth,prop:"type"}},[a("el-input",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上传图片","label-width":t.formLabelWidth,prop:"icon"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"模块应用","label-width":t.formLabelWidth,prop:"fordo"}},[a("extra-checkbox",{ref:"extra_checkbox",attrs:{dataAll:t.check_dataAll},on:{onChecked:t.onChecked}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)])},[],!1,null,"d2bf8fc6",null);p.options.__file="facilitie.vue";e.default=p.exports},sSgq:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=a("Zd91"),c=a("fbG1"),u=a("FedZ"),d=a("NLI4"),m=a("I0Yi"),f=a("ygAv"),p={components:{"img-upload":r.default,"img-upload2":c.default,"voice-upload":u.default,"dy-tags":n.default,simple:d.default,"estates-new":m.default},data:function(){return{siteCitys:[],dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",innerVisible:!1,thumb:{},rules:{},searchStatus:[{status:"-1",label:"全部"},{status:"0",label:"禁用"},{status:"1",label:"启用"}],searchTime:[],searchData:{status:"-1",startdate:"",enddate:"",place:""},tableData:[],formData:{status:"0",sort:"0",title:"",img_ids:[],cover:"",start_time:"",end_time:"",region_no:"",is_propert_news:!1,forid:"",forname:"",type:"0",align:"0",urls:[],fileUrl:""},isedit:!1,place_id:0,place:"",imglimit:1}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.place_id=this.$urlData.place_id,this.place=this.$urlData.place,this.place&&(this.searchData.place=this.place),this.getSiteCitys(),this.getList(this.searchData)},methods:{getSiteCitys:function(){var t=this;f.requests("post",{url:"city/siteCitys"}).then(function(e){t.siteCitys=e.data})},setPropertNesData:function(t){t||this.clearInner()},changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0},seteidtflag:function(){this.isedit=!0},geturl:function(t){this.formData.cover=t.id,this.formData.fileUrl=t.path},onUploadedfile:function(t){var e=t.res.info;this.formData.fileList=e},setImgLimit:function(t){this.$refs.imgUpload.resetData(),this.imglimit=parseInt(t)+1},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;f.requests("post",{url:"banner/getBannerList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:f.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealVoiceUrl(t)},resetData:function(){this.setDataArr({formData:{status:"0",sort:"0",cover:"",title:"",img_ids:[],start_time:"",end_time:"",forid:"",forname:"",region_no:"",type:"0",align:"0"},default_src:""}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.align=String(this.formData.align),this.formData.is_propert_news=Boolean(this.formData.is_propert_news),this.default_src=this.$getRealImgUrl(this.formData.cover),this.formData.start_time=this.getFormatDate(this.formData.start_time,2),this.formData.end_time=this.getFormatDate(this.formData.end_time,2)),console.log(this.formData.urls),console.log(this.isedit),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return f.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,f.requests("post",{url:"banner/bannerChangeSort",data:{id:t,sort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSearch(),f.Message.success("操作成功")):f.Message.error(t.msg)}))},onUploadedImg:function(t){},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;f.requests("post",{url:"banner/bannerEnable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?f.Message.success("操作成功"):f.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f.requests("post",{url:"banner/bannerDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.place_id=a.place_id,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,f.requests("post",{url:"banner/bannerEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.isedit=!1,a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:f.openPage}},h=(a("da4X"),a("KHd+")),g=Object(h.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},t._l(t.searchStatus,function(t){return a("el-option",{key:t.status,attrs:{label:t.label,value:t.status}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"ID",width:"200",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"banner图",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"90px"},attrs:{src:e.row.urls[0]?t.getRealImgUrl(e.row.urls[0].url):""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容"},on:{change:function(a){t.sortChange(e.row.id,a)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" - "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"read_num",label:"浏览次数",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"广告标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{r:"",placeholder:"请输入内容"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"city-box",attrs:{label:"区域","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.region_no,callback:function(e){t.$set(t.formData,"region_no",e)},expression:"formData.region_no"}},t._l(t.siteCitys,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:t.id}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"浏览次数",prop:"read_num","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.read_num,callback:function(e){t.$set(t.formData,"read_num",e)},expression:"formData.read_num"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"跳转地址","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.href,callback:function(e){t.$set(t.formData,"href",e)},expression:"formData.href"}}),t._v(" "),a("span",{staticStyle:{color:"red","font-size":"3px","line-height":"1px"}},[t._v("外部链接需加http:// 如 http://www.xx.cm 内部链接 不需要  如 discover/index.html")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否房源广告","label-width":t.formLabelWidth}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.setPropertNesData},model:{value:t.formData.is_propert_news,callback:function(e){t.$set(t.formData,"is_propert_news",e)},expression:"formData.is_propert_news"}})],1)],1),t._v(" "),t.formData.is_propert_news?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-radio",{attrs:{label:"0"}},[t._v("图片")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("视频")])],1)],1),t._v(" "),"0"==t.formData.type?a("el-form-item",{staticClass:"city-box",attrs:{label:"排版样式","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:t.setImgLimit},model:{value:t.formData.align,callback:function(e){t.$set(t.formData,"align",e)},expression:"formData.align"}},[a("el-option",{key:"0",attrs:{label:"单张",value:"0"}}),t._v(" "),a("el-option",{key:"1",attrs:{label:"双张",value:"1"}}),t._v(" "),a("el-option",{key:"2",attrs:{label:"三张",value:"2"}})],1)],1):t._e(),t._v(" "),"0"==t.formData.type?a("el-form-item",{ref:"cover",attrs:{label:"上传图片","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!0,thumb:{isthumb:1,width:1200},limit:t.imglimit,fileList:t.formData.urls,imgIds:t.formData.img_ids,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"urls",e)},"update:imgIds":function(e){t.$set(t.formData,"img_ids",e)}}})],1):t._e(),t._v(" "),"1"==t.formData.type?a("el-form-item",{ref:"voide",attrs:{label:"上传视频文件","label-width":t.formLabelWidth,prop:"voide"}},[a("el-row",{staticClass:"mapeditor-content"},[""==t.formData.urls||t.isedit?a("div",{staticClass:"mater-upload-container"},[a("simple",{ref:"upload",on:{geturl:t.geturl}},[a("div",{staticClass:"upload-tip",attrs:{slot:"tip"},slot:"tip"},[a("i",{staticClass:"el-icon-info"}),t._v(":\n                只能上传 mp4文件\n              ")])])],1):t._e(),t._v(" "),""==t.formData.urls||t.isedit?t._e():a("div",{staticStyle:{position:"relative"}},[a("video",{attrs:{src:t.getRealImgUrl(t.formData.urls),controls:"controls",width:"200px"}}),t._v(" "),a("div",{staticStyle:{position:"absolute",top:"0px",margin:"0px",left:"120px","z-index":"99"}},[a("el-button",{attrs:{type:"success",icon:"el-icon-success",size:"mini"},on:{click:function(e){t.seteidtflag()}}},[t._v("修改")])],1)])])],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"d827dfa6",null);g.options.__file="banner.vue";e.default=g.exports},t1uW:function(t,e,a){"use strict";var i=a("8Ttd");a.n(i).a},tsXt:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),s={data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{name:"",remark:"",status:0},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"change"}]},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;t.page_loading||(t.page_loading=!0,i.requests("post",{url:"merchant/getMenuList"}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({tableData:e.data.list}):i.Message.error(e.msg)}))},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,i.requests("post",{url:"merchant/menuDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),i.Message.success("操作成功")):i.Message.error(t.msg)}))}).catch(function(){})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,i.requests("post",{url:"merchant/menuEnable",data:{id:t,enable:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),i.Message.success("操作成功")):i.Message.error(t.msg)}))},openPage:i.openPage}},o=(a("h4HO"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/merchant/menuEdit"})}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"菜单名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"权限url",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"page",label:"页面路径",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"侧栏状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("显示")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("隐藏")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"启用状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.enable,callback:function(a){t.$set(e.row,"enable",a)},expression:"scope.row.enable"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/merchant/menuEdit",data:{id:e.row.id}},"get")}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},[],!1,null,"077bd53f",null);l.options.__file="menuList.vue";e.default=l.exports},"tvK+":function(t,e,a){},"u/Y0":function(t,e,a){},u87p:function(t,e,a){},uEHq:function(t,e,a){"use strict";var i=a("PjLl");a.n(i).a},uV6e:function(t,e,a){"use strict";var i=a("wvBs");a.n(i).a},uhrR:function(t,e,a){},v1P1:function(t,e,a){"use strict";var i=a("eUVE");a.n(i).a},v3HQ:function(t,e,a){},v6U7:function(t,e,a){},vBf7:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=(a("Zd91"),a("kxxL")),n=a("bC1q"),c=a("ygAv"),u={components:{"mycity-select":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",searchData:{status:"-1",region_no:"-1",subway:"-1"},tableData:[],formData:{status:"0",name:"",region_no:"",region_name:"",subway:[],subway_name:""},subways:[],pagination:{}}},created:function(){this.resetData({formData:this.formData}),this.getList(this.searchData)},watch:{"formData.region_no":function(t){this.getSubways(t)},"searchData.region_no":function(t){this.getSubways(t),this.searchData.subway="-1"}},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"city/getSubwayList",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})},openPage:c.openPage,doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0?(t.status=String(t.status),this.formData=s()({},t),this.formData.dotype="edit"):this.formData.dotype="add",this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"city/delSubway",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.pid=a.pid,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"city/editSubway",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},getSubways:function(t){var e=this;c.requests("post",{url:"city/siteInfo",data:{key:"subway",region_no:t}}).then(function(t){e.subways=t.data.info&&t.data.info.val?t.data.info.val:[]})},getMoreInfo:function(t){switch(t.type){case"city":this.formData.region_name=t.cname}}}},d=(a("iE9S"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,unlimitedCity:!0,city_no:t.searchData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"region_no",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"地铁线"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.subway,callback:function(e){t.$set(t.searchData,"subway",e)},expression:"searchData.subway"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),t._l(t.subways,function(t){return a("el-option",{key:t,attrs:{label:t+"号线",value:t}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"站点",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"region_name",label:"城市",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subway_name",label:"所属地铁",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{staticClass:"city-box",attrs:{label:"站点名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{getMoreInfo:t.getMoreInfo,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}}),t._v(" "),a("el-form-item",{attrs:{prop:"subway",label:"所属地铁线","label-width":t.formLabelWidth}},[a("el-checkbox-group",{model:{value:t.formData.subway,callback:function(e){t.$set(t.formData,"subway",e)},expression:"formData.subway"}},t._l(t.subways,function(e){return a("el-checkbox",{key:e,attrs:{label:String(e)}},[t._v(t._s(e)+"号线")])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"7206f056",null);m.options.__file="subwayList.vue";e.default=m.exports},vFF5:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("Bi68"),l=a("7QZd"),r=a("ygAv"),n={components:{"pagination-box":o.default,"img-preview":l.default},data:function(){return{searchTime:[],searchData:{startdate:"",enddate:"",url:"",out_trade_no:""},page_loading:!1,tableData:[],pagination:{}}},computed:{},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,console.log(t),r.requests("post",{url:"log/sendpayLog",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):r.Message.error(t.msg)}))},onReset:function(){this.setDataArr({searchData:{startdate:"",enddate:"",url:"",out_trade_no:""},searchTime:[]}),this.getList()},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getFormatDate:r.DataFun.getFormatDate,openPage:r.openPage}},c=(a("VAVW"),a("KHd+")),u=Object(c.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"申请单号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入申请单号","prefix-icon":"el-icon-search"},model:{value:t.searchData.out_trade_no,callback:function(e){t.$set(t.searchData,"out_trade_no",e)},expression:"searchData.out_trade_no"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.onReset}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"out_trade_no",label:"申请单号",width:"210",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"请求地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"postdata",label:"请求数据",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"click",width:"600",placement:"top"}},[a("p",[t._v(t._s(e.row.postdata))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"my-textoverflow"},[t._v(t._s(e.row.postdata))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"response",label:"返回数据",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"click",width:"600",placement:"top"}},[a("p",[t._v(t._s(e.row.response))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"my-textoverflow"},[t._v(t._s(e.row.response))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getFormatDate(e.row.create_time,2)))])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"9914f4c8",null);u.options.__file="sendpaylog.vue";e.default=u.exports},veWv:function(t,e,a){"use strict";var i=a("JZfo");a.n(i).a},"vld/":function(t,e,a){"use strict";var i=a("SoI8");a.n(i).a},w1I0:function(t,e,a){"use strict";a.r(e);var i=a("ajkN"),s=a("4JFi"),o=a("kxxL"),l=(a("ygAv"),{components:{"estates-rank":i.default,"article-rank":s.default},mixins:[o.a],watch:{activeTab:function(t){this.$changeUrlData({activeTab:t})}},data:function(){return{activeTab:"1",zx_flag:!1}},created:function(){var t=this.$urlData.id;this.$store.getters.userinfo.region_nos_info.map(function(t){return t.id}).includes(Number(t))&&(this.zx_flag=!0)},methods:{handleClick:function(t,e){console.log(t,e)}}}),r=(a("oHUr"),a("KHd+")),n=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"楼盘人气榜",name:"1"}},["1"==t.activeTab?a("estates-rank",{attrs:{type:1}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"楼盘热搜榜",name:"2"}},["2"==t.activeTab?a("estates-rank",{attrs:{type:2}}):t._e()],1),t._v(" "),t.zx_flag?a("el-tab-pane",{attrs:{label:"热讯榜",name:"3"}},["3"==t.activeTab?a("article-rank",{attrs:{type:3}}):t._e()],1):t._e()],1)],1)},[],!1,null,"01cd402c",null);n.options.__file="rank.vue";e.default=n.exports},w1Oc:function(t,e,a){},wQuv:function(t,e,a){},wW2L:function(t,e,a){"use strict";var i=a("8+UV");a.n(i).a},wawg:function(t,e,a){"use strict";var i=a("cTHy");a.n(i).a},"wfg/":function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),s={name:"voice-upload1",props:{url:{type:String,default:function(){return""}},upload_type:{type:String,default:function(){return""}},default_src:{type:String,default:function(){return""}},fileList:{type:Array,default:function(){return[]}},uploadedVoice:{type:Function},uploadedVoiceForNew:{type:Function},limitM:{type:Number,default:function(){return 50}}},data:function(){return{uploadLoading:!1,open_voicesrc:"",isPlaying:!1,videoUploadPercent:0,videoForm:{Video:"",videoUploadId:""},videoFlag:!0}},created:function(){},computed:{default_realsrc:function(){return this.getRealImgUrl(this.default_src)}},methods:{resetData:function(){this.setDataArr({uploadLoading:!1,open_voicesrc:"",isPlaying:!1}),this.$emit("update:fileList",[])},handleExceed:function(t,e){this.$message.warning("只允许上传一个文件,若要更改请先移除")},handleVideoSuccess:function(t,e){},beforeUploadVideo:function(t){var e=t.size/1024/1024<this.limitM;return-1==["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb"].indexOf(t.type)?(this.$message.error("请上传正确的视频格式"),!1):e?void 0:(this.$message.error("上传视频大小不能超过10MB哦!"),!1)},uploadVideoProcess:function(t,e,a){console.log(t.percent,e,a),this.videoFlag=!0,this.videoUploadPercent=Math.floor(t.percent)},uploadVoice:function(t){var e=this,a=this;if(!a.uploadLoading){a.uploadLoading=!0;var s=this.$route.path.split("/"),o=s[1]?s[1]:"";if(o){var l=t.file;if("oss"==a.upload_type)i.uploadFileToOss({file:l,type:"audio",success:function(t){a.uploadLoading=!1,a.fileList.push({name:t.name,url:t.url}),a.$emit("update:fileList",a.fileList),a.uploadedVoice&&a.uploadedVoice({sub_that:a,res:t})},fail:function(t){a.uploadLoading=!1,i.Message.error(res.msg)}});else{var r=a.url;a.$baseconfig.imghost;i.requests("post",{url:r,data:{voice:l,subpath:o},headers:{"Content-Type":"multipart/form-data"}}).then(function(t){a.uploadLoading=!1,a.uploadedVoiceForNew?a.uploadedVoiceForNew({sub_that:a,res:t}):1==t.code?(e.videoFlag=!1,e.videoUploadPercent=0,1==t.code?(a.$emit("update:default_src",t.data.info.url),a.default_src=t.data.info.url):e.$message.error("视频上传失败，请重新上传！")):i.Message.error(t.msg)})}}else console.log("页面路径设置错误")}},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},o=(a("krU6"),a("KHd+")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{staticClass:"avatar-uploader el-upload--text",attrs:{action:"upload/imgUpload","http-request":t.uploadVoice,"show-file-list":!1,limit:t.limitM,"on-success":t.handleVideoSuccess,"before-upload":t.beforeUploadVideo,"on-progress":t.uploadVideoProcess}},[""!=t.default_src&&0==t.videoFlag?a("video",{staticClass:"avatar",attrs:{src:t.default_realsrc,controls:"controls"}},[t._v(" 您的浏览器不支持视频播放")]):""==t.default_src&&0==t.videoFlag?a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}):t._e(),t._v(" "),1==t.videoFlag?a("el-progress",{staticStyle:{"margin-top":"30px"},attrs:{type:"circle",percentage:t.videoUploadPercent}}):t._e()],1)],1)},[],!1,null,null,null);l.options.__file="VoiceUpload1.vue";e.default=l.exports},wvBs:function(t,e,a){},xIHd:function(t,e,a){"use strict";var i=a("ygAv");e.a={data:function(){return{const_estates_new_sale_status:[],const_house_purpose:[],const_orientation:[],const_rooms:[]}},methods:{getEstatesNewSaleStatus:function(){var t=this;i.requests("post",{url:"estates/getEstatesNewSaleStatus"}).then(function(e){t.const_estates_new_sale_status=e.data})},getRooms:function(){var t=this;i.requests("post",{url:"estates/getRooms"}).then(function(e){t.const_rooms=e.data})},getOrientation:function(){var t=this;i.requests("post",{url:"estates/getOrientation"}).then(function(e){t.const_orientation=e.data})},getHousePurpose:function(){var t=this;i.requests("post",{url:"estates/getHousePurpose"}).then(function(e){t.const_house_purpose=e.data})}}}},xeHL:function(t,e,a){"use strict";var i=a("QRTe");a.n(i).a},xf0b:function(t,e,a){},"y/Qe":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=a("ygAv"),c={components:{"img-upload":r.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{name:"",status:"0",has_comment:"0",sort:50,icon_category:"",pid:""},searchData:{status:"-1",has_comment:"-1",name:"",pid:""},catelist:[],default_icon_category:"",rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}]},tableData:[]}},created:function(){this.getList(),this.getCateList()},methods:{getList:function(t){var e=this;e.page_loading||(e.page_loading=!0,n.requests("post",{url:"news/getCategoryList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list}):n.Message.error(t.msg)}))},getCateList:function(){var t=this;n.requests("get",{url:"news/getCateListCont"}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({catelist:e.data}):n.Message.error(e.msg)})},resetData:function(){this.setDataArr({form:{name:"",status:"0",has_comment:"0",sort:0,icon_category:"",pid:""},default_icon_category:""}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t),this.default_icon_category=this.$getRealImgUrl(this.form.icon_category)),this.form.status=String(this.form.status),this.form.has_comment=String(this.form.has_comment),this.form.pid=Number(this.form.pid)},onUploadedImg:function(t,e){var a=t.res.info;this.form[e]=a.url},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return!1;n.requests("post",{url:"news/categoryEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(n.Message.success("操作成功"),t.getList(),setTimeout(function(){t.doEditCancel()},1e3)):n.Message.error(e.msg)})})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,n.requests("post",{url:"news/categoryDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),n.Message.success("操作成功")):n.Message.error(t.msg)}))}).catch(function(){})},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return n.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,n.requests("post",{url:"news/categoryChangesort",data:{id:t,sort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),n.Message.success("操作成功")):n.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},switchChange:function(t,e,a){var i=this;if(!i.page_loading){if(i.page_loading=!0,"status"==a)var s="news/categoryEnable",o={id:t,status:e};else s="news/commentEnable",o={id:t,has_comment:e};n.requests("post",{url:s,data:o}).then(function(t){i.page_loading=!1,1==t.code?(i.getList(),n.Message.success("操作成功")):n.Message.error(t.msg)})}},openPage:function(t){return n.openPage(t)}}},u=(a("OuY4"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"title",label:"名称","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:t.searchData.title,callback:function(e){t.$set(t.searchData,"title",e)},expression:"searchData.title"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:4,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"评论状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.has_comment,callback:function(e){t.$set(t.searchData,"has_comment",e)},expression:"searchData.has_comment"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"分类",prop:"pid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.pid,callback:function(e){t.$set(t.searchData,"pid",e)},expression:"searchData.pid"}},t._l(t.catelist,function(t){return a("el-option",{key:t.col_id,attrs:{label:t.name,value:t.col_id}})}))],1)],1),t._v(" "),a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"名称",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,"status")}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"评论功能",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,"has_comment")}},model:{value:e.row.has_comment,callback:function(a){t.$set(e.row,"has_comment",a)},expression:"scope.row.has_comment"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"排序越大越靠前",size:"small"},on:{change:function(a){t.sortChange(e.row.id,a)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"p_title",label:"父及分类",width:"500",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,name:e.row.name,status:e.row.status,has_comment:e.row.has_comment,icon_category:e.row.icon_category,sort:e.row.sort,pid:e.row.pid})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑类别":"新增类别",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"父级分类","label-width":t.formLabelWidth,prop:"pid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}},t._l(t.catelist,function(t){return a("el-option",{key:t.col_id,attrs:{label:t.name,value:t.col_id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth,prop:"sort"}},[a("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"评论功能","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.form.has_comment,callback:function(e){t.$set(t.form,"has_comment",e)},expression:"form.has_comment"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图标","label-width":t.formLabelWidth,prop:"icon_category"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1},default_src:t.default_icon_category,uploadedImg:function(e){return t.onUploadedImg(e,"icon_category")}},on:{"update:default_src":function(e){t.default_icon_category=e}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"cc8083e6",null);d.options.__file="category.vue";e.default=d.exports},y0rP:function(t,e,a){"use strict";var i=a("DTsy");a.n(i).a},y20m:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("VVsi"),n=a("ygAv"),c={components:{"select-tree":r.default},data:function(){return{btn_show_options:[{value:"1",label:"设置"},{value:"0",label:"不设置"}],status_options:[{value:"1",label:"在侧边栏显示"},{value:"0",label:"在侧边栏隐藏"}],type_options:[{value:"1",label:"有界面可访问菜单"},{value:"2",label:"无界面可访问菜单(接口)"},{value:"0",label:"只作为菜单"}],parent_id_options:[],form:{parent_id:"0",name:"",url:"",extra_urls:"",page:"",active_page:"",icon:"",sort:0,remark:"",type:"1",status:"1",btn_show:"0"},tableData:[],defaultProps:{children:"children",label:"name"},repastitle:"菜单添加"}},computed:{defaultCheckedKeys:function(){return[this.form.parent_id]}},created:function(){var t=l()(this.$urlData).length>0?this.$urlData:{};this.getList(),t.id&&this.getInfo(t.id)},methods:{getInfo:function(t){var e=this;n.requests("post",{url:"menu/getMenuInfo",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(t.data.type=String(t.data.type),t.data.status=String(t.data.status),t.data.btn_show=String(t.data.btn_show),e.setDataArr({form:t.data,repastitle:"菜单编辑"})):n.Message.error(t.msg)})},getList:function(){var t=this;t.page_loading||(t.page_loading=!0,n.requests("post",{url:"menu/index"}).then(function(e){if(t.page_loading=!1,1==e.code){var a=[{parent_id:0,id:0,name:"一级菜单"}].concat(e.data.list);t.setDataArr({tableData:a})}else n.Message.error(e.msg)}))},popoverHide:function(t){console.log(t),this.form.parent_id=t},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!"),!1;0==t.form.parent_id&&(t.form.btn_show=0),n.requests("post",{url:"menu/edit",data:s()({},t.form)}).then(function(t){1==t.code?(n.Message.success(t.msg),setTimeout(function(){n.openPage({url:-1})},800)):n.Message.error(t.msg)})})},cancelForm:function(){this.$refs.form.resetFields(),n.openPage({url:-1,hreftype:"navigateBack"})}}},u=(a("GERb"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"repastitle"},[t._v(t._s(t.repastitle))]),t._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"120px",model:t.form}},[a("el-form-item",{attrs:{label:"上级",prop:"parent_id",rules:{required:!0,message:"请选择上级",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[t.tableData.length>0?a("select-tree",{staticStyle:{},attrs:{data:t.tableData,defaultProps:t.defaultProps,checkedKeys:t.defaultCheckedKeys},on:{popoverHide:t.popoverHide}}):t._e()],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"名称不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入名称","auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),0!=t.form.type?a("div",[a("el-form-item",{attrs:{label:"权限url",prop:"url",rules:{required:!0,message:"权限url不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入权限url,模块/控制器/方法?参数","auto-complete":"off"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"其他附加权限url",prop:"extra_urls"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入附加权限请求,多个以,隔开","auto-complete":"off"},model:{value:t.form.extra_urls,callback:function(e){t.$set(t.form,"extra_urls",e)},expression:"form.extra_urls"}})],1)],1),t._v(" "),t.form.parent_id>0?a("el-form-item",{attrs:{label:"上级按钮触发",rules:{required:!0,message:"权限url不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},t._l(t.btn_show_options,function(e){return a("el-radio",{key:e.value,attrs:{label:e.value},model:{value:t.form.btn_show,callback:function(e){t.$set(t.form,"btn_show",e)},expression:"form.btn_show"}},[t._v(t._s(e.label))])}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"页面路径",prop:"page"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入页面路径","auto-complete":"off"},model:{value:t.form.page,callback:function(e){t.$set(t.form,"page",e)},expression:"form.page"}})],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入图标","auto-complete":"off"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"icon"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入排序","auto-complete":"off"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入备注内容","auto-complete":"off"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.status_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),"0"==t.form.status?a("el-form-item",{attrs:{label:"菜单激活路径",prop:"active_page"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入左侧菜单hover路径","auto-complete":"off"},model:{value:t.form.active_page,callback:function(e){t.$set(t.form,"active_page",e)},expression:"form.active_page"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelForm}},[t._v("返 回")])],1)],1)],1)},[],!1,null,"cd78e86e",null);d.options.__file="menuedit.vue";e.default=d.exports},yEVJ:function(t,e,a){"use strict";var i=a("Bf2p");a.n(i).a},yGHO:function(t,e,a){"use strict";var i=a("oBSS");a.n(i).a},yNc9:function(t,e,a){"use strict";var i=a("CErc");a.n(i).a},yhP4:function(t,e,a){},"ynX/":function(t,e,a){"use strict";var i=a("zKPr");a.n(i).a},yzdO:function(t,e,a){"use strict";a.r(e);var i=a("4d7F"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("ygAv"),n={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"},url:{type:String,default:"Upload/imgUpload"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],uploadUrl:"string"}},methods:{uploadImage:function(t){var e=this,a=this.$route.path.split("/"),i=a[1]?a[1]:"";if(i){var s=t.file,o=e.url;r.requests("post",{url:o,data:{image:s,subpath:i},headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if(1==t.code){var a=t.data.info;e.handleSuccess(a,s)}else r.Message.error(t.msg)})}else console.log("页面路径设置错误")},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},resetData:function(){this.setDataArr({listObj:{},fileList:[]})},checkAllSuccess:function(){var t=this;return l()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=l()(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请耐心等待文件上传完成!")},handleSuccess:function(t,e){for(var a=t.url,i=e.uid,s=l()(this.listObj),o=0,r=s.length;o<r;o++)if(this.listObj[s[o]].uid===i)return this.listObj[s[o]].url=a,void(this.listObj[s[o]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,a=l()(this.listObj),i=0,s=a.length;i<s;i++)if(this.listObj[a[i]].uid===e)return void delete this.listObj[a[i]]},beforeUpload:function(t){var e=this,a=window.URL||window.webkitURL,i=t.uid;return this.listObj[i]={},new s.a(function(s,o){var l=new Image;l.src=a.createObjectURL(t),l.onload=function(){e.listObj[i]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},s(!0)})}}},c=(a("cZde"),a("KHd+")),u=Object(c.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-mycontainer"},[a("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("\n    上传\n  ")]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-upload",{staticClass:"upload-dialog",attrs:{drag:"",multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,"list-type":"picture-card",action:t.uploadUrl,"http-request":t.uploadImage}},[a("i",{staticClass:"el-icon-upload"},[a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])])])]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("\n      确认\n    ")])],1)],1)},[],!1,null,"c0d16a3a",null);u.options.__file="EditorImage.vue";e.default=u.exports},z11e:function(t,e,a){"use strict";a.r(e);var i=a("FyfS"),s=a.n(i),o=a("jWXv"),l=a.n(o),r=a("rfXi"),n=a.n(r),c=a("Z1g7"),u=a("kxxL"),d=a("xIHd"),m=a("bC1q"),f=a("fbG1"),p=a("glbJ"),h=a("ygAv"),g={components:{"img-upload":c.default,"mycity-select":m.default,"img-upload2":f.default,Tinymce:p.default},mixins:[u.a,d.a],data:function(){return{dialogVisibleMap:!1,formData:{name:"",title:"",price:0,price_total:0,price_str:"",built_area:"",house_type:"",sale_status:"1",activity_type:"1",house_purpose:[],bind_building:"",sizelayout:"",planning_number:0,total_area:0,total_construction_area:0,building_type:"",floor_condition:"",developers:"",floor_height:"",share_desc:"",decoration:"",progress_project:"",public_bear:"",sales_telephone:"",property_company:"",property_type:"",property_charges:"",volume_rate:"",greening_rate:"",parking_space_number:"",parking_space_proportion:"",status:"1",logo:[],logo_id:[],detail_cover:[],detail_cover_id:[],list_cover:[],list_cover_id:[],coordinate:"",feature_tag:[],selling_point_tag:[],base_tag:[],province:"",city:"",area:"",province_str:"",city_str:"",area_str:"",street:"",street_str:"",business_area:"",business_area_str:"",subways:[],subway_sites:"",delivery_time:"",address:"",num_collect:0,num_read:0,num_read_search:0,num_share:0,sort:0,recommend:"0",num_collect_real:0,num_read_real:0,num_read_search_real:0,num_share_real:0,is_cheap:"0",activity_img:"",sand_img_url:[],sand_img_ids:[],activity_img_ids:[]},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"change"}]},formLabelWidth:"110px",default_logo_src:"",default_detailcover_src:"",default_listcover_src:"",mapMarkers:[],map_center:[118.125313,24.499929],my_zoom:13,addressKeyword:"",feature_tag:[],selling_point_tag:[],base_tag:[],sysTag:[],subways:[],licenseItems:[],discountItems:[],subway_sites:[],release_status:2}},computed:{mapMarkerEvents:function(){var t=this;return{click:function(e){console.log(e),e.lnglat&&t.getLocationPoint({lng:e.lnglat.lng,lat:e.lnglat.lat})}}},cEvents:function(){var t=this;return{click:function(e){e.lnglat&&t.getLocationPoint({lng:e.lnglat.lng,lat:e.lnglat.lat})}}}},watch:{"formData.city":function(t,e){if("string"==typeof t){if(t==e&&0!=this.subway_sites.length||(this.subway_sites=[],this.getSubwaySites(t)),t==e)return;this.formData.subway_sites=""}}},created:function(){var t=this;if(this.resetData({formData:this.formData,feature_tag:this.feature_tag,selling_point_tag:this.selling_point_tag,base_tag:this.base_tag},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData(),t.$refs.editor&&t.$refs.editor.setContent("")})}),this.$urlData&&this.$urlData.id){if(!this.doMissId(this.$urlData.id))return;this.formData.id=this.$urlData.id,this.getInfo(this.formData.id)}else this.resetForm("formData");this.getSysTag(),this.getHousePurpose(),this.getEstatesNewSaleStatus()},mounted:function(){},methods:{handleClick:function(t,e){console.log(t,e)},getInfo:function(t){var e=this;e.page_loading||(e.page_loading=!0,h.requests("get",{url:"Estates/getEstatesnewInfo",data:{id:t}}).then(function(t){if(e.page_loading=!1,1==t.code){var a=t.data;if(""!=a.coordinate){var i=a.coordinate.split(",");i[0]&&i[1]&&e.onMapSearchResult([{lng:i[0],lat:i[1]}])}a.subways=a.subways?a.subways:[],e.setDataArr({formData:a,default_logo_src:e.$getRealImgUrl(a.logo),default_listcover_src:e.$getRealImgUrl(a.list_cover),default_detailcover_src:e.$getRealImgUrl(a.detail_cover),licenseItems:a.sales_license,discountItems:a.discount,release_status:Number(a.status)}),e.formData.activity_type=String(a.activity_type)}else h.Message.error(t.msg)}))},doSubmit:function(t,e){var a=this,i=this;i.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;if(!a.page_loading){if(i.page_loading=!0,i.formData.sales_license=i.licenseItems,i.formData.discount=i.discountItems,i.formData.subway_sites){var o=[],r=!0,c=!1,u=void 0;try{for(var d,m=s()(i.subway_sites);!(r=(d=m.next()).done);r=!0){var f=d.value;if(f.id==i.formData.subway_sites){o=o.concat(f.subway);break}}}catch(t){c=!0,u=t}finally{try{!r&&m.return&&m.return()}finally{if(c)throw u}}o=n()(new l.a(o)),i.formData.subways=o}switch(e){case"release":2==i.formData.status&&(i.formData.status=1);break;case"draft":default:i.formData.status=2}h.requests("post",{url:"estates/editEstate",data:i.formData}).then(function(t){i.page_loading=!1,1==t.code?(i.$message({type:"success",message:"操作成功!"}),i.dialogVisibleEdit=!1,setTimeout(function(){h.openPage({url:-1})},600)):i.$message({type:"error",message:t.msg})})}})},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields&&this.$refs[t].resetFields(),this.resetData()},doMissId:function(t){if(!t){var e=this;return this.$alert("缺少必要的id参数，请重新打开","提示",{confirmButtonText:"确定",callback:function(t){e.openPage({hreftype:"navigateBack",url:-1})}}),!1}return!0},onUploadedImg:function(t,e){switch(e){case"logo":this.formData.logo=t.res.info.url,this.$refs.logo.clearValidate();break;case"detail":this.formData.detail_cover=t.res.info.url,this.$refs.detail_cover.clearValidate();break;case"list":this.formData.list_cover=t.res.info.url,this.$refs.list_cover.clearValidate()}},onMapSearchResult:function(t){console.log(t);var e=[];t&&t.map(function(t){e.push({position:[t.lng,t.lat]})}),this.my_zoom=16,t[0]&&t[0].lng&&(this.map_center=[t[0].lng,t[0].lat]),this.mapMarkers=e},getLocationPoint:function(t){this.lng=t.lng,this.lat=t.lat,this.formData.coordinate=this.lng+","+this.lat,this.dialogVisibleMap=!1,this.my_zoom=13},getSysTag:function(){var t=this;h.requests("post",{url:"estates/getTagList",data:{status:"1",name:"",type:"-1"}}).then(function(e){t.sysTag=e.data.list,t.sysTag.forEach(function(e,a){switch(e.type){case 1:t.feature_tag.push(e);break;case 2:t.selling_point_tag.push(e);break;case 3:t.base_tag.push(e)}})})},getSubways:function(t){var e=this;h.requests("post",{url:"city/siteInfo",data:{key:"subway",region_no:t}}).then(function(t){e.subways=t.data.info&&t.data.info.val?t.data.info.val:[]})},getSubwaySites:function(t){var e=this;h.requests("post",{url:"city/getSubwaySites",data:{region_no:t}}).then(function(t){e.subway_sites=t.data})},getMoreInfo:function(t){switch(t.type){case"city":this.formData.province_str=t.pcname,this.formData.city_str=t.cname;break;case"area":this.formData.area_str=t.cname;break;case"streets":this.formData.street_str=t.cname;break;case"businessAreas":this.formData.business_area_str=t.cname}},onAdd:function(t){switch(t){case"license":this.licenseItems.push({license:"",time:"",building:""});break;case"openTime":this.openTimeItems.push({opening_time:"",building:""});break;case"discount":this.discountItems.length<5?this.discountItems.push({title:"",content:"",rule:"",start_time:"",end_time:"",btn:[]}):this.$alert("超出限制","提示",{confirmButtonText:"确定",callback:function(t){}})}},onDelete:function(t,e){switch(e){case"license":this.licenseItems.splice(t,1);break;case"openTime":this.openTimeItems.splice(t,1);break;case"discount":this.discountItems.splice(t,1)}},openPage:h.openPage}},_=(a("Gd18"),a("KHd+")),v=Object(_.a)(g,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("div",{staticClass:"mapeditor-title"},[t._v("图片上传")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:8,xs:8}},[a("el-form-item",{ref:"logo",attrs:{label:"开发商logo（150x150）","label-width":t.formLabelWidth,prop:"logo"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1,width:150,height:150},"show-file-list":!1,fileList:t.formData.logo,imgIds:t.formData.logo_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"logo",e)},"update:imgIds":function(e){t.$set(t.formData,"logo_id",e)}}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:8,xs:8}},[a("el-form-item",{ref:"detail_cover",attrs:{label:"详情封面（750x1210）","label-width":t.formLabelWidth,prop:"detail_cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,thumb:{isthumb:1,width:750,height:1210},fileList:t.formData.detail_cover,imgIds:t.formData.detail_cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"detail_cover",e)},"update:imgIds":function(e){t.$set(t.formData,"detail_cover_id",e)}}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:8,xs:8}},[a("el-form-item",{ref:"list_cover",attrs:{label:"列表封面","label-width":t.formLabelWidth,prop:"list_cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!1,thumb:{isthumb:1,width:450,height:450},fileList:t.formData.list_cover,imgIds:t.formData.list_cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"list_cover",e)},"update:imgIds":function(e){t.$set(t.formData,"list_cover_id",e)}}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("沙盘图")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{ref:"sand_table",attrs:{"label-width":"110px",label:"上传图片",prop:"upload"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1,width:750,height:750},"show-file-list":!0,limit:10,fileList:t.formData.sand_img_url,imgIds:t.formData.sand_img_ids,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"sand_img_url",e)},"update:imgIds":function(e){t.$set(t.formData,"sand_img_ids",e)}}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("活动内容")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"context_rule",label:"内容详情","label-width":"80px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.formData.activity_img,callback:function(e){t.$set(t.formData,"activity_img",e)},expression:"formData.activity_img"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("基本信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"name",label:"楼盘名称","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入楼盘名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"coordinate",label:"坐标地址","label-width":"110px"}},[a("span",{on:{click:function(e){t.dialogVisibleMap=!0}}},[a("el-input",{attrs:{placeholder:"点击搜索地图",disabled:!0},model:{value:t.formData.coordinate,callback:function(e){t.$set(t.formData,"coordinate",e)},expression:"formData.coordinate"}})],1)])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"地图",visible:t.dialogVisibleMap,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleMap=e},close:function(e){t.dialogVisibleMap=!1}}},[a("el-row",[a("el-col",{attrs:{lg:18,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"coordinate",label:"地图搜索","label-width":"110px"}},[a("el-amap-search-box",{attrs:{"search-option":{city:t.formData.city_str,citylimit:!0},"on-search-result":t.onMapSearchResult}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:18,sm:24,xs:24}},[a("el-form-item",{attrs:{label:"","label-width":"110px"}},[a("div",{staticClass:"amap-wrapper"},[a("el-amap",{attrs:{vid:"map_container",zoom:t.my_zoom,center:t.map_center,events:t.cEvents}},t._l(t.mapMarkers,function(e,i){return a("el-amap-marker",{key:i,attrs:{position:e.position,events:t.mapMarkerEvents}})}))],1)])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"title",label:"副标题","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入副标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"price_str",label:"价格描述","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入参考价格描述"},model:{value:t.formData.price_str,callback:function(e){t.$set(t.formData,"price_str",e)},expression:"formData.price_str"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:7,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"price",label:"参考均价","label-width":"110px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}}),t._v(" 元/㎡\n      ")],1)],1),t._v(" "),a("el-col",{attrs:{lg:7,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"price_total",label:"参考总价","label-width":"110px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.price_total,callback:function(e){t.$set(t.formData,"price_total",e)},expression:"formData.price_total"}}),t._v(" 万元/套\n      ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"house_type",label:"户型","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入户型(如：5/7居)"},model:{value:t.formData.house_type,callback:function(e){t.$set(t.formData,"house_type",e)},expression:"formData.house_type"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"built_area",label:"户型建面","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入户型建面范围(如：78-127㎡)"},model:{value:t.formData.built_area,callback:function(e){t.$set(t.formData,"built_area",e)},expression:"formData.built_area"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:12,xs:24}},[a("mycity-select",{attrs:{"label-width":"110px",province_no:t.formData.province,city_no:t.formData.city,area_no:t.formData.area,business_area_no:t.formData.business_area,street_no:t.formData.street,isMy:!0,model:"5",siteAreasUrl:"city/siteAreas"},on:{getMoreInfo:t.getMoreInfo,"update:province_no":function(e){t.$set(t.formData,"province",e)},"update:city_no":function(e){t.$set(t.formData,"city",e)},"update:area_no":function(e){t.$set(t.formData,"area",e)},"update:business_area_no":function(e){t.$set(t.formData,"business_area",e)},"update:street_no":function(e){t.$set(t.formData,"street",e)}}})],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{required:"",prop:"address",label:"详细地址","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入详细地址(上面的省市区等信息不用再填)"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"subway",label:"地铁","label-width":"110px"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"输入搜索"},model:{value:t.formData.subway_sites,callback:function(e){t.$set(t.formData,"subway_sites",e)},expression:"formData.subway_sites"}},t._l(t.subway_sites,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"recommend",label:"是否推荐","label-width":"110px"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.recommend,callback:function(e){t.$set(t.formData,"recommend",e)},expression:"formData.recommend"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.formData.recommend,callback:function(e){t.$set(t.formData,"recommend",e)},expression:"formData.recommend"}},[t._v("否")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"is_cheap",label:"是否低价盘","label-width":"110px"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.is_cheap,callback:function(e){t.$set(t.formData,"is_cheap",e)},expression:"formData.is_cheap"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.formData.is_cheap,callback:function(e){t.$set(t.formData,"is_cheap",e)},expression:"formData.is_cheap"}},[t._v("否")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"sale_status",label:"销售状态","label-width":"110px"}},t._l(t.const_estates_new_sale_status,function(e,i){return a("el-radio",{key:i,attrs:{label:String(i)},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v(t._s(e))])}))],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"house_purpose",label:"建筑用途","label-width":"110px"}},[a("el-checkbox-group",{model:{value:t.formData.house_purpose,callback:function(e){t.$set(t.formData,"house_purpose",e)},expression:"formData.house_purpose"}},t._l(t.const_house_purpose,function(e,i){return a("el-checkbox",{key:i,attrs:{label:String(i)}},[t._v(t._s(e))])}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"feature_tag",label:"特色标签","label-width":"110px"}},[a("el-checkbox-group",{model:{value:t.formData.feature_tag,callback:function(e){t.$set(t.formData,"feature_tag",e)},expression:"formData.feature_tag"}},t._l(t.feature_tag,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"developers",label:"开发商","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入开发商"},model:{value:t.formData.developers,callback:function(e){t.$set(t.formData,"developers",e)},expression:"formData.developers"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sales_telephone",label:"售楼电话","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入售楼电话"},model:{value:t.formData.sales_telephone,callback:function(e){t.$set(t.formData,"sales_telephone",e)},expression:"formData.sales_telephone"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:12,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sort",label:"排序","label-width":"110px"}},[a("el-input-number",{attrs:{label:"排序"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("销售许可证")]),t._v(" "),a("el-row",{attrs:{lg:18,md:18,xs:24}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onAdd("license")}}},[t._v("添加")])],1),t._v(" "),t._l(t.licenseItems,function(e,i){return a("el-row",{key:"license"+i},[a("el-col",{attrs:{lg:7,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"sales_license",label:"销售许可证","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:e.license,callback:function(a){t.$set(e,"license",a)},expression:"item.license"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:7,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"open_time",label:"发证时间","label-width":"120px"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.time,callback:function(a){t.$set(e,"time",a)},expression:"item.time"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{display:"none"},attrs:{lg:7,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"sales_license",label:"登记楼栋","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:e.building,callback:function(a){t.$set(e,"building",a)},expression:"item.building"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:5,md:18,xs:24}},[a("el-form-item",{attrs:{"label-width":"120px"}},[a("el-button",{on:{click:function(e){t.onDelete(i,"license")}}},[t._v("删除")])],1)],1)],1)}),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("优惠信息")]),t._v(" "),a("el-row",{attrs:{lg:24,md:24,xs:24}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onAdd("discount")}}},[t._v("添加")])],1),t._v(" "),t._l(t.discountItems,function(e,i){return a("el-row",{key:"discount"+i},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{ref:"list_cover",refInFor:!0,attrs:{label:"小按钮","label-width":t.formLabelWidth,prop:"list_cover"}},[a("img-upload2",{ref:"imgUpload",refInFor:!0,attrs:{url:"upload/imgUpload","show-file-list":!1,thumb:{isthumb:1,width:450,height:450},fileList:e.btn,imgIds:e.list_cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(a){t.$set(e,"btn",a)},"update:imgIds":function(a){t.$set(e,"list_cover_id",a)}}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:10,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"title",label:"标题","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"itemDis.title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开始时间","label-width":"120px"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.start_time,callback:function(a){t.$set(e,"start_time",a)},expression:"itemDis.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束时间","label-width":"120px"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.end_time,callback:function(a){t.$set(e,"end_time",a)},expression:"itemDis.end_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:16,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"content",label:"详情","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",width:"2px"},model:{value:e.content,callback:function(a){t.$set(e,"content",a)},expression:"itemDis.content"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:16,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"rule",label:"规则","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",width:"2px"},model:{value:e.rule,callback:function(a){t.$set(e,"rule",a)},expression:"itemDis.rule"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,md:18,xs:24}},[a("el-form-item",{attrs:{"label-width":"50px"}},[a("el-button",{on:{click:function(e){t.onDelete(i,"discount")}}},[t._v("删除")])],1)],1),t._v(" "),a("el-col",{attrs:{lg:24,md:24,xs:24}},[a("el-divider",[a("i",{staticClass:"el-icon-thumb"})])],1)],1)}),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("分享设置")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"分享详情","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",role:5,placeholder:"分享详情"},model:{value:t.formData.share_desc,callback:function(e){t.$set(t.formData,"share_desc",e)},expression:"formData.share_desc"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("建筑信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"planning_number",label:"规划户数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"规划户数"},model:{value:t.formData.planning_number,callback:function(e){t.$set(t.formData,"planning_number",e)},expression:"formData.planning_number"}}),t._v(" 户\n      ")],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"total_area",label:"占地总面积","label-width":"110px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.total_area,callback:function(e){t.$set(t.formData,"total_area",e)},expression:"formData.total_area"}}),t._v(" ㎡\n      ")],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"total_construction_area",label:"建筑总面积","label-width":"110px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.total_construction_area,callback:function(e){t.$set(t.formData,"total_construction_area",e)},expression:"formData.total_construction_area"}}),t._v(" ㎡\n      ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sizelayout",label:"大小户型","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入户型描述(如：86-120m高层复式)"},model:{value:t.formData.sizelayout,callback:function(e){t.$set(t.formData,"sizelayout",e)},expression:"formData.sizelayout"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"building_type",label:"建筑类型","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入建筑类型"},model:{value:t.formData.building_type,callback:function(e){t.$set(t.formData,"building_type",e)},expression:"formData.building_type"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"floor_height",label:"层高","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入层高描述(如：叠拼约5.8-6m、高层约2.9m)"},model:{value:t.formData.floor_height,callback:function(e){t.$set(t.formData,"floor_height",e)},expression:"formData.floor_height"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"floor_condition",label:"楼层状况","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入楼层状况描述(如：高层19-34F/叠拼6-8F)"},model:{value:t.formData.floor_condition,callback:function(e){t.$set(t.formData,"floor_condition",e)},expression:"formData.floor_condition"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"decoration",label:"装修情况","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入装修情况"},model:{value:t.formData.decoration,callback:function(e){t.$set(t.formData,"decoration",e)},expression:"formData.decoration"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"progress_project",label:"项目进度","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入项目进度"},model:{value:t.formData.progress_project,callback:function(e){t.$set(t.formData,"progress_project",e)},expression:"formData.progress_project"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"public_bear",label:"公摊","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入公摊"},model:{value:t.formData.public_bear,callback:function(e){t.$set(t.formData,"public_bear",e)},expression:"formData.public_bear"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("物业参数")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"property_company",label:"物业公司","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入物业公司"},model:{value:t.formData.property_company,callback:function(e){t.$set(t.formData,"property_company",e)},expression:"formData.property_company"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"property_type",label:"物业类型","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入物业类型"},model:{value:t.formData.property_type,callback:function(e){t.$set(t.formData,"property_type",e)},expression:"formData.property_type"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"property_charges",label:"物业费","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入物业费"},model:{value:t.formData.property_charges,callback:function(e){t.$set(t.formData,"property_charges",e)},expression:"formData.property_charges"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"volume_rate",label:"容积率","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入容积率"},model:{value:t.formData.volume_rate,callback:function(e){t.$set(t.formData,"volume_rate",e)},expression:"formData.volume_rate"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"greening_rate",label:"绿化率","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入绿化率"},model:{value:t.formData.greening_rate,callback:function(e){t.$set(t.formData,"greening_rate",e)},expression:"formData.greening_rate"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"parking_space_number",label:"车位数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"车位数"},model:{value:t.formData.parking_space_number,callback:function(e){t.$set(t.formData,"parking_space_number",e)},expression:"formData.parking_space_number"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"parking_space_proportion",label:"车位比","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入车位比"},model:{value:t.formData.parking_space_proportion,callback:function(e){t.$set(t.formData,"parking_space_proportion",e)},expression:"formData.parking_space_proportion"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("统计信息设置")]),t._v(" "),a("el-form-item",[a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_read",label:"阅读数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"阅读数"},model:{value:t.formData.num_read,callback:function(e){t.$set(t.formData,"num_read",e)},expression:"formData.num_read"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_collect",label:"收藏数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"收藏数"},model:{value:t.formData.num_collect,callback:function(e){t.$set(t.formData,"num_collect",e)},expression:"formData.num_collect"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_share",label:"转发数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"转发数"},model:{value:t.formData.num_share,callback:function(e){t.$set(t.formData,"num_share",e)},expression:"formData.num_share"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_share",label:"搜索阅读数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"搜索阅读数"},model:{value:t.formData.num_read_search,callback:function(e){t.$set(t.formData,"num_read_search",e)},expression:"formData.num_read_search"}})],1)],1)],1),t._v(" "),a("el-form-item",[a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_read_real",label:"真实阅读数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"真实阅读数",disabled:!0},model:{value:t.formData.num_read_real,callback:function(e){t.$set(t.formData,"num_read_real",e)},expression:"formData.num_read_real"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_collect_real",label:"真实收藏数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"真实收藏数",disabled:!0},model:{value:t.formData.num_collect_real,callback:function(e){t.$set(t.formData,"num_collect_real",e)},expression:"formData.num_collect_real"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_share_real",label:"真实转发数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"真实转发数",disabled:!0},model:{value:t.formData.num_share_real,callback:function(e){t.$set(t.formData,"num_share_real",e)},expression:"formData.num_share_real"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_read_search_real",label:"真实搜索阅读数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"真实搜索阅读数",disabled:!0},model:{value:t.formData.num_read_search_real,callback:function(e){t.$set(t.formData,"num_read_search_real",e)},expression:"formData.num_read_search_real"}})],1)],1)],1),t._v(" "),2!=t.release_status?a("div",{staticClass:"mapeditor-title"},[t._v("上下架")]):t._e(),t._v(" "),2!=t.release_status?a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"status",label:"上下架","label-width":"110px"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[t._v("上架")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[t._v("下架")])],1)],1)],1):t._e(),t._v(" "),2!=t.release_status?a("div",{staticClass:"mapeditor-title"},[t._v("活动-信息展示")]):t._e(),t._v(" "),2!=t.release_status?a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"activity_type",label:"信息展示","label-width":"110px"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.activity_type,callback:function(e){t.$set(t.formData,"activity_type",e)},expression:"formData.activity_type"}},[t._v("展示")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.formData.activity_type,callback:function(e){t.$set(t.formData,"activity_type",e)},expression:"formData.activity_type"}},[t._v("隐藏")])],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(e){t.doSubmit("formData","release")}}},[t._v("保存")]),t._v(" "),2==t.release_status?a("el-button",{attrs:{type:"info",icon:"el-icon-success"},on:{click:function(e){t.doSubmit("formData","draft")}}},[t._v("草稿保存")]):t._e(),t._v(" "),t.formData.id?t._e():a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm("formData")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:"/estates/estatesnew"})}}},[t._v("返回")])],1)],2)},[],!1,null,"81eaabb2",null);v.options.__file="EstatesnewEdit.vue";e.default=v.exports},zKPr:function(t,e,a){},zUHS:function(t,e,a){},zdrB:function(t,e,a){},zwlo:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("GQeE"),l=a.n(o),r=a("Z1g7"),n=(a("Zd91"),a("kxxL")),c=a("7QZd"),u=a("bC1q"),d=a("fbG1"),m=a("glbJ"),f=a("TrUB"),p=a.n(f),h=a("Kw5r"),g=a("ygAv");h.default.use(p.a);var _={components:{"img-upload":r.default,"img-preview":c.default,"mycity-select":u.default,"img-upload2":d.default,Tinymce:m.default},mixins:[n.a,p.a],data:function(){return{subject_preview:{0:"/static/images/admin/subject_0.jpg",1:"/static/images/admin/subject_1.jpg"},dialogVisibleEdit:!1,dialogVisibleEdit1:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{title:[{required:!0,message:"请输入名称",trigger:"change"}]},searchData:{status:"-1",type:"-1",region_no:""},tableData:[],wx_h5:"",douyin:"",formData:{name:"",status:"0",sign_up:"1",page_title:"",page_keywords:"",page_desc:"",region_no:"",type:"0",bgcolor:"",phone:"",cover_url:[],bg_img:[],cover_id:[],time_show_status:"0",start_time:"",end_time:"",context_rule:""},old_region_no:"",type_list:["0","1"],previewShow:!1,previewSrc:"",time_box_show:!1}},watch:{"formData.time_show_status":function(t){this.time_box_show="1"==t}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{showThat:function(t){this.wx_h5=this.$baseconfig.host+t.wx_h5,this.douyin=this.$baseconfig.host+t.douyin,this.dialogVisibleEdit1=!0},changeCity:function(){},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;g.requests("post",{url:"Subject/getList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.old_region_no="",l()(t).length>0&&(this.formData=s()({},t),this.formData.sign_up=String(this.formData.sign_up),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.bgcolor=this.formData.bgcolor?this.formData.bgcolor:"",this.formData.time_show_status=String(this.formData.time_show_status),this.formData.start_time=this.getFormatDate(this.formData.start_time),this.formData.end_time=this.getFormatDate(this.formData.end_time),this.old_region_no=t.region_no,this.default_src=this.$getRealImgUrl(this.formData.cover_url)),this.dialogVisibleEdit=!0},doEditCancel:function(t){var e=this;1==e.dialogVisibleEdit&&(e.dialogVisibleEdit=!1),1==e.dialogVisibleEdit1&&(e.dialogVisibleEdit1=!1),setTimeout(function(){e.$refs[t]&&e.$refs[t].resetFields(),e.resetData()},20)},onUploadedImg:function(t){},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;g.requests("post",{url:"Subject/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?g.Message.success("操作成功"):g.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){g.requests("post",{url:"Subject/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this;this.old_region_no!=this.formData.region_no&&this.formData.id?e.$confirm("检测到变更新的城市将会重置配置信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(a){e.formSubmit(t)}):e.formSubmit(t)},formSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,g.requests("post",{url:"Subject/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:g.openPage,getFormatDate:function(t){return g.DataFun.getFormatDate(t,2)},doPreviewShow:function(t){this.previewShow=!0,this.previewSrc=t}}},v=(a("WY79"),a("KHd+")),b=Object(v.a)(_,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("mycity-select",{attrs:{city_no:t.searchData.region_no,unlimitedCity:!0,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{"update:city_no":function(e){t.$set(t.searchData,"region_no",e)}}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"版面类型",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          版面"+t._s(e.row.type+1)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"时间范围",width:"280",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.start_time?a("span",[t._v(t._s(t.getFormatDate(e.row.start_time))+" -- "+t._s(t.getFormatDate(e.row.end_time)))]):a("span",[t._v("永久")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/marketing/subjectConfig",data:{id:e.row.id,subject_type:e.row.type}})}}},[t._v("模块配置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/marketing/signupLog",data:{signup_id:e.row.id,region_no:e.row.region_no,type:2}})}}},[t._v("报名记录")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.showThat(e.row)}}},[t._v("复制链接")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"复制链接",visible:t.dialogVisibleEdit1,width:"800px"},on:{"update:visible":function(e){t.dialogVisibleEdit1=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信h5链接",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请输入内容"},model:{value:t.wx_h5,callback:function(e){t.wx_h5=e},expression:"wx_h5"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抖音链接",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请输入内容"},model:{value:t.douyin,callback:function(e){t.douyin=e},expression:"douyin"}})],1)],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"页面标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_title,callback:function(e){t.$set(t.formData,"page_title",e)},expression:"formData.page_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"页面关键字","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_keywords,callback:function(e){t.$set(t.formData,"page_keywords",e)},expression:"formData.page_keywords"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"页面描述","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.page_desc,callback:function(e){t.$set(t.formData,"page_desc",e)},expression:"formData.page_desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间范围","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.time_show_status,callback:function(e){t.$set(t.formData,"time_show_status",e)},expression:"formData.time_show_status"}},[a("el-radio",{attrs:{label:"0"}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("启用")])],1)],1),t._v(" "),t.time_box_show?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"报名","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.sign_up,callback:function(e){t.$set(t.formData,"sign_up",e)},expression:"formData.sign_up"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"2"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"版面选择","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},t._l(t.type_list,function(e){return a("div",{key:e,staticClass:"radio-item"},[a("el-image",{staticClass:"radio-img",attrs:{src:t.getRealImgUrl("/static/images/admin/subject_"+e+".jpg")},on:{click:function(a){t.doPreviewShow(t.subject_preview[e])}}}),t._v(" "),a("div",{staticClass:"radio-el"},[a("el-radio",{attrs:{label:String(e)}},[t._v("版面"+t._s(e+1))])],1)],1)}))],1),t._v(" "),a("el-form-item",{ref:"cover_url",attrs:{label:"封面图","label-width":t.formLabelWidth,prop:"cover_url"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1,width:750,height:750},limit:1,"show-file-list":!1,fileList:t.formData.cover_url,imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"cover_url",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1),t._v(" "),a("el-form-item",{ref:"bg_img",attrs:{label:"背景图","label-width":t.formLabelWidth,prop:"bg_img"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1,width:900,height:900},limit:1,"show-file-list":!1,fileList:t.formData.bg_img,imgIds:t.formData.cover_id,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"bg_img",e)},"update:imgIds":function(e){t.$set(t.formData,"cover_id",e)}}})],1),t._v(" "),a("el-form-item",{ref:"bgcolor",attrs:{label:"底色选择","label-width":t.formLabelWidth,prop:"bgcolor"}},[a("el-color-picker",{attrs:{"el-color-picker":""},model:{value:t.formData.bgcolor,callback:function(e){t.$set(t.formData,"bgcolor",e)},expression:"formData.bgcolor"}})],1),t._v(" "),t.dialogVisibleEdit?a("el-form-item",{attrs:{prop:"context_rule",label:"内容详情",required:"","label-width":"80px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.formData.context_rule,callback:function(e){t.$set(t.formData,"context_rule",e)},expression:"formData.context_rule"}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1),t._v(" "),a("img-preview",{attrs:{show:t.previewShow,src:t.previewSrc},on:{"update:show":function(e){t.previewShow=e}}})],1)},[],!1,null,"2bf43a3e",null);b.options.__file="subject.vue";e.default=b.exports}}]);