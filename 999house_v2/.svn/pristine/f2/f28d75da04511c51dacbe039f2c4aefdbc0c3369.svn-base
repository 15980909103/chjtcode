(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2927","chunk-6929"],{"+0/c":function(t,e,a){},"+0ku":function(t,e,a){},"+R62":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{},searchData:{user_nickname:"",mobile:"",real_name:"",band_card:""},page_loading:!1,tableData:[],pagination:{},total:0}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,r.requests("post",{url:"commission/getDistributors",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):r.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t))},getFormatDate:function(t){return r.DataFun.getFormatDate(t,1)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("1VK2"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"分销商昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入分销商昵称"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分销商手机号","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入分销商手机号"},model:{value:t.searchData.mobile,callback:function(e){t.$set(t.searchData,"mobile",e)},expression:"searchData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"开户姓名","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入开户姓名"},model:{value:t.searchData.real_name,callback:function(e){t.$set(t.searchData,"real_name",e)},expression:"searchData.real_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"银行卡号","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:t.searchData.band_card,callback:function(e){t.$set(t.searchData,"band_card",e)},expression:"searchData.band_card"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"分销商昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"分销商手机号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"佣金",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.commission)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"累计佣金",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.total_commission)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"real_name",label:"开户姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"band_card",label:"银行卡",align:"center"}})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1)],1)},[],!1,null,"696fe93c",null);d.options.__file="distributors.vue";e.default=d.exports},"+Wja":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=(a("Zd91"),a("I0Yi")),c=a("bC1q"),u=a("kxxL"),d=a("ygAv"),m={components:{"img-upload":n.default,"estates-new":r.default,"mycity-select":c.default},mixins:[u.a],data:function(){var t=this;return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{cover:[{validator:function(e,a,i){var l=t;l.$nextTick(function(){var t=e.field;if(!l.formData[t])return i(new Error(e.message)),!1;i()})},message:"请上传图片"}]},searchTime:[],searchData:{status:"-1",startdate:"",enddate:""},tableData:[],formData:{status:"0",sort:"0",cover:"",start_time:"",end_time:"",forid:""},innerVisible:!1}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{changeCity:function(t){this.clearInner()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;d.requests("post",{url:"LiveRoom/getList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:d.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.default_src=this.$getRealImgUrl(this.formData.cover),this.formData.start_time=this.getFormatDate(this.formData.start_time,2),this.formData.end_time=this.getFormatDate(this.formData.end_time,2)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return d.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,d.requests("post",{url:"LiveRoom/changeSort",data:{id:t,sort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSearch(),d.Message.success("操作成功")):d.Message.error(t.msg)}))},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"LiveRoom/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,d.requests("post",{url:"LiveRoom/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:d.openPage,changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},p=(a("osEN"),a("KHd+")),f=Object(p.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"直播中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未开始",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已结束",value:"3"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"room_name",label:"直播间名称",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"封面图",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cover?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.cover)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"绑定的楼盘",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.status?a("el-tag",[t._v("下架")]):t._e(),t._v(" "),"1"==e.row.status?a("el-tag",[t._v("直播中")]):t._e(),t._v(" "),"2"==e.row.status?a("el-tag",[t._v("未开始")]):t._e(),t._v(" "),"3"==e.row.status?a("el-tag",[t._v("已结束")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容"},on:{change:function(a){t.sortChange(e.row.id,a)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" - "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"860px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"直播间名称",prop:"room_name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.room_name,callback:function(e){t.$set(t.formData,"room_name",e)},expression:"formData.room_name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"跳转地址","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.room_url,callback:function(e){t.$set(t.formData,"room_url",e)},expression:"formData.room_url"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"直播中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未开始",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已结束",value:"3"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"直播间描述",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传封面","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"3e209e54",null);f.options.__file="liveRoom.vue";e.default=f.exports},"+ca/":function(t,e,a){"use strict";var i=a("bMwt");a.n(i).a},"/gPe":function(t,e,a){},"06OB":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=(a("Zd91"),a("kxxL")),c=a("I0Yi"),u=a("bC1q"),d=a("ygAv"),m={components:{"img-upload":n.default,"estates-new":c.default,"mycity-select":u.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{},searchTime:[],searchData:{name:"",startdate:"",enddate:""},tableData:[],formData:{name:"",subname:"",desc:"",forid:"",start_time:"",end_time:"",region_no:"",share_title:"",share_desc:"",share_img:""},innerVisible:!1}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{changeCity:function(t){this.clearInner()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;d.requests("post",{url:"Signup/getList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:d.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.start_time=this.getFormatDate(this.formData.start_time,2),this.formData.end_time=this.getFormatDate(this.formData.end_time,2),this.default_src=this.$getRealImgUrl(this.formData.share_img)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.share_img=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"Signup/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,d.requests("post",{url:"Signup/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:d.openPage,changeInnerShow:function(){this.innerVisible=!0},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},p=(a("rfa6"),a("KHd+")),f=Object(p.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"看房日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"楼盘名称",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" - "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"has_num",label:"已报名",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"副标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.subname,callback:function(e){t.$set(t.formData,"subname",e)},expression:"formData.subname"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"报名须知",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分享标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.share_title,callback:function(e){t.$set(t.formData,"share_title",e)},expression:"formData.share_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分享描述","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.share_desc,callback:function(e){t.$set(t.formData,"share_desc",e)},expression:"formData.share_desc"}})],1)],1)],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传分享海报","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"55c92e84",null);f.options.__file="signup.vue";e.default=f.exports},"0NnI":function(t,e,a){},"0ZQh":function(t,e,a){"use strict";var i=a("+0ku");a.n(i).a},"16Xz":function(t,e,a){"use strict";var i=a("nn3l");a.n(i).a},"1QUr":function(t,e,a){"use strict";var i=a("33XX");a.n(i).a},"1VK2":function(t,e,a){"use strict";var i=a("j/y9");a.n(i).a},"1i64":function(t,e,a){},"2Dvj":function(t,e,a){},"2EWK":function(t,e,a){"use strict";a.r(e);var i=a("Z1g7"),l=a("DqGA"),o=a("q2cZ"),s=a("H1wi"),n=a("kxxL"),r=(a("ygAv"),{components:{"img-upload":i.default,"estates-edit":l.default,"wxmemu-edit":o.default,"citypricelog-edit":s.default},mixins:[n.a],data:function(){return{activeName:"first"}},methods:{handleClick:function(t,e){console.log(t,e)}}}),c=(a("FWEy"),a("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本设置",name:"first"}},[a("estates-edit")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"公众号菜单配置",name:"second"}},[a("wxmemu-edit")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"历史价格",name:"third"}},[a("citypricelog-edit")],1)],1)],1)},[],!1,null,"6d29760d",null);u.options.__file="citytoptag.vue";e.default=u.exports},"2I9k":function(t,e,a){"use strict";var i=a("EJo1");a.n(i).a},"2YYx":function(t,e,a){},"2rj9":function(t,e,a){"use strict";var i=a("APBb");a.n(i).a},"33XX":function(t,e,a){},"36QG":function(t,e,a){"use strict";var i=a("qtDJ");a.n(i).a},"3DEm":function(t,e,a){"use strict";var i=a("0NnI");a.n(i).a},"3dpa":function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("ygAv"),s={data:function(){var t=this;return{form:{oldpassword:"",newpassword:"",newpassword2:""},rules:{oldpassword:[{required:!0,message:"请输入密码",trigger:"change"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"change"},{validator:function(e,a,i){(a=o.trim(a)).length<6?i(new Error("请输入至少6位密码")):(""!==t.form.newpassword2&&t.$refs.form.validateField("newpassword2"),i())},trigger:"change"}],newpassword2:[{required:!0,message:"请再次输入新密码",trigger:"change"},{validator:function(e,a,i){""===(a=o.trim(a))?i(new Error("请再次输入密码")):a!==t.form.newpassword?i(new Error("两次输入的新密码不一致")):i()},trigger:"change"}]}}},methods:{onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!"),!1;o.requests("post",{url:"index/editPassword",data:l()({},t.form)}).then(function(t){1==t.code?o.Message.success(t.msg):o.Message.error(t.msg)})})},cancelForm:function(){this.$refs.form.resetFields(),o.openPage({url:-1,hreftype:"navigateBack"})}}},n=(a("y0rP"),a("KHd+")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"repastitle"},[t._v("修改密码")]),t._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"120px",model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"请输入当前密码",prop:"oldpassword"}},[a("el-col",{attrs:{lg:6,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入当前登录密码","auto-complete":"off"},model:{value:t.form.oldpassword,callback:function(e){t.$set(t.form,"oldpassword",e)},expression:"form.oldpassword"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newpassword"}},[a("el-col",{attrs:{lg:6,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请设置6-20位密码","auto-complete":"off"},model:{value:t.form.newpassword,callback:function(e){t.$set(t.form,"newpassword",e)},expression:"form.newpassword"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"newpassword2"}},[a("el-col",{attrs:{lg:6,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请确认新密码","auto-complete":"off"},model:{value:t.form.newpassword2,callback:function(e){t.$set(t.form,"newpassword2",e)},expression:"form.newpassword2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelForm}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"379df5b6",null);r.options.__file="index.vue";e.default=r.exports},"3irV":function(t,e,a){"use strict";var i=a("mzYu");a.n(i).a},"3smZ":function(t,e,a){},"5ArL":function(t,e,a){"use strict";var i=a("nF1/");a.n(i).a},"5H1z":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=a("Z1g7"),c=a("kxxL"),u=a("ygAv"),d={components:{"pagination-box":n.default,"img-upload":r.default},mixins:[c.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",searchData:{},tableData:[],formData:{name:"",img:"",price:0,price_str:"",built_area:0,rooms:"1",sale_status:"1",orientation:"1",house_purpose:[]},default_src:"",pagination:{},rules:{name:[{required:!0,message:"请输入楼栋名称",trigger:"change"}]}}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;this.$urlData&&this.$urlData.building_id&&(t.building_id=this.$urlData.building_id),this.$urlData&&this.$urlData.estate_id&&(t.estate_id=this.$urlData.estate_id),u.requests("post",{url:"estates/getEstatesnewHouseList",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){u.requests("post",{url:"estates/delEstateHouse",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.sale_status=String(this.formData.sale_status),this.formData.orientation=String(this.formData.orientation),this.formData.rooms=String(this.formData.rooms),this.default_src=this.$getRealImgUrl(this.formData.img)),this.dialogVisibleEdit=!0,console.log(this.formData)},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,a.formData.estate_id=0,e.$urlData&&e.$urlData.estate_id&&(a.formData.estate_id=e.$urlData.estate_id),a.formData.building_id=0,e.$urlData&&e.$urlData.building_id&&(a.formData.building_id=e.$urlData.building_id),u.requests("post",{url:"estates/editEstatesnewHouse",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},onUploadedImg:function(t){this.formData.img=t.res.info.url,this.$refs.cover.clearValidate()},openPage:u.openPage}},m=(a("Qpc0"),a("KHd+")),p=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入户型名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"户型名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"户型名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{ref:"img",attrs:{label:"上传户型图","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1},default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"sale_status",label:"销售状态","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("待售")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("在售")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("售罄")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("尾盘")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"参考价格",prop:"price","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}}),t._v("元/㎡\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"参考价格",prop:"price_str","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入价格描述"},model:{value:t.formData.price_str,callback:function(e){t.$set(t.formData,"price_str",e)},expression:"formData.price_str"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"built_area",label:"建面","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.built_area,callback:function(e){t.$set(t.formData,"built_area",e)},expression:"formData.built_area"}}),t._v("㎡\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"rooms",label:"几居室","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}},[t._v("一室")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}},[t._v("两室")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}},[t._v("三室")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}},[t._v("四室")]),t._v(" "),a("el-radio",{attrs:{label:"5"},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}},[t._v("五室")]),t._v(" "),a("el-radio",{attrs:{label:"6"},model:{value:t.formData.rooms,callback:function(e){t.$set(t.formData,"rooms",e)},expression:"formData.rooms"}},[t._v("五室+")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"orientation",label:"朝向","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("东")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("南")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("西")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("北")]),t._v(" "),a("el-radio",{attrs:{label:"5"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("南北")]),t._v(" "),a("el-radio",{attrs:{label:"6"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("东西")]),t._v(" "),a("el-radio",{attrs:{label:"7"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("东南")]),t._v(" "),a("el-radio",{attrs:{label:"8"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("东北")]),t._v(" "),a("el-radio",{attrs:{label:"9"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("西南")]),t._v(" "),a("el-radio",{attrs:{label:"10"},model:{value:t.formData.orientation,callback:function(e){t.$set(t.formData,"orientation",e)},expression:"formData.orientation"}},[t._v("西北")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"house_purpose",label:"建筑用途","label-width":t.formLabelWidth}},[a("el-checkbox-group",{model:{value:t.formData.house_purpose,callback:function(e){t.$set(t.formData,"house_purpose",e)},expression:"formData.house_purpose"}},[a("el-checkbox",{attrs:{label:"1"}},[t._v("住宅")]),t._v(" "),a("el-checkbox",{attrs:{label:"2"}},[t._v("别墅")]),t._v(" "),a("el-checkbox",{attrs:{label:"3"}},[t._v("商住")]),t._v(" "),a("el-checkbox",{attrs:{label:"4"}},[t._v("写字楼")]),t._v(" "),a("el-checkbox",{attrs:{label:"5"}},[t._v("公寓")]),t._v(" "),a("el-checkbox",{attrs:{label:"6"}},[t._v("车位")]),t._v(" "),a("el-checkbox",{attrs:{label:"7"}},[t._v("花园住宅")]),t._v(" "),a("el-checkbox",{attrs:{label:"8"}},[t._v("地皮商铺")])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"7239236b",null);p.options.__file="estatesnew_house.vue";e.default=p.exports},"60bY":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=(a("Z1g7"),a("kxxL")),n=a("ygAv"),r={components:{"pagination-box":o.default},mixins:[s.a],data:function(){return{formLabelWidth:"123px",page_loading:"",searchData:{status:"-1"},tableData:[],formData:{name:"",status:"0"},pagination:{}}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;n.requests("post",{url:"estates/getEstatesnewList",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;n.requests("post",{url:"estates/setEstatesStatus",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?n.Message.success("操作成功"):n.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.requests("post",{url:"estates/delEstates",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},openPage:n.openPage}},c=(a("fA+T"),a("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入楼盘名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/estates/estatesnew_edit"})}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"楼盘名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.openPage({url:"/estates/estatesnew_edit",data:{id:e.row.id}})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"614e5c29",null);u.options.__file="estatesnew.vue";e.default=u.exports},"6CNt":function(t,e,a){"use strict";var i=a("lZWk");a.n(i).a},"6aMj":function(t,e,a){},"7QZd":function(t,e,a){"use strict";a.r(e);a("ygAv");var i={name:"img-preview",props:{src:{type:String,default:function(){return""}},show:{type:Boolean,default:function(){return!1}},width:{default:function(){return""}}},watch:{pageShow:function(t){this.$emit("update:show",t)},show:function(t){this.pageShow=t}},computed:{styleCss:function(){if("auto"!=this.width)return"width:"+this.width+"px"}},data:function(){return{pageShow:!1}},created:function(){},methods:{getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},l=(a("UHXm"),a("KHd+")),o=Object(l.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgpreview-box"},[a("el-dialog",{attrs:{title:"图片预览",visible:t.pageShow},on:{"update:visible":function(e){t.pageShow=e}}},[a("div",{staticClass:"mydialog-cotent",style:t.styleCss},[t._t("header"),t._v(" "),a("div",[a("el-image",{staticClass:"img-preview",attrs:{src:t.getRealImgUrl(t.src),fit:"fill"}})],1),t._v(" "),t._t("footer")],2)])],1)},[],!1,null,"40510644",null);o.options.__file="ImgPreview.vue";e.default=o.exports},"7wcY":function(t,e,a){},"80C+":function(t,e,a){},"865a":function(t,e,a){"use strict";var i=a("kRSo");a.n(i).a},"8I+L":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=(a("Zd91"),a("kxxL")),c=a("I0Yi"),u=a("bC1q"),d=a("ygAv"),m={components:{"img-upload":n.default,"estates-new":c.default,"mycity-select":u.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{},searchTime:[],searchData:{room_name:"",status:"-1",startdate:"",enddate:""},tableData:[],formData:{room_name:"",status:"0",start_time:"",end_time:"",forid:"",forname:"",region_no:""},innerVisible:!1}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){var t=this;t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{changeCity:function(t){this.clearInner()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;d.requests("post",{url:"Coupon/getList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:d.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.start_time=this.getFormatDate(this.formData.start_time,2),this.formData.end_time=this.getFormatDate(this.formData.end_time,2)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"Coupon/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,d.requests("post",{url:"Coupon/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:d.openPage,changeInnerShow:function(){this.formData.region_no?this.innerVisible=!0:this.$message({type:"error",message:"请先选择城市"})},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,console.log(this.formData)},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},p=(a("D5Fm"),a("KHd+")),f=Object(p.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入直播间名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.room_name,callback:function(e){t.$set(t.searchData,"room_name",e)},expression:"searchData.room_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"直播中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未开始",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已结束",value:"3"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"楼盘名称",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.status?a("el-tag",[t._v("下架")]):t._e(),t._v(" "),"1"==e.row.status?a("el-tag",[t._v("直播中")]):t._e(),t._v(" "),"2"==e.row.status?a("el-tag",[t._v("未开始")]):t._e(),t._v(" "),"3"==e.row.status?a("el-tag",[t._v("已结束")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" - "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"860px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择新房",prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择新房"},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择新房"},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("清空")])],1)],1)],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible},on:{"update:show":function(e){t.innerVisible=e},innerFormData:t.innerFormData}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"折扣信息",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.discount,callback:function(e){t.$set(t.formData,"discount",e)},expression:"formData.discount"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发放数量","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.total_num,callback:function(e){t.$set(t.formData,"total_num",e)},expression:"formData.total_num"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"597d24fc",null);f.options.__file="coupon.vue";e.default=f.exports},"8RjK":function(t,e,a){"use strict";a.r(e);var i=a("gjeX"),l=a.n(i),o={components:{},name:"download-base64img",props:{fileName:{type:String,default:function(){var t=Date.parse(new Date);return l()("img"+t).toLowerCase()}},content:{}},data:function(){return{}},methods:{doDownLoadImg:function(){var t=this.fileName,e=this.content,a=document.createElement("a"),i=this.base64ToBlob(e);document.createEvent("HTMLEvents").initEvent("click",!0,!0),a.download=t,a.href=URL.createObjectURL(i),a.click()},base64ToBlob:function(t){for(var e=t.split(";base64,"),a=e[0].split(":")[1],i=window.atob(e[1]),l=i.length,o=new Uint8Array(l),s=0;s<l;++s)o[s]=i.charCodeAt(s);return new Blob([o],{type:a})}}},s=(a("aBxp"),a("KHd+")),n=Object(s.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("el-button",{attrs:{type:"primary",size:"small"},on:{click:this.doDownLoadImg}},[this._v("下载")])},[],!1,null,"95436272",null);n.options.__file="DownloadBase64img.vue";e.default=n.exports},"8Vtz":function(t,e,a){},"8qio":function(t,e,a){"use strict";var i=a("S/Qt");a.n(i).a},"8sCe":function(t,e,a){},"9GRN":function(t,e,a){},"9rud":function(t,e,a){},"9s5S":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=a("ygAv"),n={components:{"pagination-box":o.default},data:function(){return{searchTime:[],searchData:{goods_id:"",orderno:"",distributor_user_name:"",startdate:"",enddate:"",status:"all",isfirst:"all",dotype:"all"},page_loading:!1,tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,s.requests("post",{url:"commission/getDistributorOrderList",data:t}).then(function(t){e.page_loading=!1,1==t.code?(console.log(t),e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})):s.Message.error(t.msg)}))},onReset:function(){this.setDataArr({searchData:{goods_id:"",orderno:"",distributor_user_name:"",startdate:"",enddate:"",status:"all",isfirst:"all",dotype:"all"},searchTime:[]}),this.getList()},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getFormatDate:function(t){return s.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},r=(a("yEVJ"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单号","prefix-icon":"el-icon-search"},model:{value:t.searchData.orderno,callback:function(e){t.$set(t.searchData,"orderno",e)},expression:"searchData.orderno"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分销商昵称"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入分销商昵称","prefix-icon":"el-icon-search"},model:{value:t.searchData.distributor_user_name,callback:function(e){t.$set(t.searchData,"distributor_user_name",e)},expression:"searchData.distributor_user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"已支付",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未支付",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.onReset}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"user_nickname",label:"购买者昵称",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.user_nickname)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order_no",label:"订单号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.goods_name)),e.row.attr?a("span",[t._v(" | "+t._s(e.row.attr.attr_name))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isfirst",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.isfirst?a("span",[t._v("开户")]):2==e.row.isfirst?a("span",[t._v("续费")]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"real_price",label:"支付金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isfirst",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("已支付")]):0==e.row.status?a("span",[t._v("待支付")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"下单时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"distributor_user_name",label:"上级分销商",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commission",label:"佣金",align:"center"}})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"2a408898",null);c.options.__file="orderlist.vue";e.default=c.exports},APBb:function(t,e,a){},AxMc:function(t,e,a){"use strict";var i=a("eIvR");a.n(i).a},"B+/5":function(t,e,a){"use strict";var i=a("E4lG");a.n(i).a},BAVQ:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=(a("Zd91"),a("kxxL")),c=a("ygAv"),u={components:{"img-upload":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}]},searchData:{name:"",status:"-1",type:"-1"},tableData:[],formData:{name:"",type:"1",status:"0",cover:""}}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"estates/getTagList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.default_src=this.$getRealImgUrl(this.formData.cover)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;c.requests("post",{url:"estates/enableTag",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"estates/delTag",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"estates/editTag",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("J1iJ"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入直播间名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"特色标签",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"基本属性",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"卖点标签",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"楼盘地址",value:"4"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标签名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"icon图",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cover?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.cover)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.type?a("el-tag",[t._v("特色标签")]):t._e(),t._v(" "),"2"==e.row.type?a("el-tag",[t._v("基本属性")]):t._e(),t._v(" "),"3"==e.row.type?a("el-tag",[t._v("卖点标签")]):t._e(),t._v(" "),"4"==e.row.type?a("el-tag",[t._v("楼盘地址")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"特色标签",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"基本属性",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"卖点标签",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"楼盘地址",value:"4"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传封面","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1},default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"6e11facb",null);m.options.__file="tag.vue";e.default=m.exports},BQFP:function(t,e,a){},Bf2p:function(t,e,a){},Bi68:function(t,e,a){"use strict";a.r(e);var i={name:"pagination-box",props:["pagination"],data:function(){return{}},methods:{pageChange:function(t){window.scrollTo(0,0),this.$emit("pageChange",t)}}},l=(a("iIDF"),a("KHd+")),o=Object(l.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pagination-box"},[e("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper","page-size":parseInt(this.pagination.pagesize),"current-page":parseInt(this.pagination.page),"page-count":parseInt(this.pagination.pagecount)},on:{"current-change":this.pageChange}})],1)},[],!1,null,null,null);o.options.__file="pagination.vue";e.default=o.exports},BpQL:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=a("ygAv"),n={components:{"pagination-box":o.default},data:function(){return{searchTime:[],searchData:{goods_id:"",order_no:"",distributor_user_name:"",startdate:"",enddate:"",status:"all"},page_loading:!1,tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,s.requests("post",{url:"commission/userWithdrawal",data:t}).then(function(t){e.page_loading=!1,1==t.code?(console.log(t),e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})):s.Message.error(t.msg)}))},onReset:function(){this.setDataArr({searchData:{goods_id:"",order_no:"",distributor_user_name:"",startdate:"",enddate:"",status:"all"},searchTime:[]}),this.getList()},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getFormatDate:function(t){return s.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},r=(a("lpj6"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单号","prefix-icon":"el-icon-search"},model:{value:t.searchData.order_no,callback:function(e){t.$set(t.searchData,"order_no",e)},expression:"searchData.order_no"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分销商昵称"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入分销商昵称","prefix-icon":"el-icon-search"},model:{value:t.searchData.distributor_user_name,callback:function(e){t.$set(t.searchData,"distributor_user_name",e)},expression:"searchData.distributor_user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"申请中",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"打款中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"打款成功",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"打款失败",value:"3"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.onReset}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"user_nickname",label:"分销商昵称",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.user_nickname)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order_no",label:"订单号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"申请时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"提现金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"real_name",label:"开户姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"band_card",label:"银行卡号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("span",[t._v("申请中")]):1==e.row.status?a("span",[t._v("打款中")]):2==e.row.status?a("span",[t._v("打款成功")]):3==e.row.status?a("span",[t._v("打款失败")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"reason",label:"原因",align:"center"}})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"30f62803",null);c.options.__file="userWithdrawal.vue";e.default=c.exports},D5Fm:function(t,e,a){"use strict";var i=a("7wcY");a.n(i).a},D5Ue:function(t,e,a){},DElK:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=a("ygAv"),n={components:{"pagination-box":o.default},data:function(){return{searchTime:[],searchData:{selectKey:"mobile",selectVal:"",startdate:"",enddate:""},page_loading:!1,tableData:[],pagination:{}}},computed:{select_placeholder:function(){return"mobile"==this.searchData.selectKey?"请输入手机号":"contact_name"==this.searchData.selectKey?"请输入姓名":"goods_name"==this.searchData.selectKey?"请输入商品名称":void 0}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,s.requests("post",{url:"exchange/log",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):s.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(t){t.id},getFormatDate:function(t){return t?s.DataFun.getFormatDate(t,2):""},openPage:s.openPage}},r=(a("iiu4"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"380px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"申请的开始日期","end-placeholder":"申请的结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{contact_name:"",label:"用户信息",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"left"}},[a("div",[t._v("姓名:"+t._s(e.row.contact_name))]),t._v(" "),a("div",[t._v("手机号:"+t._s(e.row.mobile))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getFormatDate(e.row.create_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"receive_time",label:"领取时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getFormatDate(e.row.receive_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,contact_name:e.row.contact_name,mobile:e.row.mobile})}}},[t._v("查看")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"56ea78e7",null);c.options.__file="log.vue";e.default=c.exports},DM2x:function(t,e,a){},DTsy:function(t,e,a){},DqGA:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("Z1g7"),s=a("glbJ"),n=a("ygAv"),r={components:{Tinymce:s.default,"img-upload":o.default},data:function(){return{activeName:"1",default_src1:"",dialogFormVisible_reply_setting:!1,form:{wxh5:{appid:"",secret:"",token:""},seo:{site_title:"",page_title:"",page_keywords:"",page_desc:""},reply_setting:{follow_type:1,lookup_text:"",follow_content:"",lookup_content:"",Title:"",description:"",PicUrl:"",Url:""}},items:[],areaItems:[]}},created:function(){console.log(this.$urlData.region_no),this.region_no=this.$urlData.region_no,this.getInfo()},methods:{onAdd:function(){this.items.push("")},onDelete:function(t){this.items.splice(t,1)},onAreaAdd:function(){this.areaItems.push("")},onAreaDelete:function(t){this.areaItems.splice(t,1)},tabClick:function(t){"2"==t.name&&n.openPage({url:"/admin/wxmenu",data:{region_no:this.region_no}}),"3"==t.name&&n.openPage({url:"/admin/citypricelog",data:{region_no:this.region_no}})},onUploadedImg:function(t,e){var a=t.res.info;this.form[e]=a.url},getInfo:function(){var t=this;n.requests("post",{url:"city/siteInfo",data:{key:["wxh5","seo","average_area","average_price","reply_setting"],region_no:this.region_no}}).then(function(e){if(1==e.code){var a={};for(var i in 0==e.data.list.length&&(e.data.list=[{key:"wxh5"},{key:"seo"},{key:"reply_setting"}]),e.data.list){var l=e.data.list[i];"average_price"==l.key&&(t.items=l.val),"average_area"==l.key&&(t.areaItems=l.val),l.val||("wxh5"==l.key&&(l.val={appid:"",secret:"",token:""}),"seo"==l.key&&(l.val={site_title:"",page_title:"",page_keywords:"",page_desc:""}),"reply_setting"==l.key&&(l.val={follow_type:1,lookup_text:"",follow_content:"",lookup_content:"",Title:"",description:"",PicUrl:"",Url:""})),a[l.key]=l.val}console.log(a),"reply_setting"==l.key&&(a.reply_setting.follow_type=Number(l.val.follow_type)),t.setDataArr({form:a})}else n.Message.error(e.msg)})},onSubmit:function(){var t=this;n.requests("post",{url:"city/siteEdit",data:{key:l()({},t.form),region_no:t.region_no,cityItem:t.items,areaItems:t.areaItems}}).then(function(e){1==e.code?(t.getInfo(),n.Message.success(e.msg)):n.Message.error(e.msg)})},cancelForm:function(){this.$refs.form.resetFields(),n.openPage({url:-1,hreftype:"navigateBack"})}}},c=(a("B+/5"),a("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("div",{staticClass:"mapeditor-title"},[t._v("基础设置")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号appid","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.appid,callback:function(e){t.$set(t.form.wxh5,"appid",e)},expression:"form.wxh5.appid"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号密钥","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.secret,callback:function(e){t.$set(t.form.wxh5,"secret",e)},expression:"form.wxh5.secret"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号token","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.token,callback:function(e){t.$set(t.form.wxh5,"token",e)},expression:"form.wxh5.token"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("自动回复")]),t._v(" "),a("el-form-item",{attrs:{label:"消息方式","label-width":"110px"}},[a("el-radio",{attrs:{label:2},model:{value:t.form.reply_setting.follow_type,callback:function(e){t.$set(t.form.reply_setting,"follow_type",e)},expression:"form.reply_setting.follow_type"}},[t._v("图片")]),t._v(" "),a("el-radio",{attrs:{label:1},model:{value:t.form.reply_setting.follow_type,callback:function(e){t.$set(t.form.reply_setting,"follow_type",e)},expression:"form.reply_setting.follow_type"}},[t._v("文字")])],1),t._v(" "),a("el-form-item",{attrs:{label:"聊天查找关键词","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.lookup_text,callback:function(e){t.$set(t.form.reply_setting,"lookup_text",e)},expression:"form.reply_setting.lookup_text"}})],1),t._v(" "),1==t.form.reply_setting.follow_type?a("div",[a("el-form-item",{attrs:{label:"关注时回复内容","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.follow_content,callback:function(e){t.$set(t.form.reply_setting,"follow_content",e)},expression:"form.reply_setting.follow_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"聊天回复关键词","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.lookup_content,callback:function(e){t.$set(t.form.reply_setting,"lookup_content",e)},expression:"form.reply_setting.lookup_content"}})],1)],1):t._e(),t._v(" "),2==t.form.reply_setting.follow_type?a("div",[a("el-form-item",{attrs:{label:"图文标题","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.Title,callback:function(e){t.$set(t.form.reply_setting,"Title",e)},expression:"form.reply_setting.Title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"图文描述","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.description,callback:function(e){t.$set(t.form.reply_setting,"description",e)},expression:"form.reply_setting.description"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"img",label:"图片","label-width":"90px"}},[a("span",{staticStyle:{color:"red"}},[t._v("(建议图片规格360*200)")]),t._v(" "),a("img-upload",{ref:"imgUpload",attrs:{default_src:t.form.reply_setting.PicUrl,url:"Upload/imgUpload",uploadedImg:t.onUploadedImg,thumb:{isthumb:1,width:480,height:480}},on:{"update:default_src":function(e){t.$set(t.form.reply_setting,"PicUrl",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"跳转url","label-width":"110px"}},[a("el-input",{model:{value:t.form.reply_setting.Url,callback:function(e){t.$set(t.form.reply_setting,"Url",e)},expression:"form.reply_setting.Url"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("seo设置")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_title",label:"网站名称","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.seo.site_title,callback:function(e){t.$set(t.form.seo,"site_title",e)},expression:"form.seo.site_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_title",label:"页面标题","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.seo.page_title,callback:function(e){t.$set(t.form.seo,"page_title",e)},expression:"form.seo.page_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_keywords",label:"页面关键字","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.seo.page_keywords,callback:function(e){t.$set(t.form.seo,"page_keywords",e)},expression:"form.seo.page_keywords"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_desc",label:"页面描述","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.seo.page_desc,callback:function(e){t.$set(t.form.seo,"page_desc",e)},expression:"form.seo.page_desc"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("城市均价")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("添加")])],1),t._v(" "),t._l(t.items,function(e,i){return a("div",{key:i},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_desc",label:"城市均价","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:t.items[i],callback:function(e){t.$set(t.items,i,e)},expression:"items[i]"}}),t._v(" "),a("a",{on:{click:function(e){t.onDelete(i)}}},[t._v("删除")])],1)],1)],1)})],2),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("城市建筑面积")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onAreaAdd}},[t._v("添加")])],1),t._v(" "),t._l(t.areaItems,function(e,i){return a("div",{key:i},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"page_desc",label:"城市面积","label-width":"120px"}},[a("el-input",{attrs:{type:"text",width:"2px"},model:{value:t.areaItems[i],callback:function(e){t.$set(t.areaItems,i,e)},expression:"areaItems[i]"}}),t._v(" "),a("a",{on:{click:function(e){t.onAreaDelete(i)}}},[t._v("删除")])],1)],1)],1)})],2),t._v(" "),a("el-form-item",{attrs:{"label-width":"136px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelForm}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"43b158e3",null);u.options.__file="cityset.vue";e.default=u.exports},Dsni:function(t,e,a){"use strict";var i=a("QIk/");a.n(i).a},E4lG:function(t,e,a){},EJo1:function(t,e,a){},EOD4:function(t,e,a){},ESSz:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{},searchData:{sort:"id",customer_name:"",customer_mobile:""},page_loading:!1,tableData:[],pagination:{},total:0}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,r.requests("post",{url:"user/getBookList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):r.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t))},getFormatDate:function(t){return r.DataFun.getFormatDate(t,1)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("PeaI"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"客户名字","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入客户名字"},model:{value:t.searchData.customer_name,callback:function(e){t.$set(t.searchData,"customer_name",e)},expression:"searchData.customer_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户手机号","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入客户手机号"},model:{value:t.searchData.customer_mobile,callback:function(e){t.$set(t.searchData,"customer_mobile",e)},expression:"searchData.customer_mobile"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_name",label:"客户信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.customer_name)+" | "+t._s(e.row.customer_mobile)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"归属人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"table_no",label:"桌号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"花",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.flower_price)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"酒",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.wine_price)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_date",label:"创建时间",align:"center"}})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1)],1)},[],!1,null,"df5e438c",null);d.options.__file="bookList.vue";e.default=d.exports},"Eb/7":function(t,e,a){"use strict";var i=a("el9l");a.n(i).a},FWEy:function(t,e,a){"use strict";var i=a("JadN");a.n(i).a},FedZ:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),l={name:"voice-upload",props:{url:{type:String,default:function(){return""}},upload_type:{type:String,default:function(){return""}},fileList:{type:Array,default:function(){return[]}},uploadedVoice:{type:Function},uploadedVoiceForNew:{type:Function},limitM:{type:Number,default:function(){return 5}}},data:function(){return{uploadLoading:!1,open_voicesrc:"",isPlaying:!1}},created:function(){},methods:{resetData:function(){this.setDataArr({uploadLoading:!1,open_voicesrc:"",isPlaying:!1}),this.$emit("update:fileList",[])},handleExceed:function(t,e){this.$message.warning("只允许上传一个文件,若要更改请先移除")},beforeUploadVoice:function(t){var e="video/mp4"==t.type,a=this.limitM,i=t.size/1024/1024<a;return e||this.$message.error("上传文件只能是 mp4视频!"),i||this.$message.error("上传文件大小不能超过 "+a+"M!"),e&&i},uploadVoice:function(t){var e=this;if(!e.uploadLoading){e.uploadLoading=!0;var a=this.$route.path.split("/"),l=a[1]?a[1]:"";if(l){var o=t.file;if("oss"==e.upload_type)i.uploadFileToOss({file:o,type:"audio",success:function(t){e.uploadLoading=!1,e.fileList.push({name:t.name,url:t.url}),console.log(t),e.$emit("update:fileList",e.fileList),e.uploadedVoice&&e.uploadedVoice({sub_that:e,res:t})},fail:function(t){e.uploadLoading=!1,i.Message.error(res.msg)}});else{var s=e.url;e.$baseconfig.imghost;i.requests("post",{url:s,data:{voice:o,subpath:l},headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if(e.uploadLoading=!1,e.uploadedVoiceForNew)e.uploadedVoiceForNew({sub_that:e,res:t});else if(1==t.code){var a=t.data.info;e.fileList.push({name:a.url,url:a.url}),e.$emit("update:fileList",e.fileList),e.uploadedVoice&&e.uploadedVoice({sub_that:e,res:t.data})}else i.Message.error(t.msg)})}}else console.log("页面路径设置错误")}},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},handleRemove:function(t,e){this.stop(),this.uploadedVoice&&this.uploadedVoice({sub_that:this,res:e}),this.$emit("update:fileList",e)},handlePreview:function(t){var e=this;e.open_voicesrc="",e.open_voicesrc=this.getRealVoiceUrl(t.url),setTimeout(function(){e.play()},300)},play:function(){this.$refs.open_voicesrc.ended&&(this.$refs.open_voicesrc.currentTime=0,this.isPlaying=!1),this.isPlaying?this.pause():(this.$refs.open_voicesrc.play(),this.isPlaying=!0)},pause:function(){this.isPlaying&&(this.$refs.open_voicesrc.pause(),this.isPlaying=!1)},stop:function(){this.isPlaying&&(this.$refs.open_voicesrc.pause(),this.isPlaying=!1,this.$refs.open_voicesrc.currentTime=0)},getRealVoiceUrl:function(t){return this.$getRealVoiceUrl(t)}}},o=(a("ptdu"),a("KHd+")),s=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"voice-upload-content"},[a("el-upload",{staticClass:"voice-uploader",attrs:{action:"string","http-request":t.uploadVoice,"before-upload":t.beforeUploadVoice,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,limit:1,"on-exceed":t.handleExceed,"show-file-list":!0,"file-list":t.fileList,accept:"video/*"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("选择文件")])],1),t._v(" "),a("audio",{ref:"open_voicesrc",attrs:{src:t.open_voicesrc}})],1)},[],!1,null,"7ad8b829",null);s.options.__file="VoiceUpload.vue";e.default=s.exports},GERb:function(t,e,a){"use strict";var i=a("zUHS");a.n(i).a},H1wi:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=(a("Zd91"),a("Bi68")),r=a("kxxL"),c=a("ygAv"),u={components:{"pagination-box":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:!1,searchData:{status:"-1",is_hot:"-1",id:""},tableData:[],value3:"",formData:{city_code_id:"",change_time:"",new_price:""},pagination:{},total:0}},watch:{},created:function(){this.resetData({formData:this.formData}),this.searchData.region_no=this.$urlData.region_no,this.getList(this.searchData),this.getSysCitys(0,"provinces")},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("get",{url:"cityPriceLog/cityPriceList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):c.Message.error(t.msg)})},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getSysCitys:function(t,e){var a=this;c.requests("post",{url:"city/sysCitys",data:{pid:t}}).then(function(t){if(1==t.code){a[e]=[{id:0,cname:"不限制"}].concat(t.data),console.log(a[e])}else c.Message.error(t.msg)})},openPage:c.openPage,doEdit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(l()(e).length>0){e.status=String(e.status),e.is_hot=String(e.is_hot),this.formData=s()({},e),this.formData.dotype="edit",this.provinceData=e.pid+"-"+e.pcname;var a=setInterval(function(){t.cityData?clearInterval(a):"edit"==t.formData.dotype?t.cityData=e.id+"-"+e.cname:t.cityData=""},800)}else this.formData.dotype="add",this.formData.city_code_id=this.$urlData.region_no;this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"city/siteCitysDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"cityPriceLog/cityPriceLogEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("865a"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"change_time",label:"价格变动时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"new_price",label:"变动价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 价格")],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"价格变动时间","label-width":"110px"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:t.formData.change_time,callback:function(e){t.$set(t.formData,"change_time",e)},expression:"formData.change_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"变动价格","label-width":"110px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.new_price,callback:function(e){t.$set(t.formData,"new_price",e)},expression:"formData.new_price"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"0c18c958",null);m.options.__file="citypricelog.vue";e.default=m.exports},HrLS:function(t,e,a){"use strict";a.r(e);var i=a("0ERz"),l=a.n(i),o={components:{},name:"QCode",props:{id_name:{type:String,default:""},value:{type:String,default:""},width:{type:String,default:"132"},height:{type:String,default:"132"},need_big:{type:Boolean,default:!1},big_width:{type:String,default:"600"},big_height:{type:String,default:"600"}},data:function(){return{qrcodeObj:null,qrcodeBigObj:null}},watch:{},computed:{id_name_big:function(){return this.id_name+"_big"}},mounted:function(){this.qrcodeObj=this.qrcode({id_name:this.id_name,value:this.value,width:Number(this.width),height:Number(this.height)}),this.need_big&&(this.qrcodeBigObj=this.qrcode({id_name:this.id_name_big,value:this.value,width:Number(this.big_width),height:Number(this.big_height)}))},methods:{qrcode:function(t){if(t.value&&t.id_name)return new l.a(t.id_name,{width:t.width,height:t.height,text:t.value,colorDark:"#000",colorLight:"#fff"})},getQrcodeObj:function(){return{qrcodeObj:this.qrcodeObj,qrcodeBigObj:this.qrcodeBigObj}},qrcodeImgClick:function(t){var e={imgSrc:t.srcElement.currentSrc,bigimgSrc:this.qrcodeBigObj?this.qrcodeBigObj._el.children[1].currentSrc:""};this.$emit("onQrcodeImgClick",{imgSrcObj:e,qrcodeObj:this.getQrcodeObj()})}}},s=(a("LTt7"),a("KHd+")),n=Object(s.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qcode-box",on:{click:t.qrcodeImgClick}},[t._t("header"),t._v(" "),a("div",{staticClass:"qcode-item",attrs:{id:t.id_name}}),t._v(" "),t._t("footer"),t._v(" "),t.need_big?a("div",{staticClass:"qcode-bigitem",staticStyle:{display:"none"},attrs:{id:t.id_name_big}}):t._e()],2)},[],!1,null,"61e405aa",null);n.options.__file="QCode.vue";e.default=n.exports},"I/z8":function(t,e,a){"use strict";var i=a("BQFP");a.n(i).a},I0Yi:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("YEIV"),s=a.n(o),n=a("kxxL"),r=a("ygAv"),c={name:"estates-new",mixins:[n.a],directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},props:s()({region_no:{default:function(){return""}},show:{type:Boolean,default:function(){return!1}}},"region_no",{default:function(){return""}}),watch:{innerDialogVisible:function(t){this.$emit("update:show",t)},show:function(t){this.innerDialogVisible=t}},data:function(){return{url:"estates/getEstatesnewList",innerTableData:[],innerDialogVisible:!1,innerSearch:{name:"",region_no:""},innerLoads:{loadSign:!1,page:0,last_page:1}}},created:function(){},methods:{openPage:r.openPage,innerSelcetRow:function(t){this.innerDialogVisible=!1,this.$emit("innerFormData",t)},onInnerSerch:function(){this.innerSearch.region_no=this.region_no,this.getList(l()({page:1},this.innerSearch))},innerLoadMore:function(){this.getList(l()({page:this.innerLoads.page+1},this.innerSearch))},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;if(1!=e.innerLoads.loadSign){var a=t.page;t.field="en.name,en.id",1==a&&(e.innerLoads.last_page=1,e.innerTableData=[]),a>e.innerLoads.last_page||(e.innerLoads.loadSign=!0,r.requests("post",{url:e.url,data:t}).then(function(t){if(e.innerLoads.loadSign=!1,1==t.code){for(var a in t.data.list)e.innerTableData.push(t.data.list[a]);e.innerLoads.last_page=t.data.last_page,e.innerLoads.page=t.data.current_page}else r.Message.error(t.msg)}))}}}},u=(a("SgHr"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"50%",title:"新房",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.innerSearch}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"标题","prefix-icon":"el-icon-search"},model:{value:t.innerSearch.name,callback:function(e){t.$set(t.innerSearch,"name",e)},expression:"innerSearch.name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onInnerSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.innerLoadMore,expression:"innerLoadMore"}],ref:"innerTable",staticStyle:{width:"100%"},attrs:{data:t.innerTableData,height:"350px","highlight-current-row":"",border:""},on:{"row-click":t.innerSelcetRow}},[a("el-table-column",{attrs:{property:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"标题"}})],1)],1)},[],!1,null,"49177d69",null);d.options.__file="EstatesNew.vue";e.default=d.exports},I0fP:function(t,e,a){},IQIp:function(t,e,a){"use strict";var i=a("DM2x");a.n(i).a},IbCV:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("ygAv"),s={name:"auth-tree",props:{roleinfo:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{children:"children",label:"name"}}},default_checkedKeys:{type:Array,default:function(){return[]}}},data:function(){return{show:!0}},computed:{checkedKeys:function(){var t=o.Tree.treeTransArray(this.data);return this.filterParentMenusId(this.default_checkedKeys,t)}},methods:{filterParentMenusId:function(t,e){if(0==t.length)return[];var a=[],i=[];for(var s in e){(n=e[s]).parent_id&&(i[n.parent_id]=n.id)}for(var s in i=l()(i),t){var n=t[s];-1==o.ArrayFun.indexOfArr(i,n)&&a.push(t[s])}return a},onClose:function(){this.$emit("onClose",!1)},onSubmit:function(){var t=this.$refs.tree.getCheckedKeys(),e=this.$refs.tree.getHalfCheckedKeys(),a=[];a=e.length>0?t.concat(e):t,this.$emit("onSubmit",{role_id:this.roleinfo.id,checked_keys:a})}}},n=(a("WCvx"),a("KHd+")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"权限设置( "+t.roleinfo.name+" )",visible:t.show,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},close:t.onClose}},[a("el-tree",{ref:"tree",attrs:{data:t.data,"show-checkbox":"","default-expand-all":"","expand-on-click-node":!1,"check-on-click-node":"","node-key":"id","default-checked-keys":t.checkedKeys,props:t.defaultProps}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.show=!1}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"75c4a1f4",null);r.options.__file="AuthTree.vue";e.default=r.exports},"J+o7":function(t,e,a){"use strict";var i=a("UO+N");a.n(i).a},J1iJ:function(t,e,a){"use strict";var i=a("3smZ");a.n(i).a},J6CZ:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("Z1g7"),s=a("glbJ"),n=a("ygAv"),r={components:{Tinymce:s.default,"img-upload":o.default},data:function(){return{form:{kfmobile:"",wxh5:{appid:"",secret:"",token:"",url:""}}}},created:function(){this.getInfo()},methods:{onUploadedImg:function(t,e){var a=t.res.info;this.form[e]=a.url},getInfo:function(){var t=this;n.requests("post",{url:"sys/sysInfo",data:{key:["kfmobile","wxh5","poster_img"]}}).then(function(e){if(1==e.code){var a={};for(var i in e.data.list){var l=e.data.list[i];l.val||"wxh5"==l.key&&(l.val={appid:"",secret:"",token:""}),a[l.key]=l.val}t.setDataArr({form:a}),console.log(t.form.wxh5)}else n.Message.error(e.msg)})},onSubmit:function(){var t=this;console.log(t.form),n.requests("post",{url:"sys/sysEdit",data:{key:l()({},t.form)}}).then(function(e){1==e.code?(t.getInfo(),n.Message.success(e.msg)):n.Message.error(e.msg)})}}},c=(a("5ArL"),a("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("div",{staticClass:"mapeditor-title"},[t._v("基础设置")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{prop:"kfmobile",label:"客服电话","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.kfmobile,callback:function(e){t.$set(t.form,"kfmobile",e)},expression:"form.kfmobile"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("微信公众号配置-服务号")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号appid","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.appid,callback:function(e){t.$set(t.form.wxh5,"appid",e)},expression:"form.wxh5.appid"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号密钥","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.secret,callback:function(e){t.$set(t.form.wxh5,"secret",e)},expression:"form.wxh5.secret"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"微信公众号token","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.token,callback:function(e){t.$set(t.form.wxh5,"token",e)},expression:"form.wxh5.token"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:18,md:18,xs:24}},[a("el-form-item",{attrs:{label:"回调地址","label-width":"120px"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.wxh5.url,callback:function(e){t.$set(t.form.wxh5,"url",e)},expression:"form.wxh5.url"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{"label-width":"136px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")])],1)],1)],1)},[],!1,null,"82f8cb2c",null);u.options.__file="baseset.vue";e.default=u.exports},JadN:function(t,e,a){},JdwW:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("YEIV"),r=a.n(n),c=a("Bi68"),u=a("fqDt"),d=(a("MCLT"),a("kxxL")),m=a("ygAv"),p={components:{"pagination-box":c.default,"exportexcel-box":u.default},mixins:[d.a],data:function(){var t;return{attrs:[],dialogFormVisible:!1,formLabelWidth:"130px",exportExcelInt:{progressShow:!1,percentage:0,loading:!1,tocancel:!1},host:this.$baseconfig.host,form:(t={id:0,name:"",mobile:"",wx_setting:{h5:{}},account:"",newpassword:""},r()(t,"newpassword",""),r()(t,"status","1"),r()(t,"role_id",-1),t),searchData:{sort:"id",name:"",account:"",mobile:""},page_loading:!1,tableData:[],pagination:{},total:0}},computed:{},created:function(){this.getList(),this.resetData({form:this.form})},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,m.requests("post",{url:"merchant/merchantList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):m.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1),console.log(this.form)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(t.wx_setting||(t.wx_setting={}),t.wx_setting.h5||(t.wx_setting.h5={appid:"",secret:"",token:""}),this.form=s()({},t),this.form.status=String(this.form.status))},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;m.requests("post",{url:"merchant/merchantEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(m.Message.success("操作成功"),t.getList(),setTimeout(function(){t.doEditCancel()},1e3)):m.Message.error(e.msg)})})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,m.requests("post",{url:"merchant/merchantEnable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),m.Message.success("操作成功")):m.Message.error(t.msg)}))},getFormatDate:function(t){return m.DataFun.getFormatDate(t,1)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},f=(a("eO1a"),a("KHd+")),g=Object(f.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"商户名称","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"账号","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.searchData.account,callback:function(e){t.$set(t.searchData,"account",e)},expression:"searchData.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系电话","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:t.searchData.mobile,callback:function(e){t.$set(t.searchData,"mobile",e)},expression:"searchData.mobile"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"账号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商户名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"微信公众号配置信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.wx_setting&&e.row.wx_setting.h5?a("div",[a("div",[t._v("Appid: "+t._s(e.row.wx_setting.h5.appid))]),t._v(" "),a("div",[t._v("Secret: "+t._s(e.row.wx_setting.h5.secret))]),t._v(" "),a("div",[t._v("Token: "+t._s(e.row.wx_setting.h5.token))])]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row))}}},[t._v("编辑")]),t._v(" "),a("el-button",{directives:[{name:"iscan",rawName:"v-iscan",value:"merchant/del",expression:'"merchant/del"'}],attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))])],1)],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑":"新增",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"商户名称","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系电话","label-width":t.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":t.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"账号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:!!t.form.id},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.newpassword,callback:function(e){t.$set(t.form,"newpassword",e)},expression:"form.newpassword"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.newpassword2,callback:function(e){t.$set(t.form,"newpassword2",e)},expression:"form.newpassword2"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"微信公众号Appid","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.wx_setting.h5.appid,callback:function(e){t.$set(t.form.wx_setting.h5,"appid",e)},expression:"form.wx_setting.h5.appid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"微信公众号Secret","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.wx_setting.h5.secret,callback:function(e){t.$set(t.form.wx_setting.h5,"secret",e)},expression:"form.wx_setting.h5.secret"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"微信公众号Token","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.wx_setting.h5.token,callback:function(e){t.$set(t.form.wx_setting.h5,"token",e)},expression:"form.wx_setting.h5.token"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("开启")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("禁用")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"7d919b4a",null);g.options.__file="merchantList.vue";e.default=g.exports},Jf9N:function(t,e,a){"use strict";a.r(e);var i={name:"ExtraCheckbox",props:{dataAll:{type:Array}},data:function(){return{isIndeterminate:!1,isCheckedAll:!1,checkeds:[]}},computed:{dataAllForKeys:function(){for(var t=this.dataAll,e=t.length,a=[],i=0;i<e;i++)a[i]=t[i].key;return a}},methods:{setCheckeds:function(t){if("all"==t)var e=this.dataAllForKeys;else e=t.split(",");this.checkeds=e,this.handleCheckeditemChange(e)},handleCheckAllChange:function(t){var e=this.dataAllForKeys;this.checkeds=t?e:[],this.isIndeterminate=!1,this.$emit("onChecked",this.checkeds,t)},handleCheckeditemChange:function(t){var e=this.dataAll.length,a=t.length;this.isCheckedAll=a===e,this.isIndeterminate=a>0&&a<e,this.$emit("onChecked",this.checkeds,this.isCheckedAll)}}},l=(a("T1jY"),a("KHd+")),o=Object(l.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.isCheckedAll,callback:function(e){t.isCheckedAll=e},expression:"isCheckedAll"}},[t._v("全部")]),t._v(" "),a("el-checkbox-group",{on:{change:t.handleCheckeditemChange},model:{value:t.checkeds,callback:function(e){t.checkeds=e},expression:"checkeds"}},t._l(t.dataAll,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.key}},[t._v(t._s(e.name))])}))],1)},[],!1,null,null,null);o.options.__file="ExtraCheckbox.vue";e.default=o.exports},JiQR:function(t,e,a){},Jvyq:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAACKCAYAAABW3IOxAAAAAXNSR0IArs4c6QAAElhJREFUeAHtnXuQHMV9x7tndvdOQkgCWZKxkITEQ5YB87AVCT9iEqgyTsXlyA42QVRcScXYzvOPkKeJLSrOy8RVxMSVBNuVqrhIxS7KJk5BKlWpQKiKX4hgwOII6CzLAk6H0Pt0e/uY6Xx+p7vT3Gl2b2e3Z2d2t7vqdzuP7l//+tvf6+75dU+PVi5kioAxZl01UDtMEG43Wu/AmOuUUYeVVqNKmVGjvX2+HAdqX6mkfqS1Pp2pwQkz1wnju+gdIACZlpTr6npU7FChETIh5uJkKvWYPkO+fUp7oyZUowWt9hWLahTyHU2mK/3YjmApYjxlzGWmSuukQ4iktwP2NZCsmFqWWh9D96hWZp+nvb2lgvompNubWn4tKHYEawGkVqJAnBWVutpmZlono2mdjFnVSlqbcTytnynSpHlaXYPeV5F3QLIDNvNIossRLAlaM3Ehk1etqitDIZGidTKMnbTayvVM8IRAZQj1dNHXF9N9blhQpBc4f2dW3WcmgCwAIPenEGdNJVDbGYhDpOmB+DaunZ+14VrpV31fjxb96dZqeRN7vs29m4WITeKkcssRbAGsEKdUq6lrQ7o6M9M6GWU2LYiW6Snd4HO+p8sFX70dQ7wWjfkW8T4IyYIW41uJNvAEKxuzUQbiSocMwqdbp+sh2ZAVdC0qgRhVur8nS75+A79b2lT9AHo+3mbatpINHMEgz/JKqH7ZmPBtJtA3J3cTtIVz+4m0PsyYfS8D9ytRsrp9RXMpd0Oye+bOUj4YOIJNVsJvQKqdgitAh8aocQbIr/P0d4pLNbmMDOPsXKk9tSYMzUrOux6wbaTg6SN0g9vI3HaLeif6v9SNQg0UwSZr5ndVGP51EmCpiJPEH4OAxwFLBskyhilyvozBzyp+L5JxWxKdjeKSl+j+Xqmgl0D66xrFs3Bd8tlJfv9mQVdTFQNDMMj1Tm3M45Ch0BSRhDeppBqtnXjXZXrnlApV1TAKxwe2hHsreEBYw/015NsYazzwdIM/KBT0ZURa6GZIaFHL0eWf5SZs/E7LKdqI2LjQbSjLaxIqd3W5ap6ma1yXiY2MowB6nLyPQbZJ7dE1Kzz6Ri2hG6zMdINZuD2OYNO7IJn4ylIJfU8wyOVN1cx/8MuAPj+BSq0PFabnFddnbNUB8r8Be8bSsKNVH0oaeXdF51Q13J03cknB8WM9TUeaNbnElI3Iv4NRM0etxGsr9HULRsv1XoAT8HJVToZozw8V9VvaqrH0Ej2G6ltoyao2s+jbFmzSmPX4IB7MG7mowIlSUa+xWYmWdP0Mev7JNl59STBAKqqa+XoWqxkWq+yCr1+iOX3DYvEyuv8R8r3bZt59SbByDV+XmV7QZxOrjnUx7tpT8FL1b3VsIwq22lAyq6PvCDZZMbfy+P/bswXMz68ew4FqtfLyU7bGlvQVwVhBeoXW5iuNi5vNHcZdhkH9cXI/LxsLssu1bwjGuGuJqZmH+M3CYdm0Bnlp49tM/Qxc6yWgWJ02aYpyyjenauHfMXF9dcrZJFZP6/UiKyG2J07YJwn6ogVjGujXINdH81YnkGuKrlFWQvTNP3JSjHueYNWquZY5xvuTFrwb8Zln3INLQjzlAxt6n2BBeBdPjaxm0CZPtYg9e5jEfleebMrClp5vuk9Vwl1CLqZf9nuePljy1YTvqxKku4iB9eUM+m0v1lu8nrR+fbioB7rlmgWp5wkmBYFEOjBmcxCqzbX6bNFkaao+4fvmh3RVRwu+Z3iau5CLl5LggrOx7B/h7xpF68AO7KOI9gXBogWKHrPmakU9UG+rB/SetWD6Fq1dQEv3Eu8QjtHCVYueWso4aT1xraxsQPcTEPmno3YM8nFfEyyuYmnt/CAwlweBujx6n0WARwqe9+OCF55kOodDbzXE20z8lpdD02LuZ42X7D3hwgwCA0ewRjVvQrOqFgar5K2PMyGQl0JqdK//xxzi6wzYA1qmFazhugTSrZiNNfsrcSHXBOebZq+53wH2z7RS+RCpWAvMFnrXLdPvG80kohscLxW8l30dln3PG+ZR/E2QcATy3dSK3kGK41qwNmqbV9nWTlWDtWeSnhnbrT6/kNclOG2U0F6SnveD2YOiY03unzUGQkewGFDcJXsIOILZw9JpikHAESwGFHfJHgKOYPawdJpiEHAEiwHFXbKHgCOYPSydphgEHMFiQHGX7CHgCGYPS6cpBgFHsBhQ3CV7CDiC2cPSaYpBwE1vxIAy4Jd+gUn+V1rA4Ani3CHr65rFdQRrhs5g3ltCsUUWC7cRQbYX/XiziK6LbIaOu7cYAnfS2t3TLJIjWDN03L1WEPg0JPtko4iOYI2QcdeTIPC3kOxDcQkcweJQcdeSIiA8ks3+blyY0BFsISLuvF0E5P3ThyGZfEZwLjiCzUHhDiwgIC/DyJ64cy++OIJZQNWpmIfARZzJtvHT31VyBJuHjTuxhIC8c/ooJJPP7bjgEEgFAfmW5UOOYKlg65TOIHCTI5jjQqoIOIKlCq9T7gjmOJAqAo5gqcLrlDuCOQ6kikBPEww/yw2+7z3FvlynU0XJKW8bgZ5bcAipZDHcLyG/gVy/+owrr16tq2fLNXO0UgtWhopPtmSxN2vb1dC/CdnErzcCxLoUSz+B/Cpy4SJWlys1M1KuhyeqdcP3svWbSe8vkqaj22zfFPqe6ukeoSMA4hPXc00wSCEVdgsirdX7kLbsZYfWE3yc9AW+fltmQ7mLjNJXoLstXdgQGxzBYmHJJ8GofGmhfgX5dWRzrOkdXOSrIIf5OsiLtHB1NgneQH6bOlA3ndQRLBbBfBGMipYNdKW1kjFWKy8exJYq6cXQqJch3GilFupqIIQ2FyfV4QgWi1j2BINUsovzrchvIjtizezyRfbb38cDw0E+sFXgeAs2LvoJZEew2ErKjmBU2gZMkleePoZMrx2KNTH7i2EtVCO0cIdo4ZaGodrKnvorF5rlCLYQkenz7hMMYt1M1tINvh9J9cluuoj2/9T4msjeybo5DOFWmFBdCeHOcwSLBbo7BINUy8n+o4gQa0usKb17cbJSV4+VCurneCy1+mTau5DMWZ4uwSDWVWQlpLoDWTaXbf8cvERR5FPJ2/qnSFZLUrfuyYdUonMnIsR6j1Vz86PsJ5jyMnID4lqtJvViDRyIJYv975yRNzXJs5dvjWO8tFrytGv9n7OXgWlg+2sdEwxivRvl0lp9ECk2yKjXL0s3+CwiXWHX/HM9DNppbL8PubdtgkGsN/INn78s+upnUbS+h8FoZroAtQe5DpEHFReaI1Dl9j8gn2Vbp9ckatsEK1eDrzHl8mEUhSj5AR+D4qOf6gp0in+r14MA9T1kK+K+QbR4bcoeYV9FdsOHA9HobRFsqm7eFwbho1FFcoxymUF+Zubzd/Ju3MaFcXJ+HmLfd5FLkH4dR1I0q+EbaLubuh+J05qYYHSNS6eqZi/OxUviFM5emyHbs0I2vqF9KRk1jT+bLsPf75P3amRThjb0Utb/ibF/RD3LEKJhSEywqUpwL//mdzXUGHNDyMaSmef4uOdhutG8ke1pTF6K9JsDOKYmrFySoYMQ67FWtCUiWLVqrgmU2UMr1tEjOsb9kJZtHLJtwgDry3FaKThx9iIydnhri/EHPZrgJV3hw0mAaJlgkMpjhcF3WIr8U0kyWCwuBu+dIdslXSLbPmwSt4O82u7C4gjsJ8pnkAepKxmjJgotE4xx12+FJvxCIu0JI1OAEcg2Rsu2EcNkibTNcBBlryDbkZbLbdOAHtN1CHs/izxAvZz9lHnCQrQENK3XOpYcj/B7fkL9bUenUPIx9lch24YOySb+GPG+C7E66trbLkxvJZTW/XPI31AHk52a3hLBJishj6JG5hczCRT0Rcj2CmRbj8GXtWiEAPUcsg0ZbjHNIEcTMkkP9VfgLdhZCYsSrFI3HwiC8GEruVlQQuH3QbaDBQ+y6ViyCVBPIdciXWtxLRQtKxXS/T2AiPddukWroSnB6BKXMfZ6Hp9XLqeCeOF2lFfFDhZ8vQ6ybQQZ8WWJ932VVZT6U5kM2B9EPgOxZCCfSmhKsMlqcJ8y6ndSydmiUgAKhor6dQqz1qLaflb1rxTuU+AmrodUQ0OC4fN6Oz6v79KK5X5Zs+/rl0u+TvwmUKrI5lP5f2HWH0MscZZ2JcQSTEiFz+tJfF6yiiDXAbAmhou6H1fL2sT9SZQJsWR6p6sh9rG9XKdb7AFyCVJFv30fTVeRziYzmYAW77tMSGcSzmnByvI6WY2BvTHnZWJRgkw1c5vDBb06QZJBiXqAgu5Gvgq5ZDoss3BOC2aq5ov4vHJPLkGMcZds/O/CWQTEqfxnyN9DLFnTlnmYRzB8Xr+Iz+vnM7eqBQM8Tx/ytHpjC1EHIcoJCnkvch/EOp2nAs91kXSJK3h7mT57+uWNPNl4ji2AWMMtUZwz/pwYA3OhTEnvR8T7fjSPpZ5rwdiH4S8wUN4Myn3Ai38Kcl2Ye0PTM1C8719B/hRivZpeNp1rnm4E8HntwOf1P7RiXucq09UAoCdxSyxPN5fcajdY9i/In4DDaG6tjBhWgFQFVko80AvkErtxSwxF7B+kw/+msHdBrKZLlPMGiDdVV3dBrqvzZlicPbgljjD3OGgEE1/WByDWjb1GLqlDjy3+buR1oCNxFZqna4Brhnw9SJPYsrLhE8jVlP1beaqLJLboseM1tizV1VLB+9+SH0762mM1Qv6eJFkxcYzu8YIkhevRuOJm+DzyOYiVK5dDO3ieIVgkJYUKqcxn8JAfw890GWTbELmdySE2VRjY93vXKB73f0RkAG99XVYmFUem5xBsoSG4BEaGCvpQ0ffWsy4MwnU/FAteGTuWdD/nruX4CDn9PsR6vms5dimjRQkWtcMvePuHff0TXqRdw5uOsrAv9eBpfQqnar+uTH0KAOXJ8PHUgcwog0QEi9rIVM3YkqLH8mVzASR4S1pujqGiZ+iq+81p/2OwvBv5Z8glvq2+DW0TLIqI53tHadle4KWMpZDhKvGtRe+3e8za+xOlQl9NaB8Diz9H7odYlXZx6aV0VggWLTBPoRNF34yUitBOs0Fum98MogJCxn40jlHtPXssKxu+iMjUjpBsYIJ1gkWRgx7VkqefZ1lNnXHbVsjW8jIgnmQncUssjerrwWPp/r6OyF4O+3vQ/o5NTpVgUeukRYIwI7gbJmnZ5FtBDddyEXeKeMPR9D14LFM7v0dZnuxB262Z3DWCLbQYx+5LeOaPez6bnxgzz0PPvYApody/bLKwTDPnMrXzhxCrZ73vDcrV1uXMCBa1tljQB0u+GmfItR7CLWPs1XJXGtWT8bE4R+9BvgS5Ml2mnDEO87LPBcGiFp0/7KvzhnpqZD87tXMvxJqIlsUd53AzEGYLqJeeIFhfTu3Y/qew4q+ybVQP6OvbqR3b2DuCJUNUpnbkyfCxZMkGN3bul0jnpGoOYMcdyDZHrmQ14lqw5njJPlkytfMFiDUQUzvN4Uh+1xEsHrPZqR3ZMyuXr4PFm52/q45g8+tk4Kd25sPR+Zkj2FkMn+BQ1mYN9NTOWTjsHDmCKfUCUP4BxHJTO3Y4NU/LID9FjoPEJ5GrHLnmccLqySC2YG5qxyqFmisrsBp5gumZQdghcHZq59O0WGPNYXF3bSHgrV3hrwXwXcgjSNtfdLBlUEp6HkXvNZTvY4gjV0ogx6mdN6t88qRZVQ7DDxsd7mLC+R0sCpx3P06B7WvLhj3W61gbGrqpHdsVlFBfQwIdK5uNlUp4u1Lh7TiHrkqot+3olggmUzufQvr+rZ22ge5SwoYEi+Y/PmHequr1XaHSt6X9pneHBHNTO9GKy8FxSwSbtVO6zMMT6t2hCW7nC6O3stTZ+iZwbRLMTe3MVlLOfhMRLGo7ZCuOnwpuYX3gLsj2flo2K28AJSTY7NSO7AH/o6h97jgfCLRNsKj5r/FNI3My2MnHb3ah8GbI1/YLGwkIJlM7sjbr+1Fb3HG+ELBCsGiRDp0ya1QYfmT64cCoHdF7rRy3QDA3tdMKkDmJY51g0XKNHzebcXnwFIrbw6g3R+81Om5CMJna2Y18mVar3ii9u54vBFIlWLSoh0+b6+u1+u3MHNzGzMG66L3ocQzB5PuPn0dkQzb31k4UrB447hrBZrFgfOYdmqi/RwcaZ676EGRbOXtPfiMEc1M7UWDccXIEINvQ+Mn6zrHj9YfGTtTLsp3nqamAy+YR5MrkGl0Kh0ADBI4Ys/zUVPj4sdPBPQ2iuMsOAYeAQ2A+Av8Pby5Qwk3kUm8AAAAASUVORK5CYII="},K2vu:function(t,e,a){},KAGF:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=(a("Zd91"),a("kxxL")),c=a("I0Yi"),u=a("lTwH"),d=a("ygAv"),m={components:{"img-upload":n.default,"estates-new":c.default,"live-room":u.default},mixins:[r.a],data:function(){return{activeTabs:"",activeTabsName:"",dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{},searchData:{module:""},tableData:[],formData:{module:"",forname:"",forid:"",doforid:"",forsort:0},id:"",moduleList:[],subject_type:"",innerVisible:{},listData:{}}},watch:{activeTabs:function(t){var e=this;this.$nextTick(function(){e.activeTabsName=e.moduleList[t],e.listData[t]?e.setDataArr({tableData:e.listData[t]}):e.setDataArr({tableData:[]})})}},created:function(){var t=this;t.setDataArr({subject_type:t.$urlData.subject_type,id:t.$urlData.id,searchData:{id:t.$urlData.id,subject_type:t.$urlData.subject_type}}),t.resetData({formData:t.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData,function(){var e={};for(var a in t.moduleList)0==t.activeTabs&&(t.activeTabs=a),e[a]=!1;setTimeout(function(){t.setDataArr({innerVisible:e,tableData:t.listData[t.activeTabs]})},50)})},methods:{tabsClick:function(){},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this;d.requests("post",{url:"subject/getConfigList",data:t}).then(function(t){for(var i in console.log(t.data),a.moduleList=t.data.moduleList,t.data.list){var l=t.data.list[i],o=[];for(var s in l)l[s].module=i,o.push(l[s]);t.data.list[i]=o}a.formData.region_no=t.data.region_no,a.setDataArr({listData:t.data.list,tableData:t.data.list[a.activeTabs]}),e&&e()})},getFormatDate:d.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.module=this.formData.module?String(this.formData.module):""),console.log(this.formData),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"subject/delConfig",data:{forid:t.forid,module:t.module,id:a.id}}).then(function(t){0!=t.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:t.msg})})})},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return d.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,d.requests("post",{url:"subject/changeConfigSort",data:{forid:t.forid,module:t.module,id:a.id,forsort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSearch(),d.Message.success("操作成功")):d.Message.error(t.msg)}))},doSubmit:function(t){var e=this,a=this;a.formData.id=a.id,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,d.requests("post",{url:"subject/editConfig",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:d.openPage,changeInnerShow:function(){this.innerVisible[this.activeTabs]=!0},innerFormData:function(t){console.log(t),this.formData.forid=t.id,this.formData.forname=t.name,this.formData.module=this.activeTabs,console.log(this.formData,999999999999)},clearInner:function(){this.formData.forname="",this.formData.forid=0}}},p=(a("Dsni"),a("KHd+")),f=Object(p.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-tabs",{on:{"tab-click":t.tabsClick},model:{value:t.activeTabs,callback:function(e){t.activeTabs=e},expression:"activeTabs"}},t._l(t.moduleList,function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e,name:String(i)}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)})),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"forid",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forname",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"module",label:"模块类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(t.moduleList[e.row.module]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"forsort",width:"100",label:"序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容"},on:{change:function(a){t.sortChange({forid:e.row.forid,module:e.row.module},a)}},model:{value:e.row.forsort,callback:function(a){t.$set(e.row,"forsort",a)},expression:"scope.row.forsort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row,{doforid:e.row.forid}))}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del({forid:e.row.forid,module:e.row.module},e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"选择"+t.activeTabsName,prop:"forid","label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("span",{on:{click:t.changeInnerShow}},[a("el-input",{staticStyle:{width:"100%",display:"none"},attrs:{placeholder:"请选择"+t.activeTabsName},model:{value:t.formData.forid,callback:function(e){t.$set(t.formData,"forid",e)},expression:"formData.forid"}}),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择"+t.activeTabsName},model:{value:t.formData.forname,callback:function(e){t.$set(t.formData,"forname",e)},expression:"formData.forname"}})],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("el-button",{on:{click:t.clearInner}},[t._v("重置")])],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.forsort,callback:function(e){t.$set(t.formData,"forsort",e)},expression:"formData.forsort"}})],1),t._v(" "),a("estates-new",{attrs:{region_no:t.formData.region_no,show:t.innerVisible.estates_new},on:{"update:show":function(e){t.$set(t.innerVisible,"estates_new",e)},innerFormData:t.innerFormData}}),t._v(" "),a("live-room",{attrs:{region_no:t.formData.region_no,show:t.innerVisible.liveRoom},on:{"update:show":function(e){t.$set(t.innerVisible,"liveRoom",e)},innerFormData:t.innerFormData}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"8301ba32",null);f.options.__file="subjectConfig.vue";e.default=f.exports},KUXV:function(t,e,a){"use strict";var i=a("K2vu");a.n(i).a},KaCU:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=a("Jf9N"),c=a("Z1g7"),u=a("g5Kx"),d=a("ygAv"),m={components:{"pagination-box":n.default,"extra-checkbox":r.default,"img-upload":c.default},data:function(){var t=this;return{dialogFormVisible:!1,formLabelWidth:"123px",form:{id:"",name:"",type:2,fordo:"",icon:"/static/images/defultImg.png"},rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}],type:[{required:!0,message:"缺少作用标识"}],fordo:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(""==t.form.fordo)return i(new Error("请点选要应用的模块")),!1;i()})}}],icon:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(!t.form.icon||""==t.form.icon)return i(new Error("请上传图片")),!1;i()})}}]},check_dataAll:u.a.data,default_src:"",searchData:{name:"",type:2,fordo:""},page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,d.requests("post",{url:"extra/getExtraList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):d.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onUploadedImg:function(t){var e=t.res.info;this.form.icon=e.url},onChecked:function(t,e){this.form.fordo=e?"all":t.join(",")},getCheckedsName:function(t){var e=t.split(","),a=[];for(var i in e)a[i]=u.a.getCheckedsName(e[i]);return a.join(" / ")},resetData:function(){this.setDataArr({form:{id:"",name:"",type:2,fordo:"",icon:"/static/images/defultImg.png"}}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.dialogFormVisible=!0,l()(t).length>0&&(e.form=s()({},t),e.form.fordo&&e.$nextTick(function(){e.$refs.extra_checkbox.setCheckeds(e.form.fordo)}),e.default_src=e.getRealImgUrl(e.form.icon))},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.page_loading||(t.page_loading=!0,d.requests("post",{url:"extra/extraEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(d.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):d.Message.error(e.msg)}))})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,d.requests("post",{url:"extra/extraDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),d.Message.success("操作成功")):d.Message.error(t.msg)}))}).catch(function(){})},openPage:function(t){return d.openPage(t)}}},p=(a("KUXV"),a("KHd+")),f=Object(p.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:!0,placeholder:"模块应用范围"},model:{value:t.searchData.fordo,callback:function(e){t.$set(t.searchData,"fordo",e)},expression:"searchData.fordo"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),t._l(t.check_dataAll,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"icon图标",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.getRealImgUrl(e.row.icon)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"模块应用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("  \n          "+t._s(t.getCheckedsName(e.row.fordo))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,name:e.row.name,type:e.row.type,fordo:e.row.fordo,icon:e.row.icon})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑设施":"新增设施",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"作用标识","label-width":t.formLabelWidth,prop:"type"}},[a("el-input",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上传图片","label-width":t.formLabelWidth,prop:"icon"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"模块应用","label-width":t.formLabelWidth,prop:"fordo"}},[a("extra-checkbox",{ref:"extra_checkbox",attrs:{dataAll:t.check_dataAll},on:{onChecked:t.onChecked}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)])},[],!1,null,"bf0bc06a",null);f.options.__file="nearby.vue";e.default=f.exports},LTt7:function(t,e,a){"use strict";var i=a("qDVV");a.n(i).a},LVvq:function(t,e,a){},LzTn:function(t,e,a){"use strict";var i=a("Q2MI");a.n(i).a},MCPW:function(t,e,a){},N68V:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("kxxL"),r=(a("Zd91"),a("ygAv")),c={components:{},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",type:"",page_loading:"",searchData:{},tableData:[],formData:{place:"",desc:"",type:"0"}}},created:function(){this.resetData({formData:this.formData}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;r.requests("post",{url:"banner/getPlaceList",data:t}).then(function(t){e.tableData=t.data.list})},openPage:r.openPage,doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(t.type=String(t.type),this.formData=l()({},t)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.requests("post",{url:"banner/placeDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,r.requests("post",{url:"banner/placeEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},u=(a("Eb/7"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{attrs:{model:t.searchData}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xl:6,md:8,xs:24}},[a("el-form-item",{attrs:{label:"类型","label-width":"60px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"H5",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"place",label:"使用位置",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.type?a("span",[t._v("H5")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/banner",data:{place_id:e.row.id}})}}},[t._v("管理广告")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"所用位置标识",prop:"place","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.place,callback:function(e){t.$set(t.formData,"place",e)},expression:"formData.place"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"H5",value:"0"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"5cfe9964",null);d.options.__file="bannerPlace.vue";e.default=d.exports},NJNE:function(t,e,a){"use strict";var i=a("qpJ6");a.n(i).a},Nbl0:function(t,e,a){"use strict";var i=a("u/Y0");a.n(i).a},Npir:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=a("ygAv"),n={components:{"pagination-box":o.default},data:function(){return{searchTime:[],searchData:{goods_id:"",orderno:"",user_nickname:"",startdate:"",enddate:"",status:"all",isfirst:"all",dotype:"all"},page_loading:!1,tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,s.requests("post",{url:"order/getOrderList",data:t}).then(function(t){e.page_loading=!1,1==t.code?(console.log(t),e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})):s.Message.error(t.msg)}))},onReset:function(){this.setDataArr({searchData:{goods_id:"",orderno:"",user_nickname:"",startdate:"",enddate:"",status:"all",isfirst:"all",dotype:"all"},searchTime:[]}),this.getList()},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getFormatDate:function(t){return s.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},r=(a("bdqP"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单号","prefix-icon":"el-icon-search"},model:{value:t.searchData.orderno,callback:function(e){t.$set(t.searchData,"orderno",e)},expression:"searchData.orderno"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"购买者昵称"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入购买者昵称","prefix-icon":"el-icon-search"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"已支付",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未支付",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否开户"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.isfirst,callback:function(e){t.$set(t.searchData,"isfirst",e)},expression:"searchData.isfirst"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"开户",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"续费",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.dotype,callback:function(e){t.$set(t.searchData,"dotype",e)},expression:"searchData.dotype"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"管理",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"记账",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.onReset}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"user_nickname",label:"购买者昵称",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.user_nickname)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order_no",label:"订单号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.goods_name)),e.row.attr?a("span",[t._v(" | "+t._s(e.row.attr.attr_name))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isfirst",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.isfirst?a("span",[t._v("开户")]):2==e.row.isfirst?a("span",[t._v("续费")]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"real_price",label:"支付金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isfirst",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("已支付")]):0==e.row.status?a("span",[t._v("待支付")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"下单时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)},[],!1,null,"4822675c",null);c.options.__file="list.vue";e.default=c.exports},PBsP:function(t,e,a){},PeaI:function(t,e,a){"use strict";var i=a("MCPW");a.n(i).a},PjLl:function(t,e,a){},Q2MI:function(t,e,a){},Q9vV:function(t,e,a){},"QC+q":function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("VVsi"),r=a("ygAv"),c={components:{"select-tree":n.default},data:function(){return{btn_show_options:[{value:"1",label:"设置"},{value:"0",label:"不设置"}],status_options:[{value:"1",label:"在侧边栏显示"},{value:"0",label:"在侧边栏隐藏"}],type_options:[{value:"1",label:"有界面可访问菜单"},{value:"2",label:"无界面可访问菜单(接口)"},{value:"0",label:"只作为菜单"}],enable_options:[{value:"1",label:"启用"},{value:"0",label:"禁用"}],parent_id_options:[],form:{parent_id:"0",name:"",url:"",extra_urls:"",page:"",active_page:"",icon:"",sort:0,remark:"",type:"1",status:"1",btn_show:"0",enable:"1"},tableData:[],defaultProps:{children:"children",label:"name"},repastitle:"菜单添加"}},computed:{defaultCheckedKeys:function(){return[this.form.parent_id]}},created:function(){var t=s()(this.$urlData).length>0?this.$urlData:{};this.getList(),t.id&&this.getInfo(t.id)},methods:{getInfo:function(t){var e=this;r.requests("post",{url:"merchant/getMenuInfo",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(t.data.type=String(t.data.type),t.data.status=String(t.data.status),t.data.enable=String(t.data.enable),t.data.btn_show=String(t.data.btn_show),e.setDataArr({form:t.data,repastitle:"菜单编辑"})):r.Message.error(t.msg)})},getList:function(){var t=this;t.page_loading||(t.page_loading=!0,r.requests("post",{url:"merchant/getMenuList"}).then(function(e){if(t.page_loading=!1,1==e.code){var a=[{parent_id:0,id:0,name:"一级菜单"}].concat(e.data.list);t.setDataArr({tableData:a})}else r.Message.error(e.msg)}))},popoverHide:function(t){console.log(t),this.form.parent_id=t},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!"),!1;0==t.form.parent_id&&(t.form.btn_show=0),r.requests("post",{url:"merchant/menuEdit",data:l()({},t.form)}).then(function(t){1==t.code?(r.Message.success(t.msg),setTimeout(function(){r.openPage({url:-1})},800)):r.Message.error(t.msg)})})},cancelForm:function(){this.$refs.form.resetFields(),r.openPage({url:-1,hreftype:"navigateBack"})}}},u=(a("IQIp"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"repastitle"},[t._v(t._s(t.repastitle))]),t._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"120px",model:t.form}},[a("el-form-item",{attrs:{label:"上级",prop:"parent_id",rules:{required:!0,message:"请选择上级",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[t.tableData.length>0?a("select-tree",{staticStyle:{},attrs:{data:t.tableData,defaultProps:t.defaultProps,checkedKeys:t.defaultCheckedKeys},on:{popoverHide:t.popoverHide}}):t._e()],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"名称不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入名称","auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),0!=t.form.type?a("div",[a("el-form-item",{attrs:{label:"权限url",prop:"url",rules:{required:!0,message:"权限url不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入权限url,模块/控制器/方法?参数","auto-complete":"off"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"其他附加权限url",prop:"extra_urls"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入附加权限请求,多个以,隔开","auto-complete":"off"},model:{value:t.form.extra_urls,callback:function(e){t.$set(t.form,"extra_urls",e)},expression:"form.extra_urls"}})],1)],1),t._v(" "),t.form.parent_id>0?a("el-form-item",{attrs:{label:"上级按钮触发",rules:{required:!0,message:"权限url不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},t._l(t.btn_show_options,function(e){return a("el-radio",{key:e.value,attrs:{label:e.value},model:{value:t.form.btn_show,callback:function(e){t.$set(t.form,"btn_show",e)},expression:"form.btn_show"}},[t._v(t._s(e.label))])}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"页面路径",prop:"page"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入页面路径","auto-complete":"off"},model:{value:t.form.page,callback:function(e){t.$set(t.form,"page",e)},expression:"form.page"}})],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入图标","auto-complete":"off"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"icon"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入排序","auto-complete":"off"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入备注内容","auto-complete":"off"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.status_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),"0"==t.form.status?a("el-form-item",{attrs:{label:"菜单激活路径",prop:"active_page"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入左侧菜单hover路径","auto-complete":"off"},model:{value:t.form.active_page,callback:function(e){t.$set(t.form,"active_page",e)},expression:"form.active_page"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否启用",prop:"enable"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.enable,callback:function(e){t.$set(t.form,"enable",e)},expression:"form.enable"}},t._l(t.enable_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelForm}},[t._v("返 回")])],1)],1)],1)},[],!1,null,"51e1ea9c",null);d.options.__file="menuEdit.vue";e.default=d.exports},QCEY:function(t,e,a){"use strict";var i=a("80C+");a.n(i).a},QCJo:function(t,e,a){"use strict";var i=a("hBjY");a.n(i).a},"QIk/":function(t,e,a){},QUP5:function(t,e,a){"use strict";a.r(e);var i=a("ZY9c"),l={components:{VueQr:a.n(i).a},name:"QCode",props:{id_name:{type:String,default:""},value:{type:String,default:""},logoScale:{type:Number,default:.25},logoSrc:{type:String,default:""},bgSrc:{type:String,default:""},width:{type:Number,default:132},need_big:{type:Boolean,default:!1},big_width:{type:Number,default:600}},data:function(){return{margin:8,correctLevel:3,dotScale:.8,logoMargin:3,logoBackgroundColor:"#fff"}},watch:{},computed:{id_name_big:function(){return this.id_name+"_big"}},mounted:function(){},methods:{qrcodeImgClick:function(t){if(this.$refs[this.id_name_big]){var e=this.$refs[this.id_name_big].$el;this.$emit("onQrcodeImgClick",{bigImgSrc:e.currentSrc})}}}},o=(a("Nbl0"),a("KHd+")),s=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qcode-box",on:{click:t.qrcodeImgClick}},[t._t("header"),t._v(" "),a("div",{staticClass:"qcode-item",attrs:{id:t.id_name}},[a("vue-qr",{attrs:{margin:t.margin,correctLevel:t.correctLevel,bgSrc:t.bgSrc,logoSrc:t.logoSrc,text:t.value,logoScale:t.logoScale,logoMargin:t.logoMargin,logoBackgroundColor:t.logoBackgroundColor,size:t.width,dotScale:t.dotScale}})],1),t._v(" "),t._t("footer"),t._v(" "),t.need_big?a("div",{staticClass:"qcode-bigitem",staticStyle:{display:"none"},attrs:{id:t.id_name_big}},[a("vue-qr",{ref:t.id_name_big,attrs:{margin:t.margin,correctLevel:t.correctLevel,bgSrc:t.bgSrc,logoSrc:t.logoSrc,text:t.value,logoScale:t.logoScale,logoMargin:t.logoMargin,logoBackgroundColor:t.logoBackgroundColor,size:t.big_width,dotScale:t.dotScale}})],1):t._e()],2)},[],!1,null,"eea09d1a",null);s.options.__file="QCodeForLogo.vue";e.default=s.exports},QlFP:function(t,e,a){},Qpc0:function(t,e,a){"use strict";var i=a("leil");a.n(i).a},RqI6:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{user_nickname:"",editscore:""},searchData:{sort:"id",user_nickname:""},page_loading:!1,tableData:[],pagination:{},caneditSource:!1,total:0}},created:function(){this.getList()},methods:{showEditSource:function(){this.caneditSource=!this.caneditSource,!1===this.caneditSource&&(this.form.editscore="")},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,r.requests("post",{url:"team/getTeamInfo",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):r.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t),this.form.avatar=this.$getRealImgUrl(this.form.avatar))},getFormatDate:function(t){return r.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("3DEm"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.sort,callback:function(e){t.$set(t.searchData,"sort",e)},expression:"searchData.sort"}},[a("el-option",{attrs:{label:"ID",value:"id"}}),t._v(" "),a("el-option",{attrs:{label:"注册时间",value:"create_time"}}),t._v(" "),a("el-option",{attrs:{label:"积分",value:"score"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"归属用户",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"team_name",label:"团队名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"join_user_count",label:"成员数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.member_total.member_count)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row))}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1)],1)},[],!1,null,"abb424d6",null);d.options.__file="teamInfo.vue";e.default=d.exports},Rr1V:function(t,e,a){"use strict";var i=a("njJi");a.n(i).a},"S/Qt":function(t,e,a){},SgHr:function(t,e,a){"use strict";var i=a("LVvq");a.n(i).a},"Ss/C":function(t,e,a){"use strict";a.r(e);var i=a("Z1g7"),l=a("z11e"),o=a("q/hb"),s=a("Xf8r"),n=a("kxxL"),r=(a("ygAv"),{components:{"img-upload":i.default,"estates-edit":l.default,"estates-building":o.default,"buildingpricelog-list":s.default},mixins:[n.a],data:function(){return{activeName:"first",url_id:0}},created:function(){this.$urlData&&this.$urlData.id?this.url_id=this.$urlData.id:this.url_id=0},methods:{handleClick:function(t,e){console.log(t,e)}}}),c=(a("ngqX"),a("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"楼盘信息",name:"first"}},[a("estates-edit")],1),t._v(" "),t.url_id>0?a("el-tab-pane",{attrs:{label:"楼栋管理",name:"second"}},[a("estates-building")],1):t._e(),t._v(" "),t.url_id>0?a("el-tab-pane",{attrs:{label:"历史价格变化列表",name:"third"}},[a("buildingpricelog-list")],1):t._e()],1)],1)},[],!1,null,"84a5f7a8",null);u.options.__file="estatesnew_edit.vue";e.default=u.exports},Syvo:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=a("ygAv"),c={components:{"pagination-box":n.default},data:function(){return{siteCitys:{},dialogFormVisible:!1,formLabelWidth:"123px",form_type:"",form:{account:"",mobile:"",email:"",newpassword:"",newpassword2:"",role_id:"",status:"",region_nos_info:{},region_nos_info2:[]},rules:{},searchData:{account:""},page_loading:!1,tableData:[],pagination:{},roleList:[{id:-1,name:"超级管理员"}]}},watch:{form_type:function(t){var e=this;this.rules="add"==t?{account:[{required:!0,message:"请输入账号",trigger:"change"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"change"},{validator:function(t,a,i){(a=r.trim(a)).length<6?i(new Error("请输入至少6位密码")):(""!==e.form.newpassword2&&e.$refs.form.validateField("newpassword2"),i())},trigger:"change"}],newpassword2:[{required:!0,message:"请再次输入新密码",trigger:"change"},{validator:function(t,a,i){""===(a=r.trim(a))?i(new Error("请再次输入密码")):a!==e.form.newpassword?i(new Error("两次输入的新密码不一致")):i()},trigger:"change"}]}:{}}},created:function(){this.getList(),this.getRoleList(),this.getSiteCitys()},methods:{getSiteCitys:function(){var t=this;r.requests("post",{url:"city/siteCitys",data:{status:1}}).then(function(e){var a={};for(var i in e.data){var l=e.data[i];a[l.id]=l}t.siteCitys=a})},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,r.requests("post",{url:"account/index",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):r.Message.error(t.msg)}))},getRoleList:function(){var t=this;r.requests("post",{url:"role/index"}).then(function(e){1==e.code?t.setDataArr({roleList:e.data.list}):r.Message.error(e.msg)})},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},onSerch:function(){this.getList(this.searchData)},resetData:function(){this.setDataArr({form:{account:"",mobile:"",email:"",newpassword:"",newpassword2:"",role_id:"",status:"",region_nos_info:{},region_nos_info2:[]}})},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.dialogFormVisible=!0,this.form_type=t,l()(e).length>0&&(e.region_nos_info2=[],this.form=s()({},e),this.form.role_id=Number(this.form.role_id),this.form.status=String(this.form.status),this.form.region_nos_info))for(var a in this.form.region_nos_info=JSON.parse(this.form.region_nos_info),this.form.region_nos_info)this.form.region_nos_info2[a]=Number(this.form.region_nos_info[a].id)},doEditSubmit:function(){var t=this;for(var e in t.form.region_nos_info={},t.form.region_nos_info2){var a=t.siteCitys[t.form.region_nos_info2[e]];t.form.region_nos_info[e]={id:a.id,cname:a.cname,pid:a.pid,pcname:a.pcname}}t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;r.requests("post",{url:"account/edit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(r.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):r.Message.error(e.msg)})})},doDel:function(t){var e=this;1==t||e.page_loading||e.$confirm("该操作将永久删除记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading=!0,r.requests("post",{url:"account/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),r.Message.success("操作成功")):r.Message.error(t.msg)})}).catch(function(){})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,r.requests("post",{url:"account/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),r.Message.success("操作成功")):r.Message.error(t.msg)}))},getFormatDate:r.DataFun.getFormatDate}},u=(a("ruyp"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{attrs:{model:t.searchData}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xl:6,md:8,xs:24}},[a("el-form-item",{attrs:{label:"账号","label-width":"60px"}},[a("el-input",{model:{value:t.searchData.account,callback:function(e){t.$set(t.searchData,"account",e)},expression:"searchData.account"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit("add")}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"账号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"role_name",label:"用户角色",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:1==e.row.id},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"last_login_ip",label:"最后登录IP",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"最后登录时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getFormatDate(e.row.last_login_time,2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit("edit",{id:e.row.id,mobile:e.row.mobile,email:e.row.email,role_id:e.row.role_id,status:e.row.status,region_nos_info:e.row.region_nos_info})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",disabled:1==e.row.id},on:{click:function(a){1!=e.row.id&&t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:"add"==t.form_type?"新增用户":"编辑用户",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},["add"==t.form_type?a("el-form-item",{attrs:{label:"账号","label-width":t.formLabelWidth,prop:"account"}},[a("el-input",{model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":t.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":t.formLabelWidth,prop:"email"}},[a("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth,prop:"newpassword"}},[a("el-input",{model:{value:t.form.newpassword,callback:function(e){t.$set(t.form,"newpassword",e)},expression:"form.newpassword"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码","label-width":t.formLabelWidth,prop:"newpassword2"}},[a("el-input",{model:{value:t.form.newpassword2,callback:function(e){t.$set(t.form,"newpassword2",e)},expression:"form.newpassword2"}})],1),t._v(" "),1!=t.form.id?a("el-form-item",{staticClass:"city-box",attrs:{label:"区域","label-width":t.formLabelWidth}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.form.region_nos_info2,callback:function(e){t.$set(t.form,"region_nos_info2",e)},expression:"form.region_nos_info2"}},t._l(t.siteCitys,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:t.id}})}))],1):t._e(),t._v(" "),1!=t.form.id?a("el-form-item",{attrs:{label:"勾选角色","label-width":t.formLabelWidth}},[a("div",t._l(t.roleList,function(e){return a("el-radio",{key:e.id,attrs:{label:e.id,border:""},model:{value:t.form.role_id,callback:function(e){t.$set(t.form,"role_id",e)},expression:"form.role_id"}},[t._v(t._s(e.name))])}))]):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"0ca51445",null);d.options.__file="list.vue";e.default=d.exports},T1jY:function(t,e,a){"use strict";var i=a("qU0o");a.n(i).a},UDlm:function(t,e,a){"use strict";var i=a("8sCe");a.n(i).a},UHXm:function(t,e,a){"use strict";var i=a("1i64");a.n(i).a},"UO+N":function(t,e,a){},Uz2U:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("IbCV"),r=a("kxxL"),c=a("ygAv"),u={components:{"auth-tree":n.default},mixins:[r.a],data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{id:0,name:"",remark:"",status:0},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"change"}]},tableData:[],roleMenusPageShow:!1,menu_roleinfo:{},tree_defultcheckedkeys:[],roleMenus:[],menuList:[]}},created:function(){this.resetData({form:this.form}),this.getList(),this.getMenuList()},methods:{getList:function(){var t=this;t.page_loading||(t.page_loading=!0,c.requests("post",{url:"role/index"}).then(function(e){if(t.page_loading=!1,1==e.code){t.setDataArr({tableData:[{id:-1,name:"超级管理员",remark:"超级管理员",status:1}].concat(e.data.list)})}else c.Message.error(e.msg)}))},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dialogFormVisible=!0,this.form_type=t,s()(e).length>0&&(this.form=l()({},e)),this.form.status=String(this.form.status)},doEditSubmit:function(){var t=this;-1!=t.form.id&&t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;c.requests("post",{url:"role/edit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(c.Message.success("操作成功"),t.getList(),setTimeout(function(){t.doEditCancel()},1e3)):c.Message.error(e.msg)})})},doDel:function(t){if(-1!=t){var e=this;e.page_loading||e.$confirm("该操作将永久删除记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading=!0,c.requests("post",{url:"role/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),c.Message.success("操作成功")):c.Message.error(t.msg)})}).catch(function(){})}},switchChange:function(t,e){if(-1!=t){var a=this;a.page_loading||(a.page_loading=!0,c.requests("post",{url:"role/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),c.Message.success("操作成功")):c.Message.error(t.msg)}))}},doMenuSubmit:function(t){var e=this;-1!=t.role_id&&(e.page_loading||(e.page_loading=!0,c.requests("post",{url:"role/editRoleMenus",data:{id:t.role_id,mymenu_ids:t.checked_keys}}).then(function(t){e.page_loading=!1,1==t.code?(e.list&&(e.list[id].status=val,e.setDataArr({tableData:e.list})),c.Message.success("操作成功")):c.Message.error(t.msg)})))},openRoleMenus:function(t){this.menu_roleinfo={id:t.id,name:t.name},this.getRoleMenusId(t.id)},closeroleMenus:function(){this.roleMenusPageShow=!1},getRoleMenusId:function(t){var e=this;e.page_loading||(e.page_loading=!0,c.requests("post",{url:"role/getRoleMenusId",data:{role_id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.setDataArr({roleMenus:t.data.list}),e.roleMenusPageShow=!0):c.Message.error(t.msg)}))},getMenuList:function(){var t=this;c.requests("post",{url:"menu/index"}).then(function(e){1==e.code?t.setDataArr({menuList:e.data.list}):c.Message.error(e.msg)})}}},d=(a("aE4a"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit("add")}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(-1==e.row.id?0:e.row.id)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"角色名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"角色描述",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{disabled:-1==e.row.id,"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{disabled:-1==e.row.id,type:"primary",size:"mini"},on:{click:function(a){t.openRoleMenus({id:e.row.id,name:e.row.name})}}},[t._v("设置权限")]),t._v(" "),a("el-button",{attrs:{disabled:-1==e.row.id,type:"primary",size:"mini"},on:{click:function(a){t.doEdit("edit",{id:e.row.id,name:e.row.name,remark:e.row.remark,status:e.row.status})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{disabled:-1==e.row.id,type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:"add"==t.form_type?"新增角色":"编辑角色",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"角色名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("开启")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("禁用")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e(),t._v(" "),t.menuList.length>0&&t.roleMenusPageShow?a("auth-tree",{ref:"authtree",attrs:{roleinfo:t.menu_roleinfo,data:t.menuList,pageShow:t.roleMenusPageShow,default_checkedKeys:t.roleMenus},on:{onClose:t.closeroleMenus,onSubmit:t.doMenuSubmit}}):t._e()],1)},[],!1,null,"754c9f24",null);m.options.__file="role.vue";e.default=m.exports},VAVW:function(t,e,a){"use strict";var i=a("okyx");a.n(i).a},VRBp:function(t,e,a){"use strict";var i=a("bKOT");a.n(i).a},VVsi:function(t,e,a){"use strict";a.r(e);var i={name:"select-tree",props:{data:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:function(){return!1}},clearable:{type:Boolean,default:function(){return!1}},collapseTags:{type:Boolean,default:function(){return!1}},nodeKey:{type:String,default:function(){return"id"}},checkStrictly:{type:Boolean,default:function(){return!1}},checkedKeys:{type:Array,default:function(){return[]}},size:{type:String,default:function(){return""}},height:{type:Number,default:function(){return 300}},selectStyle:{type:Object,default:function(){return{width:"100%"}}},treeStyle:{type:Object,default:function(){return{}}}},data:function(){return{isShowSelect:!1,options:[],selectedData:[],checkedIds:[],checkedData:[],popover_width:""}},mounted:function(){var t=this;t.$nextTick(function(){t.popover_width=t.$refs.select&&t.$refs.select.inputWidth?t.$refs.select.inputWidth:150,t.initCheckedData()})},methods:{setSelectOption:function(t){var e={};t&&(e.value=t.key,e.label=t.label,this.options=[],this.options.push(e),this.selectedData=t.key)},checkSelectedNode:function(t){var e=t[0];this.$refs.tree.setCurrentKey(e);var a=this.$refs.tree.getNode(e);this.setSelectOption(a)},checkSelectedNodes:function(t){this.$refs.tree.setCheckedKeys(t)},clearSelectedNode:function(){this.selectedData="",this.$refs.tree.setCurrentKey(null)},clearSelectedNodes:function(){for(var t=this.$refs.tree.getCheckedKeys(),e=0;e<t.length;e++)this.$refs.tree.setChecked(t[e],!1)},initCheckedData:function(){this.multiple?this.checkedKeys.length>0?this.checkSelectedNodes(this.checkedKeys):this.clearSelectedNodes():this.checkedKeys.length>0?this.checkSelectedNode(this.checkedKeys):this.clearSelectedNode()},popoverHide:function(){this.multiple?(this.checkedIds=this.$refs.tree.getCheckedKeys(),this.checkedData=this.$refs.tree.getCheckedNodes()):(this.checkedIds=this.$refs.tree.getCurrentKey(),this.checkedData=this.$refs.tree.getCurrentNode()),this.$emit("popoverHide",this.checkedIds,this.checkedData)},handleNodeClick:function(t,e){this.multiple||(this.setSelectOption(e),this.isShowSelect=!this.isShowSelect,this.$emit("change",this.selectedData))},handleCheckChange:function(){var t=this,e=this.$refs.tree.getCheckedKeys();this.options=e.map(function(e){var a=t.$refs.tree.getNode(e),i={};return i.value=a.key,i.label=a.label,i}),this.selectedData=this.options.map(function(t){return t.value}),this.$emit("change",this.selectedData)},removeSelectedNodes:function(t){var e=this;this.$refs.tree.setChecked(t,!1);var a=this.$refs.tree.getNode(t);!this.checkStrictly&&a.childNodes.length>0&&(this.treeToList(a).map(function(t){t.childNodes.length<=0&&e.$refs.tree.setChecked(t,!1)}),this.handleCheckChange()),this.$emit("change",this.selectedData)},treeToList:function(t){var e=[],a=[];for(e=e.concat(t);e.length;){var i=e.shift();i.childNodes&&(e=e.concat(i.childNodes)),a.push(i)}return a},removeSelectedNode:function(){this.clearSelectedNode(),this.$emit("change",this.selectedData)},changeSelectedNodes:function(t){this.multiple&&t.length<=0&&this.clearSelectedNodes(),this.$emit("change",this.selectedData)}},watch:{isShowSelect:function(t){this.$refs.select.blur()},checkedKeys:function(t){t&&(this.checkedKeys=t,this.initCheckedData())}}},l=(a("kbWQ"),a("KHd+")),o=Object(l.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSelect,expression:"isShowSelect"}],staticClass:"mask",on:{click:function(e){t.isShowSelect=!t.isShowSelect}}}),t._v(" "),a("el-popover",{attrs:{placement:"bottom-start",width:t.popover_width,trigger:"manual"},on:{hide:t.popoverHide},model:{value:t.isShowSelect,callback:function(e){t.isShowSelect=e},expression:"isShowSelect"}},[a("el-tree",{ref:"tree",staticClass:"common-tree",style:t.treeStyle,attrs:{data:t.data,props:t.defaultProps,"show-checkbox":t.multiple,"node-key":t.nodeKey,"check-strictly":t.checkStrictly,"default-expand-all":"","expand-on-click-node":!1,"check-on-click-node":t.multiple,"highlight-current":!0},on:{"node-click":t.handleNodeClick,"check-change":t.handleCheckChange}}),t._v(" "),a("el-select",{ref:"select",staticClass:"tree-select",style:t.selectStyle,attrs:{slot:"reference",size:t.size,multiple:t.multiple,clearable:t.clearable,"collapse-tags":t.collapseTags},on:{"remove-tag":t.removeSelectedNodes,clear:t.removeSelectedNode,change:t.changeSelectedNodes},nativeOn:{click:function(e){t.isShowSelect=!t.isShowSelect}},slot:"reference",model:{value:t.selectedData,callback:function(e){t.selectedData=e},expression:"selectedData"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)},[],!1,null,"e078b5e2",null);o.options.__file="SelectTree.vue";e.default=o.exports},WCvx:function(t,e,a){"use strict";var i=a("8Vtz");a.n(i).a},WX1K:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=a("ygAv"),n={components:{"pagination-box":o.default},data:function(){return{searchData:{name:"",status:"-1"},page_loading:!1,tableData:[],pagination:{}}},created:function(){console.log(this.$pageShowBtns),this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,s.requests("post",{url:"mall/getGoodsList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):s.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,s.requests("post",{url:"mall/goodsDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),s.Message.success("操作成功")):s.Message.error(t.msg)}))}).catch(function(){})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,s.requests("post",{url:"mall/goodsEnable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),s.Message.success("操作成功")):s.Message.error(t.msg)}))},openPage:s.openPage}},r=(a("QCJo"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入商品名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"封面图",width:"85",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"62px",height:"62px"},attrs:{src:t.getRealImgUrl(e.row.cover)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",width:"180",label:"商品名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格/佣金",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("价格："+t._s(e.row.price))]),t._v(" "),a("div",[t._v("佣金："+t._s(e.row.commission))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"规格设置",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.attr,function(e,i){return a("div",{key:i},[t._v("名称："+t._s(e.attr_name)+" | 价格："+t._s(e.attr_price)+" | 佣金："+t._s(e.attr_commission))])})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"iscan",rawName:"v-iscan",value:"mall/goodsEdit",expression:'"mall/goodsEdit"'}],attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/mall/goodsEdit",data:{id:e.row.id}})}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"2b0c6928",null);c.options.__file="goodsList.vue";e.default=c.exports},WmLb:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{user_nickname:"",editscore:""},searchData:{sort:"id",user_nickname:""},page_loading:!1,tableData:[],pagination:{},caneditSource:!1,total:0}},created:function(){this.getList()},methods:{showEditSource:function(){this.caneditSource=!this.caneditSource,!1===this.caneditSource&&(this.form.editscore="")},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,r.requests("post",{url:"team/getTeamList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):r.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t),this.form.avatar=this.$getRealImgUrl(this.form.avatar))},getFormatDate:function(t){return r.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},openPage:r.openPage}},u=(a("QCEY"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.sort,callback:function(e){t.$set(t.searchData,"sort",e)},expression:"searchData.sort"}},[a("el-option",{attrs:{label:"ID",value:"id"}}),t._v(" "),a("el-option",{attrs:{label:"注册时间",value:"create_time"}}),t._v(" "),a("el-option",{attrs:{label:"积分",value:"score"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"归属用户",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"team_name",label:"团队名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"join_user_count",label:"成员数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.member_total.member_count)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/user/teamInfo",data:{team_id:e.row.id,user_id:e.row.user_id}})}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1)],1)},[],!1,null,"2f8e7181",null);d.options.__file="teamList.vue";e.default=d.exports},XKBR:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=(a("Zd91"),a("kxxL")),r=a("ygAv"),c={components:{},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",searchData:{status:"-1",is_custom:"-1",pid:""},tableData:[],formData:{status:"0",cname:"",id:"",pid:""}}},created:function(){this.pid=this.$urlData.pid,this.searchData.pid=this.pid,this.resetData({formData:this.formData}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;r.requests("post",{url:"city/siteAreas",data:t}).then(function(t){e.tableData=t.data})},openPage:r.openPage,doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0?(t.status=String(t.status),t.is_hot=String(t.is_hot),this.formData=l()({},t),this.formData.dotype="edit"):this.formData.dotype="add",this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.requests("post",{url:"city/siteAreasDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.pid=a.pid,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,r.requests("post",{url:"city/siteAreasEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},u=(a("NJNE"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"区域定义"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.is_custom,callback:function(e){t.$set(t.searchData,"is_custom",e)},expression:"searchData.is_custom"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"自定义",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"默认",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"区名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_custom",label:"区域定义",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_custom?a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("自定义")]):a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("默认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_custom?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),1==e.row.is_custom?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{staticClass:"city-box",attrs:{label:"区名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.cname,callback:function(e){t.$set(t.formData,"cname",e)},expression:"formData.cname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"ID编码","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"8c0decc4",null);d.options.__file="areaList.vue";e.default=d.exports},Xcdu:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{},searchData:{sort:"id",customer_name:"",customer_mobile:""},page_loading:!1,tableData:[],pagination:{},total:0}},created:function(){this.getList()},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,r.requests("post",{url:"user/getCustomerList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):r.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t))},getFormatDate:function(t){return r.DataFun.getFormatDate(t,1)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("Rr1V"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.sort,callback:function(e){t.$set(t.searchData,"sort",e)},expression:"searchData.sort"}},[a("el-option",{attrs:{label:"ID",value:"id"}}),t._v(" "),a("el-option",{attrs:{label:"最近消费时间",value:"last_custtime"}}),t._v(" "),a("el-option",{attrs:{label:"消费总金额",value:"total_custmoney"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"客户名字","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入客户名字"},model:{value:t.searchData.customer_name,callback:function(e){t.$set(t.searchData,"customer_name",e)},expression:"searchData.customer_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户手机号","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入客户手机号"},model:{value:t.searchData.customer_mobile,callback:function(e){t.$set(t.searchData,"customer_mobile",e)},expression:"searchData.customer_mobile"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_name",label:"客户名字",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_mobile",label:"客户手机号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_nickname",label:"归属人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"最近消费时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.last_custtime))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"消费总金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.total_custmoney)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit(Object.assign({},e.row))}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1),t._v(" "),a("el-dialog",{staticClass:"user-dialog",attrs:{title:"用户信息",visible:t.dialogFormVisible,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{lg:17,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"归属人员","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.user_nickname))])]),t._v(" "),a("el-form-item",{attrs:{label:"客户名字","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.customer_name))])]),t._v(" "),a("el-form-item",{attrs:{label:"客户手机号","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.customer_mobile))])]),t._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(1==t.form.sex?"男":"女"))])]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.getFormatDate(t.form.create_time)))])]),t._v(" "),a("el-form-item",{attrs:{label:"最近消费","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.getFormatDate(t.form.last_custtime)))])]),t._v(" "),a("el-form-item",{attrs:{label:"消费次数","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.total_custnum))])]),t._v(" "),a("el-form-item",{attrs:{label:"消费总额","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.total_custmoney))])])],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.form.customer_name))]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:12,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"客户习惯","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.habit))])]),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.remark))])])],1)],1)],1)],1)],1)},[],!1,null,"7a2c44eb",null);d.options.__file="customerList.vue";e.default=d.exports},Xf8r:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=(a("Zd91"),a("Bi68")),r=a("kxxL"),c=a("ygAv"),u={components:{"pagination-box":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:!1,searchData:{status:"-1",is_hot:"-1",id:""},tableData:[],value3:"",formData:{city_code_id:"",change_time:"",new_price:""},pagination:{},total:0}},watch:{},created:function(){this.resetData({formData:this.formData}),console.log(this.$urlData.id),this.searchData.id=this.$urlData.id,this.getList(this.searchData),this.getSysCitys(0,"provinces")},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("get",{url:"buildingPriceLog/list",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):c.Message.error(t.msg)})},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getSysCitys:function(t,e){var a=this;c.requests("post",{url:"city/sysCitys",data:{pid:t}}).then(function(t){if(1==t.code){a[e]=[{id:0,cname:"不限制"}].concat(t.data),console.log(a[e])}else c.Message.error(t.msg)})},openPage:c.openPage,doEdit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(l()(e).length>0){e.status=String(e.status),e.is_hot=String(e.is_hot),this.formData=s()({},e),this.formData.dotype="edit",this.provinceData=e.pid+"-"+e.pcname;var a=setInterval(function(){t.cityData?clearInterval(a):"edit"==t.formData.dotype?t.cityData=e.id+"-"+e.cname:t.cityData=""},800)}else this.formData.dotype="add";this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"city/siteCitysDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"buildingPriceLog/cityPriceLogEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("J+o7"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}}),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"change_time",label:"更新时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"new_price",label:"变动价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 价格")],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"价格变动时间","label-width":"110px"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:t.formData.change_time,callback:function(e){t.$set(t.formData,"change_time",e)},expression:"formData.change_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"变动价格","label-width":"110px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.new_price,callback:function(e){t.$set(t.formData,"new_price",e)},expression:"formData.new_price"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"ad80a03e",null);m.options.__file="buildingpricelog.vue";e.default=m.exports},Y325:function(t,e,a){"use strict";a.r(e);var i=a("rfXi"),l=a.n(i),o=a("jWXv"),s=a.n(o),n=a("Z1g7"),r=a("glbJ"),c=a("ygAv"),u=function(t,e,a){if("NaN"==parseFloat(e).toString())return a(new Error("排序必须是数字")),!1;a()},d={components:{Tinymce:r.default,"img-upload":n.default},data:function(){return{formData:{id:"",name:"",type:"0",cover:"",price:0,commission:0,commission_type:"0",sort:0,content:"",attr:[],status:"0"},rules:{name:[{required:!0,message:"请输入商品名称"}],sort:[{trigger:"blur",validator:u,message:"请输入数字"}],cover:[{required:!0,message:"请上传图片"}],content:[{required:!0,message:"请输入详情"}],price:[{required:!0,trigger:"blur",validator:u,message:"请输入数字"}],commission:[{required:!0,trigger:"blur",validator:u,message:"请输入数字"}]},default_src1:"",page_loading:!1}},computed:{inputDisabled:function(){var t=this.formData.attr.length>0;return 1==t?(this.rules.price=[{trigger:"blur",validator:u,message:"请输入数字"}],this.rules.commission=[{trigger:"blur",validator:u,message:"请输入数字"}]):(this.rules.price=[{required:!0,trigger:"blur",validator:u,message:"请输入数字"}],this.rules.commission=[{required:!0,trigger:"blur",validator:u,message:"请输入数字"}]),t}},created:function(){if(this.$urlData&&this.$urlData.id){if(!this.doMissId(this.$urlData.id))return;this.formData.id=this.$urlData.id,this.getInfo(this.formData.id)}else this.resetForm("formData")},methods:{addAttr:function(){return"NaN"==parseFloat(this.formData.price).toString()?(c.Message.error("价格请输入数字"),!1):"NaN"==parseFloat(this.formData.commission).toString()?(c.Message.error("佣金请输入数字"),!1):void this.formData.attr.push({attr_name:"",attr_commission:0,attr_commission_type:"0",attr_price:0})},removeAttr:function(t){this.formData.attr.splice(t,1)},getInfo:function(t){var e=this;e.page_loading||(e.page_loading=!0,c.requests("post",{url:"mall/getGoodsInfo",data:{id:t}}).then(function(t){if(e.page_loading=!1,1==t.code){var a=t.data;for(var i in a.attr||(a.attr=[]),a.attr)a.attr[i].attr_commission_type=String(a.attr[i].attr_commission_type);a.status=String(a.status),a.type=String(a.type),a.commission_type=String(a.commission_type),e.setDataArr({formData:a,default_src1:e.$getRealImgUrl(a.cover)})}else c.Message.error(t.msg)}))},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields&&this.$refs[t].resetFields(),this.setDataArr({formData:{id:"",name:"",type:"0",cover:"",price:0,commission:0,commission_type:"0",sort:0,content:"",attr:[],status:"0"},default_src1:""}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData(),this.$refs.editor&&this.$refs.editor.setContent("")},onUploadedImg:function(t){var e=t.res.info;this.formData.cover=e.url},submitForm:function(t){var e=this;if(e.formData.attr&&e.formData.attr.length>0){var a=[];for(var i in e.formData.attr){var o=e.formData.attr[i];a.push(o.attr_name)}var n=new s.a(a);if(n=l()(n),a.length!=n.length)return void c.Message.error("规格名称出现重复")}e.$refs[t].validate(function(t){e.page_loading||(e.page_loading=!0,c.requests("post",{url:"/mall/goodsEdit",data:e.formData}).then(function(t){console.log(t),e.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)}))})},doMissId:function(t){if(!t){var e=this;return this.$alert("缺少必要的id参数，请重新打开","提示",{confirmButtonText:"确定",callback:function(t){e.openPage({hreftype:"navigateBack",url:-1})}}),!1}return!0},openPage:c.openPage}},m=(a("foat"),a("KHd+")),p=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapeditor_container"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("基础信息")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"name",label:"商品名称","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"price",label:"价格","label-width":"110px"}},[a("el-input",{attrs:{disabled:t.inputDisabled,placeholder:"请输入规格价格"},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"commission",label:"佣金","label-width":"110px"}},[a("el-input",{attrs:{disabled:t.inputDisabled,placeholder:"请输入佣金"},model:{value:t.formData.commission,callback:function(e){t.$set(t.formData,"commission",e)},expression:"formData.commission"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.formData.commission_type,callback:function(e){t.$set(t.formData,"commission_type",e)},expression:"formData.commission_type"}},[a("el-option",{attrs:{label:"比例类型",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"金额类型",value:"1"}})],1)],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{display:"none"},attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"commission",label:"类型",required:"","label-width":"110px"}},[a("span",{staticStyle:{"margin-left":"15px"}},[a("el-radio",{attrs:{label:"0"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[t._v("管理类型")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[t._v("记账类型")])],1)])],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"越大越靠前"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{display:"none"},attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"状态","label-width":"120px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"禁用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}})],1)],1)],1)],1),t._v(" "),t._l(t.formData.attr,function(e,i){return a("el-row",{key:i,staticClass:"mapeditor-content attr-box"},[a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"规格名称","label-width":"95px",prop:"attr."+i+".attr_name",rules:{required:!0,message:"规格名称不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.formData.attr[i].attr_name,callback:function(e){t.$set(t.formData.attr[i],"attr_name",e)},expression:"formData.attr[index].attr_name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"价格","label-width":"60px",prop:"attr."+i+".attr_price",rules:[{required:!0,message:"规格价格不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入规格价格"},model:{value:t.formData.attr[i].attr_price,callback:function(e){t.$set(t.formData.attr[i],"attr_price",e)},expression:"formData.attr[index].attr_price"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"级别等级","label-width":"80px",prop:"attr."+i+".level",rules:[{required:!0,message:"级别为数字",trigger:"blur"}]}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入级别"},model:{value:t.formData.attr[i].level,callback:function(e){t.$set(t.formData.attr[i],"level",e)},expression:"formData.attr[index].level"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"佣金","label-width":"60px",prop:"attr."+i+".attr_commission",rules:[{required:!0,message:"规格佣金不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入规格佣金"},model:{value:t.formData.attr[i].attr_commission,callback:function(e){t.$set(t.formData.attr[i],"attr_commission",e)},expression:"formData.attr[index].attr_commission"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.formData.attr[i].attr_commission_type,callback:function(e){t.$set(t.formData.attr[i],"attr_commission_type",e)},expression:"formData.attr[index].attr_commission_type"}},[a("el-option",{attrs:{label:"比例类型",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"金额类型",value:"1"}})],1)],1)],1)],1)],1)})],2),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n        图片上传\n        "),a("span",[t._v("(建议文件小于3M)")])]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"cover",label:"封面图","label-width":"90px"}},[a("img-upload",{ref:"imgUpload",attrs:{default_src:t.default_src1,url:"Upload/imgUpload",uploadedImg:t.onUploadedImg,thumb:{isthumb:1,width:480,height:480}},on:{"update:default_src":function(e){t.default_src1=e}}})],1)],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("详情信息")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:16,sm:20,xs:24}},[a("el-form-item",{attrs:{prop:"content",label:"内容详情",required:"","label-width":"90px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(e){t.submitForm("formData")}}},[t._v("保存")]),t._v(" "),t.formData.id?t._e():a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm("formData")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1)],1)},[],!1,null,"143c012a",null);p.options.__file="goodsEdit.vue";e.default=p.exports},YwfV:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("ygAv"),s={name:"dy-tags",props:{dataList:{type:Array,default:function(){return[]}},form_attrs:{type:Object,default:function(){return{}}}},computed:{dataListOrderByName:function(){var t={},e={},a={};if(this.dataList){t=o.ArrayFun.ArraytoKeyObj(this.dataList,"name");var i=o.ArrayFun.ArraytoKeyObj(this.form_attrs,"name");for(var s in t){t[s];i[s]&&(e[s]=i[s],a[s]=i[s].val)}}return this.attrsValue=l()({},a),this.$emit("form_attrs:update",l()({},e)),t}},data:function(){return{attrsValue:{}}},methods:{onInputAttrs:function(t,e){var a=this.form_attrs;a||console.log("重新赋值需form_attrs设定为{}",a),a[e]={sort:this.dataListOrderByName[e].sort,name:this.dataListOrderByName[e].name,val:t},console.log(a),this.$emit("form_attrs:update",a)}}},n=(a("UDlm"),a("KHd+")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.dataListOrderByName,function(e){return a("el-col",{key:e.name,attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{label:e.name,"label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入数据点名称"},on:{change:function(a){return t.onInputAttrs(a,e.name)}},model:{value:t.attrsValue[e.name],callback:function(a){t.$set(t.attrsValue,e.name,a)},expression:"attrsValue[item.name]"}})],1)],1)}))},[],!1,null,"bdf23b5a",null);r.options.__file="DyInput.vue";e.default=r.exports},Z1g7:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),l={name:"img-upload",props:{url:{type:String,default:function(){return""}},thumb:{type:Object,default:function(){return{isthumb:0,width:90,height:90}}},default_src:{type:String,default:function(){return""}},auto_upload:{type:Boolean,default:function(){return!0}},uploadedImg:{type:Function},beforeUploadImage:{type:Function,default:function(){return!0}},uploadedImgForNew:{type:Function},limitM:{type:Number,default:function(){return 10.5}},width:{type:Number,default:function(){return 178}},height:{}},computed:{styleSet:function(){if(0==this.height||null==this.height)var t=this.width;else t=this.height;return"width:"+this.width+"px; height:"+t+"px; line-height:"+t+"px;"},default_realsrc:function(){return this.getRealImgUrl(this.default_src)}},data:function(){return{uploadLoading:!1,current_fileHandle:""}},created:function(){},methods:{resetData:function(){this.setDataArr({current_fileHandle:null}),this.$emit("update:default_src","")},_beforeUploadImage:function(t){var e=this.beforeUploadImage();if(1!=e)return this.$message.error(e),!1;"image/jpeg"===t.type||"image/png"===t.type||t.type;var a=this.limitM;t.size;return!0},changeUploadImage:function(t,e){var a=this,i=t.raw;if(1!=a._beforeUploadImage(i))return!1;if(!a.auto_upload&&window.FileReader){var l=new FileReader;l.readAsDataURL(i),l.onloadend=function(t){var e=t.currentTarget.result;a.$emit("update:default_src",e)}}a.current_fileHandle=i},uploadImage:function(t){var e=this;if(!e.uploadLoading){e.uploadLoading=!0;var a=this.$route.path.split("/"),l=a[1]?a[1]:"";if(l){if(e.auto_upload)o=t.file;else var o=e.current_fileHandle;var s=e.url,n={image:o,subpath:l};1==e.thumb.isthumb&&(n.isthumb=e.thumb.isthumb,n.width=e.thumb.width?e.thumb.width:90,n.height=e.thumb.height?e.thumb.height:90),i.requests("post",{url:s,data:n,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if(e.uploadLoading=!1,e.uploadedImgForNew)e.uploadedImgForNew({sub_that:e,res:t});else if(1==t.code){var a=t.data.info.url;e.$emit("update:default_src",a),e.uploadedImg&&e.uploadedImg({sub_that:e,res:t.data})}else i.Message.error(t.msg)})}else console.log("页面路径设置错误")}},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},o=(a("2I9k"),a("KHd+")),s=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"string","http-request":t.uploadImage,"show-file-list":!1,"before-upload":t._beforeUploadImage,"on-change":t.changeUploadImage,"auto-upload":t.auto_upload,accept:"image/jpeg,image/png,image/gif"}},[t.default_src?a("img",{staticClass:"avatar",style:t.styleSet,attrs:{src:t.default_realsrc}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:t.styleSet}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.uploadLoading,expression:"uploadLoading"}],staticClass:"avatar-uploader-loading",style:t.styleSet,attrs:{"element-loading-background":"rgba(0, 0, 0, 0.8)"}})])],1)},[],!1,null,"e13b8a04",null);s.options.__file="ImgUpload.vue";e.default=s.exports},Zd91:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),l={name:"dy-tags",props:{data:{type:Array,default:function(){return[]}},button_name:{type:String,default:function(){return"添加标签"}},limitNum:{type:Number,default:function(){return 0}}},data:function(){return{inputVisible:!1,inputValue:"",inputErrorMsg:""}},methods:{isEmpty:function(t){return!(this.data.length>0)&&(this.inputErrorMsg=t,!0)},handleDel:function(t,e){this.data.splice(e,1),this.inputErrorMsg=""},showInput:function(){var t=this,e=this.data;0!=this.limitNum&&e.length>=this.limitNum?this.inputErrorMsg="选项设置已达到上限个数 "+this.limitNum+" 个":(this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()}))},oninputTagVal:function(){var t=this.inputValue,e=this.data;if(t){var a=i.ArrayFun.column(e,"name");if(-1!=i.ArrayFun.indexOfArr(a,t))this.inputErrorMsg="该选项名称已经存在，所以无添加该选项";else{var l=i.ArrayFun.getMaxOrMin(this.data,"sort","max");e.push({sort:Number(l)+1,name:t}),this.inputErrorMsg=""}}this.inputVisible=!1,this.inputValue=""}}},o=(a("LzTn"),a("KHd+")),s=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag-content"},[t._l(t.data,function(e,i){return a("el-tag",{key:i,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){t.handleDel(e,i)}}},[t._v("\n    "+t._s(e.name)+"\n  ")])}),t._v(" "),t.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.oninputTagVal},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.oninputTagVal(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ "+t._s(t.button_name))]),t._v(" "),a("div",{staticClass:"el-form-item__error"},[t._v(t._s(t.inputErrorMsg))])],2)},[],!1,null,"7b1245a2",null);s.options.__file="DyTags.vue";e.default=s.exports},Zj4k:function(t,e,a){},"a3w+":function(t,e,a){"use strict";var i=a("Q9vV");a.n(i).a},aBxp:function(t,e,a){"use strict";var i=a("hVcV");a.n(i).a},aE4a:function(t,e,a){"use strict";var i=a("2Dvj");a.n(i).a},aS7q:function(t,e,a){var i={"./App.vue":"Pf3K","./components/Breadcrumb/index.vue":"Y1Bl","./components/DyInput/DyInput.vue":"YwfV","./components/Hamburger/index.vue":"Tx5V","./components/InnerTable/EstatesNew.vue":"I0Yi","./components/InnerTable/LiveRoom.vue":"lTwH","./components/SvgIcon/index.vue":"wAo7","./components/Tinymce/components/EditorImage.vue":"yzdO","./components/Tinymce/index.vue":"glbJ","./components/city/citypricelog.vue":"H1wi","./components/city/cityset.vue":"DqGA","./components/city/wxmenu.vue":"q2cZ","./components/common/AuthTree.vue":"IbCV","./components/common/Clip.vue":"d+XH","./components/common/DownloadBase64img.vue":"8RjK","./components/common/DyTags.vue":"Zd91","./components/common/ImgPreview.vue":"7QZd","./components/common/ImgUpload.vue":"Z1g7","./components/common/ImgUpload2.vue":"fbG1","./components/common/MycitySelect.vue":"bC1q","./components/common/QCode.vue":"HrLS","./components/common/QCodeForLogo.vue":"QUP5","./components/common/SelectTree.vue":"VVsi","./components/common/VoiceUpload.vue":"FedZ","./components/common/exportexcel.vue":"fqDt","./components/common/pagination.vue":"Bi68","./components/page/EstatesnewBuilding.vue":"q/hb","./components/page/EstatesnewEdit.vue":"z11e","./components/page/buildingpricelog.vue":"Xf8r","./views/404.vue":"jNvO","./views/admin/areaList.vue":"XKBR","./views/admin/banner.vue":"sSgq","./views/admin/bannerPlace.vue":"N68V","./views/admin/baseset.vue":"J6CZ","./views/admin/cityList.vue":"bG5b","./views/admin/citytoptag.vue":"2EWK","./views/admin/column.vue":"nsTj","./views/admin/list.vue":"Syvo","./views/admin/menuedit.vue":"y20m","./views/admin/menulist.vue":"e7qq","./views/admin/role.vue":"Uz2U","./views/admin/sendpaylog.vue":"vFF5","./views/changePassword/index.vue":"3dpa","./views/commission/distributors.vue":"+R62","./views/commission/orderlist.vue":"9s5S","./views/commission/userWithdrawal.vue":"BpQL","./views/estates/estatesnew.vue":"60bY","./views/estates/estatesnew_edit.vue":"Ss/C","./views/estates/estatesnew_house.vue":"5H1z","./views/estates/tag.vue":"BAVQ","./views/examine/comments.vue":"hakG","./views/extra/components/ExtraCheckbox.vue":"Jf9N","./views/extra/facilitie.vue":"sRQ/","./views/extra/nearby.vue":"KaCU","./views/extra/tag.vue":"dBdh","./views/layout/Layout.vue":"2c6e","./views/layout/components/AppMain.vue":"F35N","./views/layout/components/Navbar.vue":"oQr/","./views/layout/components/Sidebar/Item.vue":"ssOZ","./views/layout/components/Sidebar/Link.vue":"bITd","./views/layout/components/Sidebar/Logo.vue":"OZuN","./views/layout/components/Sidebar/SidebarItem.vue":"6cqe","./views/layout/components/Sidebar/index.vue":"MMau","./views/login/index.vue":"ntYl","./views/mall/goodsEdit.vue":"Y325","./views/mall/goodsList.vue":"WX1K","./views/mall/log.vue":"DElK","./views/marketing/coupon.vue":"8I+L","./views/marketing/liveRoom.vue":"+Wja","./views/marketing/signup.vue":"06OB","./views/marketing/subject.vue":"zwlo","./views/marketing/subjectConfig.vue":"KAGF","./views/merchant/menuEdit.vue":"QC+q","./views/merchant/menuList.vue":"tsXt","./views/merchant/merchantList.vue":"JdwW","./views/news/category.vue":"y/Qe","./views/news/edit.vue":"i6Zo","./views/news/index.vue":"fGS7","./views/news/tag.vue":"oFJ8","./views/order/list.vue":"Npir","./views/user/bookList.vue":"ESSz","./views/user/customerList.vue":"Xcdu","./views/user/teamInfo.vue":"RqI6","./views/user/teamList.vue":"WmLb","./views/user/userList.vue":"oGLJ"};function l(t){var e=o(t);return a(e)}function o(t){var e=i[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}l.keys=function(){return Object.keys(i)},l.resolve=o,t.exports=l,l.id="aS7q"},bC1q:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("ygAv"),s={name:"mycity-select",props:{model:{default:function(){return"1"}},province_no:{default:function(){return""}},city_no:{default:function(){return!1}},area_no:{default:function(){return!1}},"label-width":{default:function(){return""}},isMy:{default:function(){return!1}},url:{default:function(){return"city/sysCitys"}},siteAreasUrl:{default:function(){return""}}},watch:{provinceData2:function(t){this.$emit("update:province_no",t),"2"!=this.model&&"3"!=this.model&&(this.cityData2="",this.citys=[],this.getSysCitys("citys",{data:{pid:t}}))},cityData2:function(t){if(this.$emit("update:city_no",t),"2"==this.model||"3"==this.model){var e=this.myCitys[t];this.provinceData2=e&&e.pid?String(e.pid):""}"3"!=this.model&&(this.areaData2="",this.areas=[],this.siteAreasUrl?this.getSysCitys("areas",{url:this.siteAreasUrl,data:{pid:t,status:1}}):this.getSysCitys("areas",{data:{pid:t}}))},areaData2:function(t){this.$emit("update:area_no",t)},province_no:function(t){this.provinceData2=t?String(t):""},city_no:function(t){this.cityData2=t?String(t):""},area_no:function(t){this.areaData2=t?String(t):""}},computed:{},data:function(){return{provinceData2:"",cityData2:"",areaData2:"",provinces:"",citys:"",areas:"",showSelect:{province:!0,city:!0,area:!0},myProvinces:{},myCitys:{}}},created:function(){switch(1==this.isMy&&this.getMyCitys(),this.model){case"2":this.showSelect={province:!1,city:!0,area:!0};break;case"3":this.showSelect={province:!1,city:!0,area:!1};break;default:this.showSelect={province:!0,city:!0,area:!0}}this.province_no&&(this.provinceData2=String(this.province_no)),this.city_no&&(this.cityData2=String(this.city_no)),this.area_no&&(this.areaData2=String(this.area_no)),1==this.showSelect.province?this.getSysCitys("provinces",{data:{pid:0}}):"2"!=this.model&&"3"!=this.model||(this.citys=this.myCitys)},methods:{getSysCitys:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this;e.url||(e.url=a.url),e.data||(e.data={}),o.requests("post",{url:e.url,data:e.data}).then(function(e){if(1==e.code){var i={};for(var s in e.data){var n=e.data[s];i[n.id]=l()({},n)}a[t]=i}else o.Message.error(e.msg)})},getMyCitys:function(){var t=this.$store.getters.userinfo&&this.$store.getters.userinfo.region_nos_info?this.$store.getters.userinfo.region_nos_info:[];for(var e in this.myProvinces={},this.myCitys={},t){var a=t[e];this.myProvinces[a.pid]=a.pcname,this.myCitys[a.id]=l()({},a)}},changeRegion:function(t,e){this.$emit(e,t)}}},n=(a("riGM"),a("KHd+")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form-item",{staticClass:"city-box",attrs:{label:"城市","label-width":t.labelWidth}},[a("el-select",{staticClass:"select-box",style:1==t.showSelect.province?"display:inline-block;":"display:none;",attrs:{placeholder:"请选择省份"},on:{change:function(e){t.changeRegion(e,"changeProvince")}},model:{value:t.provinceData2,callback:function(e){t.provinceData2=e},expression:"provinceData2"}},t._l(t.provinces,function(e){return a("span",{key:e.id},[t.myProvinces[e.id]?a("el-option",{attrs:{label:e.cname,value:String(e.id)}}):t._e()],1)})),t._v(" "),a("el-select",{staticClass:"select-box",style:1==t.showSelect.city?"display:inline-block;":"display:none;",attrs:{placeholder:"请选择城市"},on:{change:function(e){t.changeRegion(e,"changeCity")}},model:{value:t.cityData2,callback:function(e){t.cityData2=e},expression:"cityData2"}},t._l(t.citys,function(e){return a("span",{key:e.id},[t.myCitys[e.id]?a("el-option",{attrs:{label:e.cname,value:String(e.id)}}):t._e()],1)})),t._v(" "),a("el-select",{staticClass:"select-box",style:1==t.showSelect.area?"display:inline-block;":"display:none;",attrs:{placeholder:"请选择区级"},on:{change:function(e){t.changeRegion(e,"changeArea")}},model:{value:t.areaData2,callback:function(e){t.areaData2=e},expression:"areaData2"}},t._l(t.areas,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:String(t.id)}})}))],1)},[],!1,null,"0d8aa061",null);r.options.__file="MycitySelect.vue";e.default=r.exports},bG5b:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=(a("Zd91"),a("kxxL")),r=a("ygAv"),c={components:{},mixins:[n.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",searchData:{status:"-1",is_hot:"-1",id:""},tableData:[],formData:{status:"0",is_hot:"0",province_no:"",province_name:"",city_no:"",city_name:"",sort:""},provinces:[],citys:[],provinceData:"",cityData:""}},watch:{provinceData:function(t){t=t.split("-"),this.formData.province_no=t[0],this.formData.province_name=t[1],this.cityData="",this.citys=[],this.formData.city_no="",this.formData.city_name="",0!=t&&this.getSysCitys(t[0],"citys")},cityData:function(t){t=t.split("-"),this.formData.city_no=t[0],this.formData.city_name=t[1]}},created:function(){this.resetData({formData:this.formData,provinceData:this.provinceData,cityData:this.cityData}),this.getList(this.searchData),this.getSysCitys(0,"provinces")},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;r.requests("post",{url:"city/siteCitys",data:t}).then(function(t){e.tableData=t.data})},getSysCitys:function(t,e){var a=this;r.requests("post",{url:"city/sysCitys",data:{pid:t}}).then(function(t){if(1==t.code){a[e]=[{id:0,cname:"不限制"}].concat(t.data),console.log(a[e])}else r.Message.error(t.msg)})},openPage:r.openPage,doEdit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s()(e).length>0){e.status=String(e.status),e.is_hot=String(e.is_hot),this.formData=l()({},e),this.formData.dotype="edit",this.provinceData=e.pid+"-"+e.pcname;var a=setInterval(function(){t.cityData?clearInterval(a):"edit"==t.formData.dotype?t.cityData=e.id+"-"+e.cname:t.cityData=""},800)}else this.formData.dotype="add";this.dialogVisibleEdit=!0},doEditCancel:function(t){this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.requests("post",{url:"city/siteCitysDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,r.requests("post",{url:"city/siteCitysEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},u=(a("AxMc"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("span",[t._v("状态：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1),t._v(" "),a("span",[t._v("是否热门")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.is_hot,callback:function(e){t.$set(t.searchData,"is_hot",e)},expression:"searchData.is_hot"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"城市名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_hot",label:"是否热门",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_hot?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("是")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("否")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",width:"380",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/citytoptag",data:{region_no:e.row.id}})}}},[t._v("配置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/areaList",data:{pid:e.row.id}})}}},[t._v("区设置")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData}},[a("el-form-item",{staticClass:"city-box",attrs:{label:"城市","label-width":t.formLabelWidth}},[a("el-select",{attrs:{disabled:"edit"==t.formData.dotype,placeholder:"请选择"},model:{value:t.provinceData,callback:function(e){t.provinceData=e},expression:"provinceData"}},t._l(t.provinces,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:t.id+"-"+t.cname}})})),t._v(" "),a("el-select",{attrs:{disabled:"edit"==t.formData.dotype,placeholder:"请选择"},model:{value:t.cityData,callback:function(e){t.cityData=e},expression:"cityData"}},t._l(t.citys,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:t.id+"-"+t.cname}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否热门","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.is_hot,callback:function(e){t.$set(t.formData,"is_hot",e)},expression:"formData.is_hot"}},[a("el-radio",{attrs:{label:"1"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"1030d20e",null);d.options.__file="cityList.vue";e.default=d.exports},bKOT:function(t,e,a){},bMwt:function(t,e,a){},bdqP:function(t,e,a){"use strict";var i=a("gW91");a.n(i).a},cRuX:function(t,e,a){},cTHy:function(t,e,a){},"d+XH":function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),l={name:"clip",props:{data:{type:String,default:function(){return""}},size:{type:String,default:function(){return""}}},data:function(){return{}},methods:{handleCopy:function(t,e){console.log(e),i.clip(t,e)}}},o=(a("wawg"),a("KHd+")),s=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("el-button",{attrs:{size:t.size},on:{click:function(e){t.handleCopy(t.data,e)}}},[t._v("复制")])],1)},[],!1,null,"494a2287",null);s.options.__file="Clip.vue";e.default=s.exports},dBdh:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=a("Jf9N"),c=a("g5Kx"),u=a("ygAv"),d={components:{"pagination-box":n.default,"extra-checkbox":r.default},data:function(){var t=this;return{dialogFormVisible:!1,formLabelWidth:"123px",form:{id:"",name:"",type:0,fordo:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}],type:[{required:!0,message:"缺少作用标识"}],fordo:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(""==t.form.fordo)return i(new Error("请点选要应用的模块")),!1;i()})}}]},check_dataAll:c.a.data,searchData:{name:"",type:0,fordo:""},page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,u.requests("post",{url:"extra/getExtraList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):u.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},onChecked:function(t,e){console.log(t),this.form.fordo=e?"all":t.join(",")},getCheckedsName:function(t){var e=t.split(","),a=[];for(var i in e)a[i]=c.a.getCheckedsName(e[i]);return a.join(" / ")},resetData:function(){this.setDataArr({form:{id:"",name:"",type:0,fordo:""}})},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.dialogFormVisible=!0,l()(t).length>0&&(e.form=s()({},t),e.form.fordo&&e.$nextTick(function(){e.$refs.extra_checkbox.setCheckeds(e.form.fordo)}))},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.page_loading||(t.page_loading=!0,u.requests("post",{url:"extra/extraEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(u.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):u.Message.error(e.msg)}))})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,u.requests("post",{url:"extra/extraDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),u.Message.success("操作成功")):u.Message.error(t.msg)}))}).catch(function(){})},openPage:function(t){return u.openPage(t)}}},m=(a("g4ro"),a("KHd+")),p=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:!0,placeholder:"模块应用范围"},model:{value:t.searchData.fordo,callback:function(e){t.$set(t.searchData,"fordo",e)},expression:"searchData.fordo"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),t._l(t.check_dataAll,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"模块应用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("  \n          "+t._s(t.getCheckedsName(e.row.fordo))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,name:e.row.name,type:e.row.type,fordo:e.row.fordo})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑标签":"新增标签",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"作用标识","label-width":t.formLabelWidth,prop:"type"}},[a("el-input",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"模块应用","label-width":t.formLabelWidth,prop:"fordo"}},[a("extra-checkbox",{ref:"extra_checkbox",attrs:{dataAll:t.check_dataAll},on:{onChecked:t.onChecked}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)])},[],!1,null,"6cc2e56d",null);p.options.__file="tag.vue";e.default=p.exports},e7qq:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),l={data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{name:"",remark:"",status:0},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"change"}]},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;t.page_loading||(t.page_loading=!0,i.requests("post",{url:"menu/index"}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({tableData:e.data.list}):i.Message.error(e.msg)}))},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,i.requests("post",{url:"menu/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),i.Message.success("操作成功")):i.Message.error(t.msg)}))}).catch(function(){})},openPage:i.openPage}},o=(a("uEHq"),a("KHd+")),s=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/admin/menuedit"})}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"菜单名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"权限url",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"page",label:"页面路径",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("显示")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("隐藏")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/admin/menuedit",data:{id:e.row.id}},"get")}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},[],!1,null,"d5136198",null);s.options.__file="menulist.vue";e.default=s.exports},eD7s:function(t,e,a){},eIvR:function(t,e,a){},eO1a:function(t,e,a){"use strict";var i=a("kKQ8");a.n(i).a},ef6u:function(t,e,a){},el9l:function(t,e,a){},"fA+T":function(t,e,a){"use strict";var i=a("cRuX");a.n(i).a},fGS7:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=a("ygAv"),n={components:{"pagination-box":o.default},data:function(){return{searchData:{category_id:"",name:"",status:"-1"},categoryList:[],page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getCategoryList(),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,s.requests("post",{url:"news/getList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):s.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getCategoryList:function(){var t=this;s.requests("post",{url:"news/getCategoryList"}).then(function(e){1==e.code?t.setDataArr({categoryList:e.data.list}):s.Message.error(e.msg)})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},format9999Num:function(t){return t?(t>9999&&(t="9999 +"),t):0},formatDate:function(t){return s.DataFun.getFormatDate(t,2)},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,s.requests("post",{url:"news/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),s.Message.success("操作成功")):s.Message.error(t.msg)}))}).catch(function(){})},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return s.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,s.requests("post",{url:"news/changeSort",data:{id:t,sort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),s.Message.success("操作成功")):s.Message.error(t.msg)}))},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,s.requests("post",{url:"news/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),s.Message.success("操作成功")):s.Message.error(t.msg)}))},openPage:s.openPage}},r=(a("8qio"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"类别选择"}},[a("el-select",{attrs:{placeholder:"请输入关键词",filterable:""},model:{value:t.searchData.category_id,callback:function(e){t.$set(t.searchData,"category_id",e)},expression:"searchData.category_id"}},t._l(t.categoryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:Number(t.id)}})}))],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入文章名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/news/edit"})}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"封面图",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"110px",height:"110px"},attrs:{src:t.getRealImgUrl(e.row.cover)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"190",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"阅读信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("阅读数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row.statistic&&e.row.statistic.num_read?t.format9999Num(e.row.statistic.num_read):0))])],1),t._v(" "),a("div",[t._v("收藏数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row.statistic&&e.row.statistic.num_collect?t.format9999Num(e.row.statistic.num_collect):0))])],1),t._v(" "),a("div",[t._v("转发数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row.statistic&&e.row.statistic.num_share?t.format9999Num(e.row.statistic.num_share):0))])],1),t._v(" "),a("div",[t._v("点赞数："),a("el-tag",{staticClass:"count",attrs:{effect:"plain",size:"mini"}},[t._v(t._s(e.row.statistic&&e.row.statistic.num_thumbup?t.format9999Num(e.row.statistic.num_thumbup):0))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n           "+t._s(t.formatDate(e.row.create_time))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"排序越大越靠前",size:"small"},on:{change:function(a){t.sortChange(e.row.id,a)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/news/edit",data:{id:e.row.id}})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"55cb72fc",null);c.options.__file="index.vue";e.default=c.exports},fbG1:function(t,e,a){"use strict";a.r(e);var i=a("X4fA"),l=(a("URgk"),a("ygAv")),o={name:"img-upload2",props:{url:{type:String,default:function(){return""}},doSort:{type:Boolean,default:function(){return!1}},fileList:{type:Array,default:function(){return[]}},thumb:{type:Object,default:function(){return{isthumb:0,width:90,height:90}}},upload_type:{type:String,default:function(){return"local"}},uploadedImg:{type:Function},uploadedImgForNew:{type:Function},beforeRemoveForOpenAlert:{type:Boolean,default:function(){return!0}},width:{type:Number,default:function(){return 164}},limit:{type:Number,default:function(){return 1}},limitM:{type:Number,default:function(){return 5}}},computed:{styleSet:function(){if(!(this.fileList.length>2))return"width:"+this.width+"px; height:"+this.width+"px; line-height:"+this.width+"px;";this.hideUpload=this.fileList.length>=this.limit-1},preview_fileList:function(){return this.fileList}},data:function(){return{uploadLoading:!1,isPlaying:!1,dialogVisible:!1,dialogImageUrl:"",hideUpload:!1,imgHost:""}},created:function(){this.imgHost=Object(i.a)("imageHost")},updated:function(){},methods:{resetData:function(){this.setDataArr({uploadLoading:!1,hideUpload:!1}),this.$emit("update:fileList",[])},handleExceed:function(t,e){this.$message.warning("只允许上传"+this.limit+"个文件,若要更改请先移除")},beforeUploadImg:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type,a=this.limitM,i=t.size/1024/1024<a;return e||this.$message.error("上传图片只能是 JPG,PNG,GIF 格式!"),i||this.$message.error("上传文件大小不能超过 "+a+"M!"),e&&i},uploadImg:function(t){var e=this;if(!e.uploadLoading){e.uploadLoading=!0;var a=t.file;if(e.uploadedImgForNew)e.uploadedImgForNew({sub_that:e,res:res});else if("oss"==e.upload_type)l.uploadFileToOss({file:a,type:"image",success:function(t){e.uploadLoading=!1,e.fileList.push({name:t.name,url:t.url,sort:0}),e.uploadedImg&&e.uploadedImg({sub_that:e,res:t,fileList:e.fileList}),e.$emit("update:fileList",e.fileList)},fail:function(t){e.uploadLoading=!1,l.Message.error(t)}});else if("local"==e.upload_type){var i=this.$route.path.split("/"),o=i[1]?i[1]:"";if(!o)return void console.log("页面路径设置错误");var s=e.url,n={image:a,subpath:o};1==e.thumb.isthumb&&(n.isthumb=e.thumb.isthumb,n.width=e.thumb.width?e.thumb.width:90,n.height=e.thumb.height?e.thumb.height:90),l.requests("post",{url:s,data:n,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.uploadLoading=!1,1==t.code?(t=t.data&&t.data.info?t.data.info:"",e.fileList.push({name:t.name,url:t.url,sort:0}),e.uploadedImg&&e.uploadedImg({sub_that:e,res:t,fileList:e.fileList}),e.$emit("update:fileList",e.fileList)):l.Message.error(t.msg)})}}},closeDialog:function(){this.dialogVisible=!1},handleRemove:function(t){this.fileList.splice(t,1),this.fileList.length<3&&(this.hideUpload=!1),this.$emit("update:fileList",this.fileList)},handlePreview:function(t){this.dialogImageUrl=t,this.dialogVisible=!0},changeHide:function(){this.hideUpload=this.fileList.length>=this.limit-1},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},s=(a("16Xz"),a("KHd+")),n=Object(s.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-upload-content"},[a("ul",{staticClass:"el-upload-list el-upload-list--picture-card"},t._l(t.fileList,function(e,i){return t.fileList.length>0?a("li",{key:i,staticClass:"el-upload-list__item is-success",attrs:{tabindex:"0"}},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.getRealImgUrl(e.url)}}),t._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(a){t.handlePreview(e.url)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),t._v(" "),a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){t.handleRemove(i)}}},[a("i",{staticClass:"el-icon-delete"})])]),t._v(" "),t.doSort?a("el-form-item",{attrs:{prop:"integral",label:"排序","label-width":"50px"}},[a("el-input",{attrs:{maxlength:"3",placeholder:"越大越靠前"},model:{value:t.fileList[i].sort,callback:function(e){t.$set(t.fileList[i],"sort",e)},expression:"fileList[idx].sort"}})],1):t._e()],1):t._e()})),t._v(" "),a("el-upload",{ref:"imgUpload",staticClass:"img-upload",class:{hide:t.hideUpload},attrs:{action:"string","on-change":t.changeHide,"http-request":t.uploadImg,"before-upload":t.beforeUploadImg,limit:t.limit,"on-exceed":t.handleExceed,"show-file-list":!1,"list-type":"picture-card","file-list":t.fileList,accept:"image/jpeg,image/png,image/gif"}},[a("div",{staticClass:"itemfile-box",style:t.styleSet},[a("i",{staticClass:"el-icon-plus"})])]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":!0},on:{close:t.closeDialog}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},[],!1,null,null,null);n.options.__file="ImgUpload2.vue";e.default=n.exports},foat:function(t,e,a){"use strict";var i=a("JiQR");a.n(i).a},fqDt:function(t,e,a){"use strict";a.r(e);var i=a("4d7F"),l=a.n(i),o=a("ygAv"),s={name:"exportexcel-box",props:["setArr"],data:function(){return{exportExcelInt:{progressShow:!1,percentage:0,loading:!1}}},methods:{dialogClose:function(){this.exportExcelInt.progressShow=!1,this.exportExcelInt.loading=!1},exportExcel:function(){var t=this;if(t.setArr.post&&t.setArr.post.url){var e=t.setArr.post.url;if(t.setArr.filename){if(1!=t.exportExcelInt.loading){t.exportExcelInt.loading=!0,t.exportExcelInt.progressShow=!0,t.exportExcelInt.percentage=0;var i=Math.ceil(t.setArr.post.total/t.setArr.post.pagesize);if(i>10)return t.dialogClose(),void t.$message.error("导出的数据量太大，可缩小所需要的时间段");for(var s=[],n=0,r=1;r<=i;r++){var c=new l.a(function(t,e){u(r,t,e)});s.push(c)}l.a.all(s).then(function(e){for(var i=[],l=0;l<e.length;l++)for(var o=0;o<e[l].length;o++)i.push(e[l][o]);0!=t.exportExcelInt.loading&&Promise.all([a.e("chunk-4dd3"),a.e("chunk-20c4")]).then(a.bind(null,"S/jZ")).then(function(e){var a=t.setArr.tHeader,l=function(t,e){return e.map(function(e){return t.map(function(t){return"timestamp"===t?parseTime(e[t]):e[t]})})}(t.setArr.filterVal,i);e.export_json_to_excel({header:a,data:l,filename:t.setArr.filename,autoWidth:!0}),t.exportExcelInt.loading=!1})})}}else console.log("缺少要保存的filename设置")}else console.log("缺少url");function u(a,l,s){setTimeout(function(){var r={};(r=t.setArr.post.data?t.setArr.post.data:{}).page=a,0!=t.exportExcelInt.loading&&o.requests("post",{url:e,data:r},t).then(function(e){var a;a=t.setArr.ajaxSuccess(e),1==e.status?(n++,t.exportExcelInt.percentage=100*n/i,l(a)):s()})},1e3*a)}}}},n=(a("3irV"),a("KHd+")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"exportexcel-btn"},[a("el-button",{staticClass:"defult",on:{click:t.exportExcel}},[t._v("导出")])],1),t._v(" "),a("el-dialog",{staticClass:"dialog-progressbox",attrs:{title:"导出进度",visible:t.exportExcelInt.progressShow,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.$set(t.exportExcelInt,"progressShow",e)},close:t.dialogClose}},[a("div",{staticClass:"progressbox"},[a("el-progress",{attrs:{type:"circle",percentage:Number(t.exportExcelInt.percentage)}})],1)])],1)},[],!1,null,null,null);r.options.__file="exportexcel.vue";e.default=r.exports},g1eF:function(t,e,a){"use strict";var i=a("nPtC");a.n(i).a},g4ro:function(t,e,a){"use strict";var i=a("PBsP");a.n(i).a},g5Kx:function(t,e,a){"use strict";var i=a("ygAv"),l=[{key:"scenic",name:"景区管理"},{key:"interest",name:"好玩"},{key:"discover",name:"发现"},{key:"service",name:"服务"},{key:"news",name:"资讯"}];e.a={data:l,getCheckedsName:function(t){var e=l,a=i.ArrayFun.column(e,"key");if("all"==t)return"全部";if(t){var o=i.ArrayFun.indexOfArr(a,t);return l[o]?l[o].name:""}}}},gW91:function(t,e,a){},glbJ:function(t,e,a){"use strict";a.r(e);var i=a("yzdO"),l=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],o=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],s=a("FyfS"),n=a.n(s),r=[];var c=function(t,e){var a=document.getElementById(t),i=e||function(){};if(!a){var l=document.createElement("script");l.src=t,l.id=t,document.body.appendChild(l),r.push(i),("onload"in l?function(e){e.onload=function(){this.onerror=this.onload=null;var t=!0,a=!1,i=void 0;try{for(var l,o=n()(r);!(t=(l=o.next()).done);t=!0){var s=l.value;s(null,e)}}catch(t){a=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(a)throw i}}r=null},e.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+t),e)}}:function(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e=!0,a=!1,i=void 0;try{for(var l,o=n()(r);!(e=(l=o.next()).done);e=!0){var s=l.value;s(null,t)}}catch(t){a=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}r=null}}})(l)}a&&i&&(window.tinymce?i(null,a):r.push(i))},u={name:"Tinymce",components:{editorImage:i.default},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?t+"px":t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;c("https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",function(e){e?t.$message.error(e.message):t.initTinymce()})},initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#"+this.tinymceId,language:this.languageTypeList.zh,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:o,menubar:this.menubar,plugins:l,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(a){e.value&&a.setContent(e.value),e.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",a.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})}}},d=(a("ui56"),a("KHd+")),m=Object(d.a)(u,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container",class:{fullscreen:this.fullscreen},style:{width:this.containerWidth}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"7bcf87bc",null);m.options.__file="index.vue";e.default=m.exports},h4HO:function(t,e,a){"use strict";var i=a("6aMj");a.n(i).a},hBjY:function(t,e,a){},hVcV:function(t,e,a){},hakG:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=a("ygAv"),n={components:{"pagination-box":o.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{status:"0",reply:""},rules:{status:[{required:!0,validator:function(t,e,a){if("1"!=e&&"2"!=e)return a(new Error("请选择审核状态")),!1;a()},trigger:"change"}]},formtype:"",currentImg:"",dialogImgsVisible:!1,searchTime:[],searchData:{startdate:"",enddate:"",object_name:"",status:"0"},page_loading:!1,tableData:[],pagination:{}}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,s.requests("post",{url:"comment/getList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):s.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getInfo:function(t){var e=this;e.page_loading||(e.page_loading=!0,s.requests("post",{url:"comment/getInfo",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.setDataArr({form:t.data,dialogFormVisible:!0}),e.form.status=String(e.form.status)):s.Message.error(t.msg)}))},resetData:function(){this.setDataArr({form:{name:"",describe:"",status:"0",reply:""},formtype:""})},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.formtype=t,e.id&&this.getInfo(e.id)},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;s.requests("post",{url:"comment/edit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(s.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):s.Message.error(e.msg)})})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,s.requests("post",{url:"comment/del",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),s.Message.success("操作成功")):s.Message.error(t.msg)}))}).catch(function(){})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},getFormatDate:s.DataFun.getFormatDate,openPage:s.openPage}},r=(a("I/z8"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"380px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入文章标题","prefix-icon":"el-icon-search"},model:{value:t.searchData.object_name,callback:function(e){t.$set(t.searchData,"object_name",e)},expression:"searchData.object_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"待审核",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"已通过",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未通过",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"object_name",label:"文章标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"grade",label:"评分",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.row.grade,callback:function(a){t.$set(e.row,"grade",a)},expression:"scope.row.grade"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"提交时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getFormatDate(e.row.create_time,2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"审核时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getFormatDate(e.row.check_time,2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["-1"==e.row.status?a("el-tag",{attrs:{effect:"plain"}},[t._v("全部")]):t._e(),t._v(" "),"0"==e.row.status?a("el-tag",{attrs:{effect:"plain"}},[t._v("待审核")]):t._e(),t._v(" "),"1"==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("已通过")]):t._e(),t._v(" "),"2"==e.row.status?a("el-tag",{attrs:{type:"info",effect:"dark"}},[t._v("未通过")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit("edit",{id:e.row.id})}}},[t._v("编辑")]):a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit("see",{id:e.row.id})}}},[t._v("查看")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),t.dialogFormVisible?a("el-dialog",{staticClass:"dialog-examine",attrs:{title:"审核",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"用户昵称","label-width":t.formLabelWidth}},[a("div",[t.form.avatar?a("img",{staticClass:"avatar",attrs:{src:t.getRealImgUrl(t.form.avatar)}}):t._e(),t._v(" "),a("span",{staticStyle:{"vertical-align":"text-bottom"}},[t._v(t._s(t.form.user_nickname))])])]),t._v(" "),a("el-form-item",{attrs:{label:"文章标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.object_name,callback:function(e){t.$set(t.form,"object_name",e)},expression:"form.object_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"评分","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.grade,callback:function(e){t.$set(t.form,"grade",e)},expression:"form.grade"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"评论内容","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),a("el-divider",[a("i",{staticClass:"el-icon-news"})]),t._v(" "),a("el-form-item",{attrs:{label:"审核状态","label-width":t.formLabelWidth,prop:"status"}},[(t.formtype,a("div",[a("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-radio",{attrs:{label:"2"}},[t._v("未通过")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("已通过")])],1)],1))]),t._v(" "),"1"==t.form.status?a("el-form-item",{attrs:{label:"官方回复","label-width":t.formLabelWidth,prop:"reply"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.form.reply,callback:function(e){t.$set(t.form,"reply",e)},expression:"form.reply"}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)])},[],!1,null,"a46eda8c",null);c.options.__file="comments.vue";e.default=c.exports},i6Zo:function(t,e,a){"use strict";a.r(e);var i=a("Z1g7"),l=a("glbJ"),o=(a("g5Kx"),a("ygAv")),s={components:{"img-upload":i.default,Tinymce:l.default},data:function(){var t=function(t,e,a){if("NaN"==parseFloat(e).toString())return a(new Error(t.message)),!1;a()};return{formData:{id:"",category_id:"",name:"",sort:0,status:"0",content:"",cover:"",keyword:"",subtitle:"",tags:"",has_comment:"1",create_time:new Date,source:"",num_read:0,num_collect:0,num_share:0,num_thumbup:0},rules:{name:[{required:!0,message:"请输入名称"}],category_id:[{required:!0,message:"请选择类别"}],sort:[{validator:t,trigger:"blur",message:"排序必须是数字"}],content:[{required:!0,message:"请输入内容详情"}],cover:[{required:!0,message:"请上传图片"}],create_time:[{required:!0,message:"请设置发布时间"}],num_read:[{validator:t,trigger:"blur",message:"阅读数必须是数字"}],num_collect:[{validator:t,trigger:"blur",message:"收藏数必须是数字"}],num_share:[{validator:t,trigger:"blur",message:"转发数必须是数字"}],num_thumbup:[{validator:t,trigger:"blur",message:"点赞数必须是数字"}]},categoryList:[],tagList:[],nearbyList:[],facilitieList:[],selected_tags:[],default_src:"",info:[],page_loading:!1}},watch:{selected_tags:function(t){console.log(t),this.formData.tags=t.join(",")}},created:function(){if(this.$urlData&&this.$urlData.id){if(!this.doMissId(this.$urlData.id))return;this.formData.id=this.$urlData.id,this.getInfo(this.formData.id)}else this.resetForm("formData");this.getCategoryList(),this.getTagList({type:0,fordo:"news"})},methods:{getInfo:function(t){var e=this;e.page_loading||(e.page_loading=!0,o.requests("post",{url:"news/getInfo",data:{id:t}}).then(function(t){if(e.page_loading=!1,1==t.code){var a=t.data;console.log(a),a.status=String(a.status);var i=[];a.tags&&(i=a.tags.split(",")),t.data.statistic&&(a.num_read=t.data.statistic.num_read,a.num_collect=t.data.statistic.num_collect,a.num_share=t.data.statistic.num_share,a.num_thumbup=t.data.statistic.num_thumbup),e.setDataArr({formData:a,selected_tags:i,default_src:e.$getRealImgUrl(a.cover)})}else o.Message.error(t.msg)}))},getCategoryList:function(){var t=this;o.requests("post",{url:"news/getCategoryList"}).then(function(e){1==e.code?t.setDataArr({categoryList:e.data.list}):o.Message.error(e.msg)})},getTagList:function(t){var e=this;o.requests("post",{url:"extra/getExtraList",data:{type:t.type,fordo:t.fordo}}).then(function(t){1==t.code?e.setDataArr({tagList:t.data.list}):o.Message.error(t.msg)})},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields&&this.$refs[t].resetFields(),this.setDataArr({formData:{id:"",category_id:"",name:"",sort:0,status:"0",content:"",cover:"",keyword:"",subtitle:"",source:"",tags:"",has_comment:"1",num_read:0,num_collect:0,num_share:0,num_thumbup:0,create_time:new Date},default_src:"",selected_tags:[]}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData(),this.$refs.editor&&this.$refs.editor.setContent("")},onUploadedImg:function(t){console.log(t);var e=t.res.info;this.formData.cover=e.url},submitForm:function(t){console.log(this.formData);var e=this;e.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(e.page_loading=!0,o.requests("post",{url:"/news/edit",data:e.formData}).then(function(t){console.log(t),e.page_loading=!1,1==t.code?o.Message.success("操作成功"):o.Message.error(t.msg)}))})},doMissId:function(t){if(!t){var e=this;return this.$alert("缺少必要的id参数，请重新打开","提示",{confirmButtonText:"确定",callback:function(t){e.openPage({hreftype:"navigateBack",url:-1})}}),!1}return!0},openPage:o.openPage}},n=(a("2rj9"),a("KHd+")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapeditor_container"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("基础信息")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"name",label:"名称","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入文章名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"status",required:"",label:"状态","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"未启用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sort",label:"排序","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"排序越大越靠前"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"source",label:"文章来源","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入文章来源"},model:{value:t.formData.source,callback:function(e){t.$set(t.formData,"source",e)},expression:"formData.source"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"create_time",label:"发布时间","label-width":"80px"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.formData.create_time,callback:function(e){t.$set(t.formData,"create_time",e)},expression:"formData.create_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"subtitle",label:"副标题","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入副标题"},model:{value:t.formData.subtitle,callback:function(e){t.$set(t.formData,"subtitle",e)},expression:"formData.subtitle"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"category_id",label:"类别选择","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类别",filterable:""},model:{value:t.formData.category_id,callback:function(e){t.$set(t.formData,"category_id",e)},expression:"formData.category_id"}},t._l(t.categoryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:Number(t.id)}})}))],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"keyword",label:"关键词","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入关键词 "},model:{value:t.formData.keyword,callback:function(e){t.$set(t.formData,"keyword",e)},expression:"formData.keyword"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"has_comment",required:"",label:"评论功能","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.has_comment,callback:function(e){t.$set(t.formData,"has_comment",e)},expression:"formData.has_comment"}},[a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1)],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n        附加信息设置\n      ")]),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{label:" 标签选择","label-width":"100px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请输入关键词",filterable:""},model:{value:t.selected_tags,callback:function(e){t.selected_tags=e},expression:"selected_tags"}},t._l(t.tagList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:String(t.id)}})}))],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n        统计信息设置\n      ")]),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_read",label:"阅读数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入阅读数 "},model:{value:t.formData.num_read,callback:function(e){t.$set(t.formData,"num_read",e)},expression:"formData.num_read"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_collect",label:"收藏数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入收藏数"},model:{value:t.formData.num_collect,callback:function(e){t.$set(t.formData,"num_collect",e)},expression:"formData.num_collect"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_share",label:"转发数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入转发数"},model:{value:t.formData.num_share,callback:function(e){t.$set(t.formData,"num_share",e)},expression:"formData.num_share"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"num_thumbup",label:"点赞数",required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入点赞数"},model:{value:t.formData.num_thumbup,callback:function(e){t.$set(t.formData,"num_thumbup",e)},expression:"formData.num_thumbup"}})],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n        图片上传\n        "),a("span",[t._v("(建议文件小于3M)")])]),t._v(" "),a("el-row",{staticClass:"mapeditor-content"},[a("el-col",{attrs:{lg:16,sm:20,xs:24}},[a("el-form-item",{attrs:{prop:"cover",label:"封面图","label-width":"90px"}},[a("img-upload",{ref:"imgUpload",attrs:{default_src:t.default_src,url:"Upload/imgUpload",uploadedImg:t.onUploadedImg,thumb:{isthumb:1,width:480,height:480}},on:{"update:default_src":function(e){t.default_src=e}}})],1)],1)],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"mapeditor-title"},[t._v("\n        内容详情\n      ")]),t._v(" "),a("el-row",{staticClass:"mapeditor-content",attrs:{gutter:60}},[a("el-col",{attrs:{lg:16,sm:20,xs:24}},[a("el-form-item",{attrs:{prop:"content",label:"内容详情",required:"","label-width":"80px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(e){t.submitForm("formData")}}},[t._v("保存")]),t._v(" "),t.formData.id?t._e():a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm("formData")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1)],1)},[],!1,null,"5977909c",null);r.options.__file="edit.vue";e.default=r.exports},iIDF:function(t,e,a){"use strict";var i=a("/gPe");a.n(i).a},iiu4:function(t,e,a){"use strict";var i=a("D5Ue");a.n(i).a},"j/y9":function(t,e,a){},jNvO:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pic-404"},[e("img",{staticClass:"pic-404__parent",attrs:{src:a("o2sD"),alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child left",attrs:{src:a("Jvyq"),alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child mid",attrs:{src:a("Jvyq"),alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child right",attrs:{src:a("Jvyq"),alt:"404"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bullshit__info"},[this._v("版权所有\n        "),e("a",{staticClass:"link-type",attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[this._v("华尔街见闻")])])}],l={name:"Page404",computed:{message:function(){return"网管说这个页面你不能进......"}}},o=(a("yGHO"),a("KHd+")),s=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[t._m(0),t._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[t._v("OOPS!")]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"bullshit__headline"},[t._v(t._s(t.message))]),t._v(" "),a("div",{staticClass:"bullshit__info"},[t._v("请检查您输入的网址是否正确，请点击以下按钮返回主页或者发送错误报告")]),t._v(" "),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[t._v("返回首页")])])])])},i,!1,null,"9b45c3f8",null);s.options.__file="404.vue";e.default=s.exports},jwjx:function(t,e,a){},kKQ8:function(t,e,a){},kRSo:function(t,e,a){},kbWQ:function(t,e,a){"use strict";var i=a("I0fP");a.n(i).a},kxxL:function(t,e,a){"use strict";var i=a("QbLZ"),l=a.n(i),o=(a("Q2AE"),document.body,null);e.a={methods:{resetData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)this.setDataArr({_$origin_data:this.$DeepCopy(t)}),o=e;else{var a=this.$DeepCopy(this.$data._$origin_data);this.setDataArr(l()({},a)),o&&o()}}}}},l99O:function(t,e,a){"use strict";var i=a("EOD4");a.n(i).a},lTwH:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("YEIV"),s=a.n(o),n=a("kxxL"),r=a("ygAv"),c={name:"live-room",mixins:[n.a],directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},props:s()({region_no:{default:function(){return""}},show:{type:Boolean,default:function(){return!1}}},"region_no",{default:function(){return""}}),watch:{innerDialogVisible:function(t){this.$emit("update:show",t)},show:function(t){this.innerDialogVisible=t}},data:function(){return{url:"LiveRoom/getList",innerTableData:[],innerDialogVisible:!1,innerSearch:{name:"",region_no:""},innerLoads:{loadSign:!1,page:0,last_page:1}}},created:function(){},methods:{openPage:r.openPage,clearEstates:function(){this.formData.estates_name="",this.formData.forid=0},innerSelcetRow:function(t){this.innerDialogVisible=!1,this.$emit("innerFormData",{id:t.id,name:t.room_name})},onInnerSerch:function(){this.innerSearch.region_no=this.region_no,this.getList(l()({page:1},this.innerSearch))},innerLoadMore:function(){this.getList(l()({page:this.innerLoads.page+1},this.innerSearch))},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;if(1!=e.innerLoads.loadSign){var a=t.page;t.field="en.name,en.id",1==a&&(e.innerLoads.last_page=1,e.innerTableData=[]),a>e.innerLoads.last_page||(e.innerLoads.loadSign=!0,r.requests("post",{url:e.url,data:t}).then(function(t){if(e.innerLoads.loadSign=!1,1==t.code){for(var a in t.data.list)e.innerTableData.push(t.data.list[a]);e.innerLoads.last_page=t.data.last_page,e.innerLoads.page=t.data.current_page}else r.Message.error(t.msg)}))}}}},u=(a("qwIj"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"50%",title:"直播",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.innerSearch}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"标题","prefix-icon":"el-icon-search"},model:{value:t.innerSearch.room_name,callback:function(e){t.$set(t.innerSearch,"room_name",e)},expression:"innerSearch.room_name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onInnerSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.innerLoadMore,expression:"innerLoadMore"}],ref:"innerTable",staticStyle:{width:"100%"},attrs:{data:t.innerTableData,height:"350px","highlight-current-row":"",border:""},on:{"row-click":t.innerSelcetRow}},[a("el-table-column",{attrs:{property:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{property:"room_name",label:"标题"}})],1)],1)},[],!1,null,"d5fa7274",null);d.options.__file="LiveRoom.vue";e.default=d.exports},lZWk:function(t,e,a){},leil:function(t,e,a){},lpj6:function(t,e,a){"use strict";var i=a("jwjx");a.n(i).a},lzmk:function(t,e,a){"use strict";var i=a("ef6u");a.n(i).a},m2tw:function(t,e,a){},mzYu:function(t,e,a){},"nF1/":function(t,e,a){},nPtC:function(t,e,a){},ngqX:function(t,e,a){"use strict";var i=a("m2tw");a.n(i).a},njJi:function(t,e,a){},nn3l:function(t,e,a){},nsTj:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=(a("Zd91"),a("kxxL")),c=a("ygAv"),u={components:{"img-upload":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{title:[{required:!0,message:"请输入栏目名称",trigger:"change"}]},searchData:{status:"-1",type:"-1"},tableData:[],formData:{type:"0",title:"",place:"",status:"0",sort:"0",cover:"",href:"",page_title:"",page_keywords:"",page_desc:""}}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"column/getList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.default_src=this.$getRealImgUrl(this.formData.cover)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;c.requests("post",{url:"column/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"column/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"column/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("6CNt"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"H5端",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"icon图",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cover?a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.cover)}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.type?a("el-tag",[t._v("H5端")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"place",label:"使用位置",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"title","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分组标识","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.place,callback:function(e){t.$set(t.formData,"place",e)},expression:"formData.place"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"跳转地址","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.href,callback:function(e){t.$set(t.formData,"href",e)},expression:"formData.href"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"页面标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_title,callback:function(e){t.$set(t.formData,"page_title",e)},expression:"formData.page_title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"页面关键字","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_keywords,callback:function(e){t.$set(t.formData,"page_keywords",e)},expression:"formData.page_keywords"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"页面描述","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.page_desc,callback:function(e){t.$set(t.formData,"page_desc",e)},expression:"formData.page_desc"}})],1),t._v(" "),a("el-form-item",{ref:"cover",attrs:{label:"上传图片","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"0"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[t._v("H5端")])],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"015a5a4f",null);m.options.__file="column.vue";e.default=m.exports},ntYl:function(t,e,a){"use strict";a.r(e);var i=a("iCc5"),l=a.n(i),o=a("V7oC"),s=a.n(o),n=(a("Yfch"),{name:"Login",data:function(){return{site:this.$baseconfig.sitename,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(t,e,a){a()}}],password:[{required:!0,trigger:"blur",validator:function(t,e,a){e.length<5?a(new Error("密码不能小于5位")):a()}}]},loading:!1,pwdType:"password",redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},mounted:function(){this.bg()},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.$store.dispatch("Login",t.loginForm).then(function(){t.loading=!1,t.$router.push({path:t.redirect||"/"})}).catch(function(e){t.$message({message:e,type:"error",duration:5e3}),t.loading=!1})})},bg:function(){var t=[],e=100,a=100,i=100*e,o=!1;setTimeout(function(){o=!0}.bind(this),i),m(100);var n=this.$refs.loginbox.clientWidth,r=this.$refs.loginbox.clientHeight,c=document.createElement("canvas");c.width=n,c.height=r,this.$refs.loginbox.appendChild(c);var u=c.getContext("2d"),d=function(){function t(e,a){l()(this,t);var i=["#feea00","#a9df85","#5dc0ad","#ff9a00","#fa3f20"],o=["full","fill","empty"];this.random=Math.random(),this.canvas=e,this.progress=0,this.x=n/2+(200*Math.random()-200*Math.random()),this.y=r/2+(200*Math.random()-200*Math.random()),this.w=n,this.h=r,this.radius=1+8*this.random,this.type=o[this.randomIntFromInterval(0,o.length-1)],this.color=i[this.randomIntFromInterval(0,i.length-1)],this.a=0,this.s=(this.radius+1*Math.random())/10}return s()(t,[{key:"getCoordinates",value:function(){return{x:this.x,y:this.y}}},{key:"randomIntFromInterval",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"render",value:function(){var t=.2+2.8*this.random,e=this.color;switch(this.type){case"full":this.createArcFill(this.radius,e),this.createArcEmpty(this.radius+t,t/2,e);break;case"fill":this.createArcFill(this.radius,e);break;case"empty":this.createArcEmpty(this.radius,t,e)}}},{key:"createArcFill",value:function(t,e){this.canvas.beginPath(),this.canvas.arc(this.x,this.y,t,0,2*Math.PI),this.canvas.fillStyle=e,this.canvas.fill(),this.canvas.closePath()}},{key:"createArcEmpty",value:function(t,e,a){this.canvas.beginPath(),this.canvas.arc(this.x,this.y,t,0,2*Math.PI),this.canvas.lineWidth=e,this.canvas.strokeStyle=a,this.canvas.stroke(),this.canvas.closePath()}},{key:"move",value:function(){return this.x+=Math.cos(this.a)*this.s,this.y+=Math.sin(this.a)*this.s,this.a+=.4*Math.random()-.2,!(this.x<0||this.x>this.w-this.radius)&&(!(this.y<0||this.y>this.h-this.radius)&&(this.render(),!0))}},{key:"calculateDistance",value:function(t,e){var a=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.sqrt(a*a+i*i)}}]),t}();function m(a){for(var i=0;i<a;i++)setTimeout(function(){t.push(new d(u))},e*i);return t.length}!function e(){u.fillStyle="#111",u.fillRect(0,0,c.width,c.height),function(){var e=null;for(var a in t){var i=t[a];if(a>0){var l=e.getCoordinates(),o=i.getCoordinates();u.beginPath(),u.moveTo(l.x,l.y),u.lineTo(o.x,o.y),u.lineWidth=.45,u.strokeStyle="#3f47ff",u.stroke(),u.closePath()}e=i}}(),t=t.filter(function(t){return t.move()}),o&&t.length<a&&m(1),requestAnimationFrame(e.bind(this))}()}}}),r=(a("VRBp"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loginbox",staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[a("h3",{staticClass:"title"},[t._v(t._s(t.site))]),t._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),a("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"username"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),a("el-input",{attrs:{type:t.pwdType,name:"password","auto-complete":"on",placeholder:"password"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),t._v(" "),a("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===t.pwdType?"eye":"eye-open"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("\n        登录\n      ")])],1)],1)],1)},[],!1,null,"17d73c5a",null);c.options.__file="index.vue";e.default=c.exports},o2sD:function(t,e,a){t.exports=a.p+"vue_static999admin/img/404.a57b6f3.png"},oBSS:function(t,e,a){},oFJ8:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=(a("Zd91"),a("kxxL")),c=a("ygAv"),u={components:{"img-upload":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}]},searchData:{status:"-1",type:"-1"},tableData:[],formData:{name:"",type:"1",status:"0"}}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;c.requests("post",{url:"build/getTagList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;c.requests("post",{url:"build/enableTag",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?c.Message.success("操作成功"):c.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"build/delTag",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,c.requests("post",{url:"build/editTag",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})}}},d=(a("lzmk"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"模块类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.fordo,callback:function(e){t.$set(t.searchData,"fordo",e)},expression:"searchData.fordo"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"文章资讯",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"视频",value:"2"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标签名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"fordo",label:"模块类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.fordo?a("el-tag",[t._v("文章资讯")]):t._e(),t._v(" "),"2"==e.row.fordo?a("el-tag",[t._v("视频")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"模块类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.fordo,callback:function(e){t.$set(t.formData,"fordo",e)},expression:"formData.fordo"}},[a("el-option",{attrs:{label:"文章资讯",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"视频",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"b36e3216",null);m.options.__file="tag.vue";e.default=m.exports},oGLJ:function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=(a("MCLT"),a("ygAv")),c={components:{"pagination-box":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{user_nickname:"",editscore:""},searchData:{sort:"id",user_nickname:"",city_code_id:""},page_loading:!1,tableData:[],pagination:{},caneditSource:!1,total:0}},created:function(){this.getList()},methods:{switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,r.requests("post",{url:"user/userChange",data:{id:t,user_type:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),r.Message.success("操作成功")):r.Message.error(t.msg)}))},switchChange1:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,r.requests("post",{url:"user/userDisableChange",data:{id:t,is_disable:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSerch(),r.Message.success("操作成功")):r.Message.error(t.msg)}))},showEditSource:function(){this.caneditSource=!this.caneditSource,!1===this.caneditSource&&(this.form.editscore="")},doEditSource:function(){var t=this;t.page_loading||(t.page_loading=!0,r.requests("post",{url:"user/addSource",data:{editscore:t.form.editscore,user_id:t.form.id}}).then(function(e){t.page_loading=!1,1==e.code?r.Message.success("操作成功"):r.Message.error(e.msg)}))},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,t.city_code_id=e.$urlData.$activeCity.id,r.requests("post",{url:"user/list",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)},total:t.data.total}):r.Message.error(t.msg)}))},onSerch:function(){console.log("查询",this.searchData),this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,l()(t).length>0&&(this.form=s()({},t),this.form.avatar=this.$getRealImgUrl(this.form.avatar))},getFormatDate:function(t){return r.DataFun.getFormatDate(t,2)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)}}},u=(a("+ca/"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"昵称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:t.searchData.user_nickname,callback:function(e){t.$set(t.searchData,"user_nickname",e)},expression:"searchData.user_nickname"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.getRealImgUrl(e.row.headimgurl)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"站点城市",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"手机号码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否封号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":0,"inactive-value":1,disabled:1==e.row.id},on:{change:function(a){t.switchChange1(e.row.id,a)}},model:{value:e.row.is_disable,callback:function(a){t.$set(e.row,"is_disable",a)},expression:"scope.row.is_disable"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"注册时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.getFormatDate(e.row.create_time))+"\n      ")]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("pagination-box",{staticStyle:{display:"inline-block"},attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-link",{staticStyle:{"margin-top":"10px","pointer-events":"none"}},[t._v("共有 "),a("el-link",{staticStyle:{"pointer-events":"none","margin-top":"-2px"},attrs:{type:"primary"}},[t._v(t._s(t.total))]),t._v(" 用户")],1)],1),t._v(" "),a("el-dialog",{staticClass:"user-dialog",attrs:{title:"用户信息",visible:t.dialogFormVisible,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{lg:7,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"用户头像","label-width":t.formLabelWidth}},[a("el-image",{staticStyle:{width:"95px"},attrs:{src:t.form.avatar}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:17,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"用户昵称","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.user_nickname))])]),t._v(" "),a("el-form-item",{attrs:{label:"地址信息","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.province+" - "+t.form.city))])]),t._v(" "),a("el-form-item",{attrs:{label:"注册时间","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.getFormatDate(t.form.create_time)))])])],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.form.user_nickname))]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:12,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"最后登录IP","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.form.last_login_ip))])]),t._v(" "),a("el-form-item",{attrs:{label:"最后登录时间","label-width":t.formLabelWidth}},[a("div",[t._v(t._s(t.getFormatDate(t.form.last_login_time)))])])],1)],1)],1)],1)],1)},[],!1,null,"148ce0d4",null);d.options.__file="userList.vue";e.default=d.exports},okyx:function(t,e,a){},osEN:function(t,e,a){"use strict";var i=a("9rud");a.n(i).a},ptdu:function(t,e,a){"use strict";var i=a("QlFP");a.n(i).a},"q/hb":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=(a("Z1g7"),a("kxxL")),c=a("ygAv"),u={components:{"pagination-box":n.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",page_loading:"",estate_id:0,searchData:{},tableData:[],formData:{name:"",sale_status:"1",building_type:"",floor_number:"",unit:"",house_number:""},pagination:{},rules:{name:[{required:!0,message:"请输入楼栋名称",trigger:"change"}]}}},created:function(){this.$urlData&&this.$urlData.id&&(this.estate_id=this.$urlData.id),this.resetData({formData:this.formData},function(){}),this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.$urlData&&this.$urlData.id){var e=this;t.estate_id=this.$urlData.id,c.requests("post",{url:"estates/getEstatesnewBuildingList",data:t}).then(function(t){e.tableData=t.data.list,e.setDataArr({pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}})})}},onSearch:function(){this.getList(this.searchData)},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c.requests("post",{url:"estates/delEstateBuilding",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(t).length>0&&(this.formData=s()({},t),this.formData.sale_status=String(this.formData.sale_status)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,e.$urlData&&e.$urlData.id?a.formData.estate_id=e.$urlData.id:a.formData.estate_id=0,c.requests("post",{url:"estates/editEstatesnewBuilding",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:c.openPage}},d=(a("g1eF"),a("KHd+")),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入楼栋名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"楼栋名称",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/estates/estatesnew_house",data:{building_id:e.row.id,estate_id:t.estate_id}})}}},[t._v("户型")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"楼栋名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"sale_status",label:"销售状态","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("待售")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("在售")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("售罄")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("尾盘")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"楼型",prop:"building_type","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.building_type,callback:function(e){t.$set(t.formData,"building_type",e)},expression:"formData.building_type"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"层级",prop:"floor_number","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{label:"层级"},model:{value:t.formData.floor_number,callback:function(e){t.$set(t.formData,"floor_number",e)},expression:"formData.floor_number"}}),t._v("层\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"unit",label:"每层几单元","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{label:"每层几单元"},model:{value:t.formData.unit,callback:function(e){t.$set(t.formData,"unit",e)},expression:"formData.unit"}}),t._v("单元\n            ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"house_number",label:"户数","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{label:"户数"},model:{value:t.formData.house_number,callback:function(e){t.$set(t.formData,"house_number",e)},expression:"formData.house_number"}}),t._v("户\n            ")],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"f2136428",null);m.options.__file="EstatesnewBuilding.vue";e.default=m.exports},q2cZ:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=a("ygAv"),c={components:{"pagination-box":n.default},directives:{loadmore:{bind:function(t,e,a){t.querySelector(".el-table__body-wrapper").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop-this.clientHeight<=100&&e.value()})}}},data:function(){return{activeName:"2",region_no:"",weixinTitle:"公众号菜单",menu:{button:[]},selectedMenuIndex:"",selectedSubMenuIndex:"",menuNameBounds:!1,materialBox:!1,dialogTableVisible:!1,pagination:{},loadingData:!1,loadSign:!0,page:1,last_page:"",radioStatus:!0,urlTitle:!1,material:{title:"",url:"",thumb_url:""},type_options:[{label:"跳转网页(view)",value:"view"},{label:"发送消息(media_id)",value:"media_id"},{label:"打开指定小程序(miniprogram)",value:"miniprogram"}],form:{},rules:{},listData:[],articleList:[],count:0,busy:!1,mask:[],sure:[],selectArticleIndex:"",articleSelectStatus:!0,formArticle:{title:""},articleBox:!1,scpage:1,tableData:[],tempData:[],multipleSelection:[],radio:"",radioValue:[],selected:{}}},created:function(){this.region_no=this.$urlData.region_no,this.getInfo()},watch:{},methods:{tabClick:function(t){"1"==t.name&&r.openPage({url:"/admin/cityset",data:{region_no:this.region_no}}),"3"==t.name&&r.openPage({url:"/admin/citypricelog",data:{region_no:this.region_no}})},loadMore2:function(){var t=this,e=this;e.busy=!0,setTimeout(function(){e.scpage++,t.searchSource()},1e3)},searchSource:function(){var t=this,e=this;r.requests("post",{url:"wxset/getImageTextList2",data:{page:e.scpage,region_no:e.region_no}}).then(function(a){1==a.code?(console.log(a),console.log(e.scpage),a.data.list?(e.scrollDisabled=!1,e.listData=e.listData.concat(a.data.list),e.articleBox=!1):(e.scrollDisabled=!0,1==e.scpage&&(e.articleBox=!0)),t.busy=!1):r.Message.error(a.msg)})},selectMaterialId:function(){this.materialBox=!0;var t=this;r.requests("post",{url:"wxset/getImageTextList2",data:{region_no:t.region_no}}).then(function(e){console.log(e),t.setDataArr({listData:e.data.list})})},onImageTextSure:function(){this.materialBox=!1,this.articleList=this.listData[this.selectArticleIndex].val,this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].media_id=this.listData[this.selectArticleIndex].media_id,this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].title=this.listData[this.selectArticleIndex].title},closeArticle:function(){var t=[],e=[];for(var a in this.listData)t.push(!1),e.push(!1);this.setDataArr({sure:t,mask:e,selectArticleIndex:""}),this.articleSelectStatus=!0},onMaterialTitleSerch:function(){console.log(this.formArticle),this.selectArticleIndex="",this.articleSelectStatus=!0;var t=this;r.requests("post",{url:"wxset/getImageTextList2",data:{title:this.formArticle.title,region_no:t.region_no}}).then(function(e){console.log(e),t.setDataArr({listData:e.data.list})})},articleClick:function(t){console.log(t),this.selectArticleIndex=t,this.articleSelectStatus=!1;var e=[];for(var a in this.listData)e.push(!1);e[t]=!0,this.setDataArr({sure:e})},onMouseOver:function(t){this.mask[t]=!0;var e=[];for(var a in this.mask)e.push(this.mask[a]);this.setDataArr({mask:e})},onMouseout:function(t){this.mask[t]=!1;var e=[];for(var a in this.mask)e.push(this.mask[a]);this.setDataArr({mask:e})},onImageTextCancel:function(){this.materialBox=!1},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},closeMaterial:function(){this.radioStatus=!0,this.material.title="",this.tableData=this.tempData},loadMore:function(){var t=this;if(this.loadSign){if(this.loadSign=!1,this.page++,this.page>this.last_page)return;this.getMaterialList({type:"news",page:this.page}),setTimeout(function(){t.loadSign=!0},1e3)}},handleCurrentChange:function(t,e){this.currentRow=t},getCurrentRow:function(t){},onSure:function(){1==this.selectedMenuLevel()?this.menu.button[this.selectedMenuIndex].title=this.radioValue.title:2==this.selectedMenuLevel()&&(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].title=this.radioValue.title),this.checkUrlTitle(),""!==this.selectedSubMenuIndex?this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].url=this.radioValue.url:this.menu.button[this.selectedMenuIndex].url=this.radioValue.url,this.dialogTableVisible=!1},onSerch:function(){this.radio="",this.radioStatus=!0;var t=[];if(this.material.title.length>0){for(var e in this.tempData)-1!=this.tempData[e].title.indexOf(this.material.title)&&t.push(this.tempData[e]);this.tableData=t}else this.tableData=this.tempData},pageChange:function(t){var e=s()({},this.material,{type:"news"});e.page=t,this.getMaterialList(e)},showRow:function(t){this.radioStatus=!1,this.radio=this.tableData.indexOf(t),this.radioValue=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},getInfo:function(){var t=this;r.requests("post",{url:"wxset/menuInfo",data:{key:"wechat_menu",region_no:t.region_no}}).then(function(e){if(1==e.code){var a=[];""!=e.data.list[0].val&&(e.data.list[0].val.forEach(function(t){void 0!==t.sub_button&&null!=t.sub_button||(t.sub_button=[])}),a=e.data.list[0].val),t.setDataArr({menu:{button:a}})}else r.Message.error(e.msg)})},validateUrl:function(t){return!!/^((ht|f)tps?):\/\/([\w-]+(\.[\w-]+)*\/?)+(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?$/.test(t)},checkUrl:function(t){this.urlTitle=!1,this.validateUrl(t)||r.Message.error("请输入正确的URL")},onCancel:function(){this.dialogTableVisible=!1},onSubmit:function(){console.log(this.menu);var t="wxmenu";0==this.menu.button.length&&(t="menuDelete"),r.requests("post",{url:"wxset/"+t,data:l()({},this.menu,{region_no:this.region_no})}).then(function(t){1==t.code?r.Message.success(t.msg):r.Message.error(t.msg)})},cardingData:function(){var t=this;this.menu.button.forEach(function(e){(0!=e.sub_button.length&&e.sub_button.forEach(function(e){t.validateUrl(e.url)||(e.url="")}),""!=e.url)&&(t.validateUrl(e.url)||(e.url=""))})},selectedMenu:function(t){if("sub"!=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")){this.selectedMenuIndex=t,this.selectedSubMenuIndex="";var e=this.menu.button[this.selectedMenuIndex]}else{this.selectedSubMenuIndex=t;e=this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex]}void 0!=e.media_id&&""!=e.media_id&&"media_id"==this.selectedMenuType()&&this.getMaterial(e.media_id),this.checkMenuName(e.name)},selectedMenuLevel:function(){return""!==this.selectedMenuIndex&&""===this.selectedSubMenuIndex?1:""!==this.selectedMenuIndex&&""!==this.selectedSubMenuIndex?2:0},selectedMenuType:function(){return 1==this.selectedMenuLevel()&&0==this.menu.button[this.selectedMenuIndex].sub_button.length?this.menu.button[this.selectedMenuIndex].type:2==this.selectedMenuLevel()?this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].type:void 0},addMenu:function(t){1==t&&this.menu.button.length<3&&(this.menu.button.push({type:"view",name:"菜单名称",sub_button:[],url:""}),this.selectedMenuIndex=this.menu.button.length-1,this.selectedSubMenuIndex="",this.checkMenuName(this.menu.button[this.selectedMenuIndex].name)),2==t&&this.menu.button[this.selectedMenuIndex].sub_button.length<5&&(this.menu.button[this.selectedMenuIndex].sub_button.push({type:"view",name:"子菜单名称",url:""}),this.selectedSubMenuIndex=this.menu.button[this.selectedMenuIndex].sub_button.length-1,this.checkMenuName(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].name))},delMenu:function(){1==this.selectedMenuLevel()&&confirm("删除后菜单下设置的内容将被删除")?(0===this.selectedMenuIndex?(this.menu.button.splice(this.selectedMenuIndex,1),this.selectedMenuIndex=0):(this.menu.button.splice(this.selectedMenuIndex,1),this.selectedMenuIndex-=1),0==this.menu.button.length&&(this.selectedMenuIndex="")):2==this.selectedMenuLevel()&&(0===this.selectedSubMenuIndex?(this.menu.button[this.selectedMenuIndex].sub_button.splice(this.selectedSubMenuIndex,1),this.selectedSubMenuIndex=0):(this.menu.button[this.selectedMenuIndex].sub_button.splice(this.selectedSubMenuIndex,1),this.selectedSubMenuIndex-=1),0==this.menu.button[this.selectedMenuIndex].sub_button.length&&(this.selectedSubMenuIndex=""))},checkMenuName:function(t){1==this.selectedMenuLevel()&&this.getMenuNameLen(t)<=8?this.menuNameBounds=!1:2==this.selectedMenuLevel()&&this.getMenuNameLen(t)<=16?this.menuNameBounds=!1:this.menuNameBounds=!0,this.checkUrlTitle()},checkUrlTitle:function(){this.urlTitle=!1,1==this.selectedMenuLevel()?void 0!==this.menu.button[this.selectedMenuIndex].title&&(this.urlTitle=!0):2==this.selectedMenuLevel()?void 0!==this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].title&&(this.urlTitle=!0):this.urlTitle=!1},getMenuNameLen:function(t){for(var e=0,a=0;a<t.length;a++){null!=t.charAt(a).match(/[^\x00-\xff]/gi)?e+=2:e+=1}return e},selectNewsUrl:function(t){this.dialogTableVisible=!0,""!==this.last_page&&this.page>=this.last_page||this.getMaterialList({type:"news",page:this.page})},getMaterialList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.loadingData=!0,r.requests("post",{url:"wxset/getMaterialList",data:l()({},t,{region_no:e.region_no})}).then(function(t){if(e.loadingData=!1,1==t.code){for(var a in t.data.list)e.tableData.push(t.data.list[a]);e.setDataArr({tempData:e.tableData,last_page:t.data.last_page})}else r.Message.error(t.msg)})},setMaterialId:function(t,e,a){1==this.selectedMenuLevel()?Vue.set(this.menu.button[this.selectedMenuIndex],"media_id",t):2==this.selectedMenuLevel()&&Vue.set(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex],"media_id",t),this.material.title=e,this.material.url=a},delMaterialId:function(){1==this.selectedMenuLevel()?this.menu.button[this.selectedMenuIndex].media_id="":2==this.selectedMenuLevel()&&(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].media_id="",this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex].title=""),this.menu=s()({},this.menu)},setNewsUrl:function(t){1==this.selectedMenuLevel()?Vue.set(this.menu.button[this.selectedMenuIndex],"url",t):2==this.selectedMenuLevel()&&Vue.set(this.menu.button[this.selectedMenuIndex].sub_button[this.selectedSubMenuIndex],"url",t)}}},u=(a("a3w+"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"mapeditor-title"},[t._v("微信公众号菜单设置")]),t._v(" "),a("div",{staticClass:"content",staticStyle:{width:"900px",margin:"0 auto"}},[a("div",{attrs:{id:"app-menu"}},[a("div",{staticClass:"weixin-preview"},[a("div",{staticClass:"weixin-hd"},[a("div",{staticClass:"weixin-title"},[t._v(t._s(t.weixinTitle))])]),t._v(" "),a("div",{staticClass:"weixin-bd"},[a("ul",{staticClass:"weixin-menu",attrs:{id:"weixin-menu"}},[t._l(t.menu.button,function(e,i){return a("li",{key:i,staticClass:"menu-item",class:{current:t.selectedMenuIndex===i&&1==t.selectedMenuLevel()},on:{click:function(e){t.selectedMenu(i)}}},[a("div",{staticClass:"menu-item-title"},[a("i",{staticClass:"icon_menu_dot"}),t._v(" "),a("span",[t._v(t._s(e.name))])]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.selectedMenuIndex===i,expression:"selectedMenuIndex===i"}],staticClass:"weixin-sub-menu"},[t._l(e.sub_button,function(e,i){return a("li",{key:i,staticClass:"menu-sub-item",class:{current:t.selectedSubMenuIndex===i&&2==t.selectedMenuLevel()},on:{click:function(e){e.stopPropagation(),t.selectedMenu(i,"sub")}}},[a("div",{staticClass:"menu-item-title"},[a("span",[t._v(t._s(e.name))])])])}),t._v(" "),e.sub_button.length<5?a("li",{staticClass:"menu-sub-item",on:{click:function(e){e.stopPropagation(),t.addMenu(2)}}},[t._m(0,!0)]):t._e(),t._v(" "),a("i",{staticClass:"menu-arrow arrow_out"}),t._v(" "),a("i",{staticClass:"menu-arrow arrow_in"})],2)])}),t._v(" "),t.menu.button.length<3?a("li",{staticClass:"menu-item",on:{click:function(e){t.addMenu(1)}}},[a("i",{staticClass:"icon14_menu_add"})]):t._e()],2)])]),t._v(" "),1==t.selectedMenuLevel()?a("div",{staticClass:"weixin-menu-detail"},[a("div",{staticClass:"menu-input-group",staticStyle:{"border-bottom":"2px #e8e8e8 solid"}},[a("div",{staticClass:"menu-name"},[t._v(t._s(t.menu.button[t.selectedMenuIndex].name))]),t._v(" "),a("div",{staticClass:"menu-del",on:{click:t.delMenu}},[t._v("删除菜单")])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("菜单名称")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].name,expression:"menu.button[selectedMenuIndex].name"}],staticClass:"menu-input-text",attrs:{type:"text",name:"name",placeholder:"请输入菜单名称"},domProps:{value:t.menu.button[t.selectedMenuIndex].name},on:{input:[function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"name",e.target.value)},function(e){t.checkMenuName(t.menu.button[t.selectedMenuIndex].name)}]}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.menuNameBounds,expression:"menuNameBounds"}],staticClass:"menu-tips",staticStyle:{color:"#e15f63"}},[t._v("字数超过上限")]),t._v(" "),a("p",{staticClass:"menu-tips"},[t._v("字数不超过4个汉字或8个字母")])])]),t._v(" "),0==t.menu.button[t.selectedMenuIndex].sub_button.length?[a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("菜单内容")]),t._v(" "),a("el-select",{staticStyle:{width:"300px","margin-left":"10px"},model:{value:t.menu.button[t.selectedMenuIndex].type,callback:function(e){t.$set(t.menu.button[t.selectedMenuIndex],"type",e)},expression:"menu.button[selectedMenuIndex].type"}},t._l(t.type_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),"view"==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("订阅者点击该子菜单会跳到以下链接")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("页面地址")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].url,expression:"menu.button[selectedMenuIndex].url"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].url},on:{change:function(e){t.checkUrl(t.menu.button[t.selectedMenuIndex].url)},input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"url",e.target.value)}}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.urlTitle,expression:"urlTitle"}],staticClass:"menu-tips cursor"},[t._v("来自素材库 - 《"+t._s(t.menu.button[t.selectedMenuIndex].title)+"》")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.urlTitle,expression:"urlTitle"}],attrs:{plain:""},on:{click:function(e){t.selectNewsUrl()}}},[t._v("重新选择")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.urlTitle,expression:"!urlTitle"}],staticClass:"menu-tips cursor",on:{click:function(e){t.selectNewsUrl()}}},[t._v("从公众号图文消息中选择")])],1)])]):"media_id"==t.selectedMenuType()?a("div",{staticClass:"menu-msg-content"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"用户管理"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"icon_msg_sender"}),t._v(" 图文消息")]),t._v(" "),a("div",{staticClass:"menu-msg-panel"},[""==t.menu.button[t.selectedMenuIndex].media_id||void 0==t.menu.button[t.selectedMenuIndex].media_id?a("div",{staticClass:"menu-msg-select",on:{click:t.selectMaterialId}},[a("i",{staticClass:"icon36_common add_gray"}),t._v(" "),a("strong",[t._v("从素材库中选择")])]):a("div",{staticClass:"menu-msg-select"},[a("div",{staticClass:"menu-msg-title"},[a("i",{staticClass:"icon_msg_sender"}),t._v("\n                      "+t._s(t.material.title)+"\n                    ")]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-info",attrs:{href:t.material.url,target:"_blank"}},[t._v("查看")]),t._v(" "),a("div",{staticClass:"btn btn-sm btn-danger",on:{click:t.delMaterialId}},[t._v("删除")])])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"配置管理"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"icon_t"}),t._v(" "),a("img",{attrs:{src:"",alt:""}}),t._v("文字")]),t._v("\n                配置管理")]),t._v(" "),a("el-tab-pane",{attrs:{label:"角色管理"}},[t._v("角色管理")]),t._v(" "),a("el-tab-pane",{attrs:{label:"定时任务补偿"}},[t._v("定时任务补偿")])],1)],1):"miniprogram"==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("订阅者点击该子菜单会跳到以下小程序")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("小程序APPID")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].appid,expression:"menu.button[selectedMenuIndex].appid"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"小程序的appid（仅认证公众号可配置）"},domProps:{value:t.menu.button[t.selectedMenuIndex].appid},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"appid",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("小程序路径")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].pagepath,expression:"menu.button[selectedMenuIndex].pagepath"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"小程序的页面路径 pages/Index/index"},domProps:{value:t.menu.button[t.selectedMenuIndex].pagepath},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"pagepath",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("备用网页")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].url,expression:"menu.button[selectedMenuIndex].url"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].url},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"url",e.target.value)}}}),t._v(" "),a("p",{staticClass:"menu-tips"},[t._v("旧版微信客户端无法支持小程序，用户点击菜单时将会打开备用网页。")])])])]):3==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("用于消息接口推送，不超过128字节")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("菜单KEY值")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].key,expression:"menu.button[selectedMenuIndex].key"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].key},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex],"key",e.target.value)}}})])])]):t._e()]:t._e()],2):t._e(),t._v(" "),2==t.selectedMenuLevel()?a("div",{staticClass:"weixin-menu-detail"},[a("div",{staticClass:"menu-input-group",staticStyle:{"border-bottom":"2px #e8e8e8 solid"}},[a("div",{staticClass:"menu-name"},[t._v(t._s(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].name))]),t._v(" "),a("div",{staticClass:"menu-del",on:{click:t.delMenu}},[t._v("删除子菜单")])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("子菜单名称")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].name,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].name"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"请输入子菜单名称"},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].name},on:{input:[function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"name",e.target.value)},function(e){t.checkMenuName(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].name)}]}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.menuNameBounds,expression:"menuNameBounds"}],staticClass:"menu-tips",staticStyle:{color:"#e15f63"}},[t._v("字数超过上限")]),t._v(" "),a("p",{staticClass:"menu-tips"},[t._v("字数不超过8个汉字或16个字母")])])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("子菜单内容")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("el-select",{staticStyle:{width:"300px","margin-left":"10px"},model:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].type,callback:function(e){t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"type",e)},expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].type"}},t._l(t.type_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),"view"==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("订阅者点击该子菜单会跳到以下链接")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("页面地址")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].url"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url},on:{change:function(e){t.checkUrl(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url)},input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"url",e.target.value)}}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.urlTitle,expression:"urlTitle"}],staticClass:"menu-tips cursor",staticStyle:{color:"#8D8D8D","font-size":"14px"}},[t._v("来自素材库 - 《"+t._s(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].title)+"》")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.urlTitle,expression:"urlTitle"}],attrs:{plain:""},on:{click:function(e){t.selectNewsUrl()}}},[t._v("重新选择")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.urlTitle,expression:"!urlTitle"}],staticClass:"menu-tips cursor",on:{click:function(e){t.selectNewsUrl()}}},[t._v("从公众号图文消息中选择")])],1)])]):"media_id"==t.selectedMenuType()?a("div",{staticClass:"menu-msg-content"},[t._m(1),t._v(" "),a("div",{staticClass:"menu-msg-panel"},[t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].media_id?a("div",{staticClass:"menu-msg-select"},[a("i",{staticClass:"icon_msg_sender"}),t._v("\n              "+t._s(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].title)+"\n              "),t._v(" "),a("div",{staticClass:"btn btn-sm btn-danger",on:{click:t.delMaterialId}},[t._v("删除")])]):a("div",{staticClass:"menu-msg-select",on:{click:t.selectMaterialId}},[a("i",{staticClass:"icon36_common add_gray"}),t._v(" "),a("strong",[t._v("从素材库中选择")])])])]):"miniprogram"==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("订阅者点击该子菜单会跳到以下小程序")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("小程序APPID")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].appid,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].appid"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"小程序的appid（仅认证公众号可配置）"},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].appid},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"appid",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("小程序路径")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].pagepath,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].pagepath"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"小程序的页面路径 pages/Index/index"},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].pagepath},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"pagepath",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[t._v("备用网页")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].url"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].url},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"url",e.target.value)}}}),t._v(" "),a("p",{staticClass:"menu-tips"},[t._v("旧版微信客户端无法支持小程序，用户点击菜单时将会打开备用网页。")])])])]):3==t.selectedMenuType()?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips"},[t._v("用于消息接口推送，不超过128字节")]),t._v(" "),a("div",{staticClass:"menu-label"},[t._v("菜单KEY值")]),t._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].key,expression:"menu.button[selectedMenuIndex].sub_button[selectedSubMenuIndex].key"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:""},domProps:{value:t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex].key},on:{input:function(e){e.target.composing||t.$set(t.menu.button[t.selectedMenuIndex].sub_button[t.selectedSubMenuIndex],"key",e.target.value)}}})])])]):t._e()]):t._e()]),t._v(" "),a("el-dialog",{attrs:{title:"选择素材",visible:t.materialBox},on:{"update:visible":function(e){t.materialBox=e},close:t.closeArticle}},[a("div",{staticStyle:{height:"300px",overflow:"auto"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore2,expression:"loadMore2"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.articleBox,expression:"articleBox"}],staticStyle:{margin:"0 auto",width:"256px",position:"relative",top:"150px"}},[a("strong",[t._v("素材管理中还没有图文哦")])]),t._v(" "),a("ul",t._l(t.listData,function(e,i){return a("li",[a("div",{staticClass:"article-list",on:{mouseenter:function(e){t.onMouseOver(i)},mouseleave:function(e){t.onMouseout(i)},click:function(e){t.articleClick(i)}}},[a("ul",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.sure[i]||t.mask[i],expression:"sure[i] || mask[i]"}],staticClass:"edit_mask"},[a("i",{staticClass:"icon_card_selected"},[t._v("已选择")])]),t._v(" "),a("div",{staticClass:"appmsg_info"},[a("em",{staticClass:"appmsg_date"},[t._v("更新于 "+t._s(e.create_time))])]),t._v(" "),t._l(e.val,function(e,i){return a("li",[0==i?a("div",{staticClass:"big-img-box"},[a("div",{staticClass:"big-img-box-inline",style:{backgroundImage:"url("+t.getRealImgUrl(e.img)+")"}},[a("div",{staticClass:"big-tile"},[a("span",{staticClass:"card_appmsg_title"},[t._v(t._s(e.title))])])]),t._v(" "),a("div",{staticStyle:{"border-bottom":"1px solid #E8E8E8",width:"93%",margin:"0 auto",position:"relative",top:"16%"}})]):a("div",{staticClass:"small-img-box"},[a("div",{staticClass:"card_appmsg"},[a("div",{staticClass:"weui-desktop-vm_primary card_appmsg_hd"},[a("strong",{staticClass:"card_appmsg_title js_appmsg_title",staticStyle:{color:"black",width:"185px"}},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"card_appmsg_thumb js_appmsg_thumb",style:{backgroundImage:"url("+t.getRealImgUrl(e.img)+")"}})]),t._v(" "),a("div",{staticStyle:{"border-bottom":"1px solid #E8E8E8",width:"93%",margin:"0 auto",position:"relative",top:"41%"}})])])})],2)])])}))])]),t._v(" "),a("el-row",{staticStyle:{"text-align":"center"},attrs:{gutter:20}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",disabled:t.articleSelectStatus},on:{click:t.onImageTextSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{type:"info",plain:""},on:{click:t.onImageTextCancel}},[t._v(" 取消 ")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"公众号内容",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e},close:t.closeMaterial}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.material}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"标题","prefix-icon":"el-icon-search"},model:{value:t.material.title,callback:function(e){t.$set(t.material,"title",e)},expression:"material.title"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.loadMore,expression:"loadMore"},{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"350px","highlight-current-row":"",border:""},on:{"current-change":t.handleCurrentChange,"row-click":t.showRow}},[a("el-table-column",{attrs:{label:"选择",width:"70",center:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.$index},nativeOn:{change:function(a){t.getCurrentRow(e.$index)}},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(" ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"title",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"发布日期",width:"180"}})],1),t._v(" "),a("el-row",{staticStyle:{"text-align":"center"},attrs:{gutter:20}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",disabled:t.radioStatus},on:{click:t.onSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{type:"info",plain:""},on:{click:t.onCancel}},[t._v(" 取消 ")])],1)],1),t._v(" "),a("div",{staticClass:"weixin-btn-group"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-item-title"},[e("i",{staticClass:"icon14_menu_add"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-msg-head"},[e("i",{staticClass:"icon_msg_sender"}),this._v("图文消息\n          ")])}],!1,null,"73a3552b",null);d.options.__file="wxmenu.vue";e.default=d.exports},qDVV:function(t,e,a){},qU0o:function(t,e,a){},qpJ6:function(t,e,a){},qtDJ:function(t,e,a){},qwIj:function(t,e,a){"use strict";var i=a("tVHL");a.n(i).a},rfa6:function(t,e,a){"use strict";var i=a("xTqb");a.n(i).a},riGM:function(t,e,a){"use strict";var i=a("eD7s");a.n(i).a},ruyp:function(t,e,a){"use strict";var i=a("+0/c");a.n(i).a},"sRQ/":function(t,e,a){"use strict";a.r(e);var i=a("GQeE"),l=a.n(i),o=a("P2sY"),s=a.n(o),n=a("Bi68"),r=a("Jf9N"),c=a("Z1g7"),u=a("g5Kx"),d=a("ygAv"),m={components:{"pagination-box":n.default,"extra-checkbox":r.default,"img-upload":c.default},data:function(){var t=this;return{dialogFormVisible:!1,formLabelWidth:"123px",form:{id:"",name:"",type:1,fordo:"",icon:"/static/images/defultImg.png"},rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}],type:[{required:!0,message:"缺少作用标识"}],fordo:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(""==t.form.fordo)return i(new Error("请点选要应用的模块")),!1;i()})}}],icon:[{required:!0,validator:function(e,a,i){t.$nextTick(function(){if(!t.form.icon||""==t.form.icon)return i(new Error("请上传图片")),!1;i()})}}]},check_dataAll:u.a.data,default_src:"",searchData:{name:"",type:1,fordo:""},page_loading:!1,tableData:[],pagination:{}}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,d.requests("post",{url:"extra/getExtraList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):d.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=s()({},this.searchData);e.page=t,this.getList(e)},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},onUploadedImg:function(t){var e=t.res.info;this.form.icon=e.url},onChecked:function(t,e){this.form.fordo=e?"all":t.join(",")},getCheckedsName:function(t){var e=t.split(","),a=[];for(var i in e)a[i]=u.a.getCheckedsName(e[i]);return a.join(" / ")},resetData:function(){this.setDataArr({form:{id:"",name:"",type:1,fordo:"",icon:"/static/images/defultImg.png"}}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.dialogFormVisible=!0,l()(t).length>0&&(e.form=s()({},t),e.form.fordo&&e.$nextTick(function(){e.$refs.extra_checkbox.setCheckeds(e.form.fordo)}),e.default_src=e.getRealImgUrl(e.form.icon))},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.page_loading||(t.page_loading=!0,d.requests("post",{url:"extra/extraEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(d.Message.success("操作成功"),t.onSerch(),setTimeout(function(){t.doEditCancel()},1e3)):d.Message.error(e.msg)}))})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,d.requests("post",{url:"extra/extraDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.onSerch(),d.Message.success("操作成功")):d.Message.error(t.msg)}))}).catch(function(){})},openPage:function(t){return d.openPage(t)}}},p=(a("36QG"),a("KHd+")),f=Object(p.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:!0,placeholder:"模块应用范围"},model:{value:t.searchData.fordo,callback:function(e){t.$set(t.searchData,"fordo",e)},expression:"searchData.fordo"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),t._v(" "),t._l(t.check_dataAll,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"icon图标",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.getRealImgUrl(e.row.icon)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"模块应用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("  \n          "+t._s(t.getCheckedsName(e.row.fordo))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,name:e.row.name,type:e.row.type,fordo:e.row.fordo,icon:e.row.icon})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑设施":"新增设施",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"作用标识","label-width":t.formLabelWidth,prop:"type"}},[a("el-input",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上传图片","label-width":t.formLabelWidth,prop:"icon"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",default_src:t.default_src,uploadedImg:t.onUploadedImg},on:{"update:default_src":function(e){t.default_src=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"模块应用","label-width":t.formLabelWidth,prop:"fordo"}},[a("extra-checkbox",{ref:"extra_checkbox",attrs:{dataAll:t.check_dataAll},on:{onChecked:t.onChecked}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)])},[],!1,null,"d2bf8fc6",null);f.options.__file="facilitie.vue";e.default=f.exports},sSgq:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=a("Zd91"),c=a("fbG1"),u=a("FedZ"),d=a("ygAv"),m={components:{"img-upload":n.default,"img-upload2":c.default,"voice-upload":u.default,"dy-tags":r.default},data:function(){var t=this;return{siteCitys:[],dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{cover:[{validator:function(e,a,i){var l=t;l.$nextTick(function(){var t=e.field;if(!l.formData[t])return i(new Error(e.message)),!1;i()})},message:"请上传图片"}]},searchStatus:[{status:"-1",label:"全部"},{status:"0",label:"禁用"},{status:"1",label:"启用"}],searchTime:[],searchData:{status:"-1",startdate:"",enddate:""},tableData:[],formData:{status:"0",sort:"0",cover:"",start_time:"",end_time:"",region_no:"",type:"0",align:"0",urls:[],fileUrl:""},place_id:0,imglimit:1}},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.place_id=this.$urlData.place_id,this.getSiteCitys(),this.getList(this.searchData)},methods:{getSiteCitys:function(){var t=this;d.requests("post",{url:"city/siteCitys"}).then(function(e){t.siteCitys=e.data})},onUploadedfile:function(t){var e=t.res.info;this.formData.fileList=e},setImgLimit:function(t){this.$refs.imgUpload.resetData(),this.imglimit=parseInt(t)+1},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;d.requests("post",{url:"banner/getBannerList",data:t}).then(function(t){e.tableData=t.data.list})},getFormatDate:d.DataFun.getFormatDate,getRealImgUrl:function(t){return this.$getRealImgUrl(t)},resetData:function(){this.setDataArr({formData:{status:"0",sort:"0",cover:"",start_time:"",end_time:"",region_no:"",type:"0",align:"0"},default_src:""}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.formData.align=String(this.formData.align),this.default_src=this.$getRealImgUrl(this.formData.cover),this.formData.start_time=this.getFormatDate(this.formData.start_time,2),this.formData.end_time=this.getFormatDate(this.formData.end_time,2)),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},sortChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return d.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,d.requests("post",{url:"banner/bannerChangeSort",data:{id:t,sort:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.onSearch(),d.Message.success("操作成功")):d.Message.error(t.msg)}))},onUploadedImg:function(t){},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;d.requests("post",{url:"banner/bannerEnable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?d.Message.success("操作成功"):d.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"banner/bannerDel",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this,a=this;a.formData.place_id=a.place_id,a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,d.requests("post",{url:"banner/bannerEdit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:d.openPage}},p=(a("sw2g"),a("KHd+")),f=Object(p.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top",staticStyle:{float:"right","margin-bottom":"30px"}},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},t._l(t.searchStatus,function(t){return a("el-option",{key:t.status,attrs:{label:t.label,value:t.status}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"banner图",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"90px"},attrs:{src:t.getRealImgUrl(e.row.cover)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容"},on:{change:function(a){t.sortChange(e.row.id,a)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"有效时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getFormatDate(e.row.start_time,3))+" - "+t._s(t.getFormatDate(e.row.end_time,3))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"read_num",label:"浏览次数",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.start_time,callback:function(e){t.$set(t.formData,"start_time",e)},expression:"formData.start_time"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"city-box",attrs:{label:"区域","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.region_no,callback:function(e){t.$set(t.formData,"region_no",e)},expression:"formData.region_no"}},t._l(t.siteCitys,function(t){return a("el-option",{key:t.id,attrs:{label:t.cname,value:t.id}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"浏览次数",prop:"read_num","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.read_num,callback:function(e){t.$set(t.formData,"read_num",e)},expression:"formData.read_num"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"跳转地址","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.href,callback:function(e){t.$set(t.formData,"href",e)},expression:"formData.href"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-radio",{attrs:{label:"0"}},[t._v("图片")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("视频")])],1)],1),t._v(" "),"0"==t.formData.type?a("el-form-item",{staticClass:"city-box",attrs:{label:"排版样式","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:t.setImgLimit},model:{value:t.formData.align,callback:function(e){t.$set(t.formData,"align",e)},expression:"formData.align"}},[a("el-option",{key:"0",attrs:{label:"单张",value:"0"}}),t._v(" "),a("el-option",{key:"1",attrs:{label:"双张",value:"1"}}),t._v(" "),a("el-option",{key:"2",attrs:{label:"三张",value:"2"}})],1)],1):t._e(),t._v(" "),"0"==t.formData.type?a("el-form-item",{ref:"cover",attrs:{label:"上传图片","label-width":t.formLabelWidth,prop:"cover"}},[a("img-upload2",{ref:"imgUpload",attrs:{url:"upload/imgUpload","show-file-list":!0,limit:t.imglimit,fileList:t.formData.urls,uploadedImg:t.onUploadedImg},on:{"update:fileList":function(e){t.$set(t.formData,"urls",e)}}})],1):t._e(),t._v(" "),"1"==t.formData.type?a("el-form-item",{ref:"cover",attrs:{label:"上传视频文件","label-width":t.formLabelWidth,prop:"cover"}},[a("voice-upload",{attrs:{url:"Upload/fileUpload",fileList:t.formData.fileUrl,uploadedVoice:t.onUploadedfile,accept:"video/mp4",limitM:50},on:{"update:fileList":function(e){t.$set(t.formData,"fileUrl",e)}}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"d8f2d75a",null);f.options.__file="banner.vue";e.default=f.exports},sw2g:function(t,e,a){"use strict";var i=a("Zj4k");a.n(i).a},tVHL:function(t,e,a){},tsXt:function(t,e,a){"use strict";a.r(e);var i=a("ygAv"),l={data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{name:"",remark:"",status:0},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"change"}]},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;t.page_loading||(t.page_loading=!0,i.requests("post",{url:"merchant/getMenuList"}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({tableData:e.data.list}):i.Message.error(e.msg)}))},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,i.requests("post",{url:"merchant/menuDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),i.Message.success("操作成功")):i.Message.error(t.msg)}))}).catch(function(){})},switchChange:function(t,e){var a=this;a.page_loading||(a.page_loading=!0,i.requests("post",{url:"merchant/menuEnable",data:{id:t,enable:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),i.Message.success("操作成功")):i.Message.error(t.msg)}))},openPage:i.openPage}},o=(a("h4HO"),a("KHd+")),s=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.openPage({url:"/merchant/menuEdit"})}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.page_loading,expression:"page_loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"菜单名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"权限url",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"page",label:"页面路径",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"侧栏状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("显示")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("隐藏")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"启用状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.enable,callback:function(a){t.$set(e.row,"enable",a)},expression:"scope.row.enable"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/merchant/menuEdit",data:{id:e.row.id}},"get")}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},[],!1,null,"077bd53f",null);s.options.__file="menuList.vue";e.default=s.exports},"u/Y0":function(t,e,a){},uEHq:function(t,e,a){"use strict";var i=a("PjLl");a.n(i).a},ui56:function(t,e,a){"use strict";var i=a("9GRN");a.n(i).a},vFF5:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("Bi68"),s=a("7QZd"),n=a("ygAv"),r={components:{"pagination-box":o.default,"img-preview":s.default},data:function(){return{searchTime:[],searchData:{startdate:"",enddate:"",url:"",out_trade_no:""},page_loading:!1,tableData:[],pagination:{}}},computed:{},watch:{searchTime:function(t){t?(this.searchData.startdate=t[0],this.searchData.enddate=t[1]):(this.searchData.startdate="",this.searchData.enddate="")}},created:function(){this.getList(this.searchData)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.page_loading||(e.page_loading=!0,console.log(t),n.requests("post",{url:"log/sendpayLog",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list,pagination:{page:t.data.current_page,pagecount:t.data.last_page,pagesize:Math.ceil(t.data.total/t.data.last_page)}}):n.Message.error(t.msg)}))},onReset:function(){this.setDataArr({searchData:{startdate:"",enddate:"",url:"",out_trade_no:""},searchTime:[]}),this.getList()},onSerch:function(){this.getList(this.searchData)},pageChange:function(t){var e=l()({},this.searchData);e.page=t,this.getList(e)},getFormatDate:n.DataFun.getFormatDate,openPage:n.openPage}},c=(a("VAVW"),a("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapmange_container"},[a("div",{staticClass:"mapmange_content"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"申请单号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入申请单号","prefix-icon":"el-icon-search"},model:{value:t.searchData.out_trade_no,callback:function(e){t.$set(t.searchData,"out_trade_no",e)},expression:"searchData.out_trade_no"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.onReset}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"out_trade_no",label:"申请单号",width:"210",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"请求地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"postdata",label:"请求数据",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"click",width:"600",placement:"top"}},[a("p",[t._v(t._s(e.row.postdata))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"my-textoverflow"},[t._v(t._s(e.row.postdata))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"response",label:"返回数据",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"click",width:"600",placement:"top"}},[a("p",[t._v(t._s(e.row.response))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"my-textoverflow"},[t._v(t._s(e.row.response))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getFormatDate(e.row.create_time,2)))])]}}])})],1),t._v(" "),a("pagination-box",{attrs:{pagination:t.pagination},on:{pageChange:t.pageChange}})],1)])},[],!1,null,"9914f4c8",null);u.options.__file="sendpaylog.vue";e.default=u.exports},vam2:function(t,e,a){"use strict";var i=a("2YYx");a.n(i).a},wawg:function(t,e,a){"use strict";var i=a("cTHy");a.n(i).a},xTqb:function(t,e,a){},"y/Qe":function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=a("ygAv"),c={components:{"img-upload":n.default},data:function(){return{dialogFormVisible:!1,formLabelWidth:"123px",form:{name:"",status:"0",has_comment:"0",order:50,icon_category:"",pid:""},searchData:{status:"-1",has_comment:"-1",name:""},catelist:[],default_icon_category:"",rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}]},tableData:[]}},created:function(){this.getList(),this.getCateList()},methods:{getList:function(t){var e=this;e.page_loading||(e.page_loading=!0,r.requests("post",{url:"news/getCategoryList",data:t}).then(function(t){e.page_loading=!1,1==t.code?e.setDataArr({tableData:t.data.list}):r.Message.error(t.msg)}))},getCateList:function(){var t=this;r.requests("get",{url:"news/getCateList"}).then(function(e){t.page_loading=!1,1==e.code?t.setDataArr({catelist:e.data}):r.Message.error(e.msg)})},resetData:function(){this.setDataArr({form:{name:"",status:"0",has_comment:"0",order:0,icon_category:""},default_icon_category:""}),this.$refs.imgUpload&&this.$refs.imgUpload.resetData()},doEditCancel:function(){this.resetData(),1==this.dialogFormVisible&&(this.dialogFormVisible=!1)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogFormVisible=!0,s()(t).length>0&&(this.form=l()({},t),this.default_icon_category=this.$getRealImgUrl(this.form.icon_category)),this.form.status=String(this.form.status),this.form.has_comment=String(this.form.has_comment),this.form.pid=String(this.form.pid)},onUploadedImg:function(t,e){var a=t.res.info;this.form[e]=a.url},doEditSubmit:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return!1;r.requests("post",{url:"news/categoryEdit",data:t.form}).then(function(e){t.page_loading=!1,1==e.code?(r.Message.success("操作成功"),t.getList(),setTimeout(function(){t.doEditCancel()},1e3)):r.Message.error(e.msg)})})},doDel:function(t){var e=this;e.$confirm("是否删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.page_loading||(e.page_loading=!0,r.requests("post",{url:"news/categoryDel",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(e.getList(),r.Message.success("操作成功")):r.Message.error(t.msg)}))}).catch(function(){})},orderChange:function(t,e){var a=this;if("NaN"==parseFloat(e).toString())return r.Message.error("排序必须是数字"),!1;a.page_loading||(a.page_loading=!0,r.requests("post",{url:"news/categoryChangeorder",data:{id:t,order:e}}).then(function(t){a.page_loading=!1,1==t.code?(a.getList(),r.Message.success("操作成功")):r.Message.error(t.msg)}))},onSerch:function(){this.getList(this.searchData)},switchChange:function(t,e,a){var i=this;if(!i.page_loading){if(i.page_loading=!0,"status"==a)var l="news/categoryEnable",o={id:t,status:e};else l="news/commentEnable",o={id:t,has_comment:e};r.requests("post",{url:l,data:o}).then(function(t){i.page_loading=!1,1==t.code?(i.getList(),r.Message.success("操作成功")):r.Message.error(t.msg)})}},openPage:function(t){return r.openPage(t)}}},u=(a("0ZQh"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"name",label:"名称","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:4,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:6,sm:12,xs:24}},[a("el-form-item",{attrs:{label:"评论状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.has_comment,callback:function(e){t.$set(t.searchData,"has_comment",e)},expression:"searchData.has_comment"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"已启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{staticStyle:{float:"right","text-align":"right"},attrs:{xl:6,md:6,xs:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSerch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"500",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,"status")}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"评论功能",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a,"has_comment")}},model:{value:e.row.has_comment,callback:function(a){t.$set(e.row,"has_comment",a)},expression:"scope.row.has_comment"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"排序越大越靠前",size:"small"},on:{change:function(a){t.orderChange(e.row.id,a)}},model:{value:e.row.order,callback:function(a){t.$set(e.row,"order",a)},expression:"scope.row.order"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.doEdit({id:e.row.id,name:e.row.name,status:e.row.status,has_comment:e.row.has_comment,icon_category:e.row.icon_category,order:e.row.order,pid:e.row.pid})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.doDel(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.form.id?"编辑类别":"新增类别",visible:t.dialogFormVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.doEditCancel}},[a("el-form",{ref:"form",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"父级分类","label-width":t.formLabelWidth,prop:"pid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}},[a("el-option",{key:"0",attrs:{value:"0",label:"顶级模块"}}),t._v(" "),t._l(t.catelist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth,prop:"order"}},[a("el-input",{model:{value:t.form.order,callback:function(e){t.$set(t.form,"order",e)},expression:"form.order"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"评论功能","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.form.has_comment,callback:function(e){t.$set(t.form,"has_comment",e)},expression:"form.has_comment"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图标","label-width":t.formLabelWidth,prop:"icon_category"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1},default_src:t.default_icon_category,uploadedImg:function(e){return t.onUploadedImg(e,"icon_category")}},on:{"update:default_src":function(e){t.default_icon_category=e}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doEditSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.doEditCancel}},[t._v("取 消")])],1)],1):t._e()],1)},[],!1,null,"87a89436",null);d.options.__file="category.vue";e.default=d.exports},y0rP:function(t,e,a){"use strict";var i=a("DTsy");a.n(i).a},y20m:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("VVsi"),r=a("ygAv"),c={components:{"select-tree":n.default},data:function(){return{btn_show_options:[{value:"1",label:"设置"},{value:"0",label:"不设置"}],status_options:[{value:"1",label:"在侧边栏显示"},{value:"0",label:"在侧边栏隐藏"}],type_options:[{value:"1",label:"有界面可访问菜单"},{value:"2",label:"无界面可访问菜单(接口)"},{value:"0",label:"只作为菜单"}],parent_id_options:[],form:{parent_id:"0",name:"",url:"",extra_urls:"",page:"",active_page:"",icon:"",sort:0,remark:"",type:"1",status:"1",btn_show:"0"},tableData:[],defaultProps:{children:"children",label:"name"},repastitle:"菜单添加"}},computed:{defaultCheckedKeys:function(){return[this.form.parent_id]}},created:function(){var t=s()(this.$urlData).length>0?this.$urlData:{};this.getList(),t.id&&this.getInfo(t.id)},methods:{getInfo:function(t){var e=this;r.requests("post",{url:"menu/getMenuInfo",data:{id:t}}).then(function(t){e.page_loading=!1,1==t.code?(t.data.type=String(t.data.type),t.data.status=String(t.data.status),t.data.btn_show=String(t.data.btn_show),e.setDataArr({form:t.data,repastitle:"菜单编辑"})):r.Message.error(t.msg)})},getList:function(){var t=this;t.page_loading||(t.page_loading=!0,r.requests("post",{url:"menu/index"}).then(function(e){if(t.page_loading=!1,1==e.code){var a=[{parent_id:0,id:0,name:"一级菜单"}].concat(e.data.list);t.setDataArr({tableData:a})}else r.Message.error(e.msg)}))},popoverHide:function(t){console.log(t),this.form.parent_id=t},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!"),!1;0==t.form.parent_id&&(t.form.btn_show=0),r.requests("post",{url:"menu/edit",data:l()({},t.form)}).then(function(t){1==t.code?(r.Message.success(t.msg),setTimeout(function(){r.openPage({url:-1})},800)):r.Message.error(t.msg)})})},cancelForm:function(){this.$refs.form.resetFields(),r.openPage({url:-1,hreftype:"navigateBack"})}}},u=(a("GERb"),a("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"repastitle"},[t._v(t._s(t.repastitle))]),t._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"120px",model:t.form}},[a("el-form-item",{attrs:{label:"上级",prop:"parent_id",rules:{required:!0,message:"请选择上级",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[t.tableData.length>0?a("select-tree",{staticStyle:{},attrs:{data:t.tableData,defaultProps:t.defaultProps,checkedKeys:t.defaultCheckedKeys},on:{popoverHide:t.popoverHide}}):t._e()],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"名称不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入名称","auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),0!=t.form.type?a("div",[a("el-form-item",{attrs:{label:"权限url",prop:"url",rules:{required:!0,message:"权限url不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入权限url,模块/控制器/方法?参数","auto-complete":"off"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"其他附加权限url",prop:"extra_urls"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入附加权限请求,多个以,隔开","auto-complete":"off"},model:{value:t.form.extra_urls,callback:function(e){t.$set(t.form,"extra_urls",e)},expression:"form.extra_urls"}})],1)],1),t._v(" "),t.form.parent_id>0?a("el-form-item",{attrs:{label:"上级按钮触发",rules:{required:!0,message:"权限url不能为空",trigger:"change"}}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},t._l(t.btn_show_options,function(e){return a("el-radio",{key:e.value,attrs:{label:e.value},model:{value:t.form.btn_show,callback:function(e){t.$set(t.form,"btn_show",e)},expression:"form.btn_show"}},[t._v(t._s(e.label))])}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"页面路径",prop:"page"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入页面路径","auto-complete":"off"},model:{value:t.form.page,callback:function(e){t.$set(t.form,"page",e)},expression:"form.page"}})],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入图标","auto-complete":"off"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"icon"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入排序","auto-complete":"off"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入备注内容","auto-complete":"off"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.status_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),"0"==t.form.status?a("el-form-item",{attrs:{label:"菜单激活路径",prop:"active_page"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-input",{attrs:{placeholder:"请输入左侧菜单hover路径","auto-complete":"off"},model:{value:t.form.active_page,callback:function(e){t.$set(t.form,"active_page",e)},expression:"form.active_page"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-col",{attrs:{lg:12,md:12,xs:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelForm}},[t._v("返 回")])],1)],1)],1)},[],!1,null,"cd78e86e",null);d.options.__file="menuedit.vue";e.default=d.exports},yEVJ:function(t,e,a){"use strict";var i=a("Bf2p");a.n(i).a},yGHO:function(t,e,a){"use strict";var i=a("oBSS");a.n(i).a},yzdO:function(t,e,a){"use strict";a.r(e);var i=a("4d7F"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("ygAv"),r={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"},url:{type:String,default:"Upload/imgUpload"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],uploadUrl:"string"}},methods:{uploadImage:function(t){var e=this,a=this.$route.path.split("/"),i=a[1]?a[1]:"";if(i){var l=t.file,o=e.url;n.requests("post",{url:o,data:{image:l,subpath:i},headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if(1==t.code){var a=t.data.info;e.handleSuccess(a,l)}else n.Message.error(t.msg)})}else console.log("页面路径设置错误")},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},resetData:function(){this.setDataArr({listObj:{},fileList:[]})},checkAllSuccess:function(){var t=this;return s()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=s()(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请耐心等待文件上传完成!")},handleSuccess:function(t,e){for(var a=this.getRealImgUrl(t.url),i=e.uid,l=s()(this.listObj),o=0,n=l.length;o<n;o++)if(this.listObj[l[o]].uid===i)return this.listObj[l[o]].url=a,void(this.listObj[l[o]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,a=s()(this.listObj),i=0,l=a.length;i<l;i++)if(this.listObj[a[i]].uid===e)return void delete this.listObj[a[i]]},beforeUpload:function(t){var e=this,a=window.URL||window.webkitURL,i=t.uid;return this.listObj[i]={},new l.a(function(l,o){var s=new Image;s.src=a.createObjectURL(t),s.onload=function(){e.listObj[i]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},l(!0)})}}},c=(a("l99O"),a("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-mycontainer"},[a("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("\n    上传\n  ")]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-upload",{staticClass:"upload-dialog",attrs:{drag:"",multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,"list-type":"picture-card",action:t.uploadUrl,"http-request":t.uploadImage}},[a("i",{staticClass:"el-icon-upload"},[a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])])])]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("\n      确认\n    ")])],1)],1)},[],!1,null,"60e3c808",null);u.options.__file="EditorImage.vue";e.default=u.exports},z11e:function(t,e,a){"use strict";a.r(e);var i=a("Z1g7"),l=a("kxxL"),o=a("bC1q"),s=a("vQy8"),n=a("ygAv"),r={components:{"img-upload":i.default,BaiduMap:s.BaiduMap,BmView:s.BmView,BmLocalSearch:s.BmLocalSearch,"mycity-select":o.default},mixins:[l.a],data:function(){return{dialogVisibleMap:!1,formData:{name:"",price:0,price_str:"",built_area:"",house_type:"",sale_status:"1",house_purpose:[],bind_building:"",sizelayout:"",planning_number:0,total_area:0,total_construction_area:0,building_type:"",floor_condition:"",developers:"",floor_height:"",decoration:"",progress_project:"",public_bear:"",sales_telephone:"",property_company:"",property_type:"",property_charges:"",volume_rate:"",greening_rate:"",parking_space_number:"",parking_space_proportion:"",status:"1",logo:"",detail_cover:"",list_cover:"",coordinate:"",feature_tag:[],selling_point_tag:[],base_tag:[],province:"",city:"",area:""},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"change"}],price:[{required:!0,message:"请输入参考价格",trigger:"change"}],price_str:[{required:!0,message:"请输入参考价格",trigger:"change"}]},formLabelWidth:"110px",default_logo_src:"",default_detailcover_src:"",default_listcover_src:"",map_center:{lng:118.125313,lat:24.499929},my_zoom:16,addressKeyword:"",feature_tag:[],selling_point_tag:[],base_tag:[],sysTag:[]}},created:function(){if(this.resetData({formData:this.formData,feature_tag:this.feature_tag,selling_point_tag:this.selling_point_tag,base_tag:this.base_tag}),this.$urlData&&this.$urlData.id){if(!this.doMissId(this.$urlData.id))return;this.formData.id=this.$urlData.id,this.getInfo(this.formData.id)}else this.resetForm("formData");this.getSysTag()},mounted:function(){},methods:{handleClick:function(t,e){console.log(t,e)},getInfo:function(t){var e=this,a=this;a.page_loading||(a.page_loading=!0,n.requests("get",{url:"Estates/getEstatesnewInfo",data:{id:t}}).then(function(t){if(a.page_loading=!1,1==t.code){var i=t.data;if(""!=i.coordinate){var l=i.coordinate.split(",");e.map_center={lng:l[0],lat:l[1]}}a.setDataArr({formData:i,default_logo_src:a.$getRealImgUrl(i.logo),default_listcover_src:a.$getRealImgUrl(i.list_cover),default_detailcover_src:a.$getRealImgUrl(i.detail_cover)})}else n.Message.error(t.msg)}))},doSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,n.requests("post",{url:"estates/editEstate",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1):a.$message({type:"error",message:t.msg})}))})},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields&&this.$refs[t].resetFields(),this.resetData()},doMissId:function(t){if(!t){var e=this;return this.$alert("缺少必要的id参数，请重新打开","提示",{confirmButtonText:"确定",callback:function(t){e.openPage({hreftype:"navigateBack",url:-1})}}),!1}return!0},onUploadedImg:function(t,e){switch(e){case"logo":this.formData.logo=t.res.info.url,this.$refs.logo.clearValidate();break;case"detail":this.formData.detail_cover=t.res.info.url,this.$refs.detail_cover.clearValidate();break;case"list":this.formData.list_cover=t.res.info.url,this.$refs.list_cover.clearValidate()}},map_handler:function(t){var e=t.BMap,a=t.map;this.BMap=e,this.map=a},getLocationPoint:function(t){this.lng=t.point.lng,this.lat=t.point.lat,this.formData.coordinate=this.lng+","+this.lat,this.dialogVisibleMap=!1},getSysTag:function(){var t=this;n.requests("post",{url:"estates/getTagList",data:{status:"1",name:"",type:"-1"}}).then(function(e){t.sysTag=e.data.list,t.sysTag.forEach(function(e,a){switch(e.type){case 1:t.feature_tag.push(e);break;case 2:t.selling_point_tag.push(e);break;case 3:t.base_tag.push(e)}})})},openPage:n.openPage}},c=(a("1QUr"),a("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("div",{staticClass:"mapeditor-title"},[t._v("图片上传")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:8,xs:8}},[a("el-form-item",{ref:"logo",attrs:{label:"开发商logo（150x150）","label-width":t.formLabelWidth,prop:"logo"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1},default_src:t.default_logo_src,uploadedImg:function(e){return t.onUploadedImg(e,"logo")}},on:{"update:default_src":function(e){t.default_logo_src=e}}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:8,xs:8}},[a("el-form-item",{ref:"list_cover",attrs:{label:"详情封面（750x1210）","label-width":t.formLabelWidth,prop:"list_cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1},default_src:t.default_detailcover_src,uploadedImg:function(e){return t.onUploadedImg(e,"detail")}},on:{"update:default_src":function(e){t.default_detailcover_src=e}}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:8,xs:8}},[a("el-form-item",{ref:"detail_cover",attrs:{label:"列表封面（105x105）","label-width":t.formLabelWidth,prop:"detail_cover"}},[a("img-upload",{ref:"imgUpload",attrs:{url:"upload/imgUpload",thumb:{isthumb:1},default_src:t.default_listcover_src,uploadedImg:function(e){return t.onUploadedImg(e,"list")}},on:{"update:default_src":function(e){t.default_listcover_src=e}}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("基本信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"name",label:"楼盘名称","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入楼盘名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"coordinate",label:"坐标地址","label-width":"110px"}},[a("span",{on:{click:function(e){t.dialogVisibleMap=!0}}},[a("el-input",{attrs:{placeholder:"",disabled:!0},model:{value:t.formData.coordinate,callback:function(e){t.$set(t.formData,"coordinate",e)},expression:"formData.coordinate"}})],1)])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"地图",visible:t.dialogVisibleMap,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleMap=e},close:function(e){t.dialogVisibleMap=!1}}},[a("el-row",[a("el-col",{attrs:{lg:18,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"coordinate",label:"地图搜索","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入地址来查找和点选坐标(地址中请包含城市名称，否则会影响解析效果)"},model:{value:t.addressKeyword,callback:function(e){t.addressKeyword=e},expression:"addressKeyword"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:18,sm:24,xs:24}},[a("el-form-item",{attrs:{label:"","label-width":"110px"}},[a("baidu-map",{staticClass:"baidu-map-view",staticStyle:{width:"450px",height:"450px"},attrs:{center:t.map_center,zoom:t.my_zoom,"scroll-wheel-zoom":!0,ak:"QBGa5QO0dackR4MfegYkaeN8UdcaxEti"},on:{click:t.getLocationPoint,ready:t.map_handler}},[a("bm-view",{staticStyle:{width:"100%",height:"100%",flex:"1"}}),t._v(" "),a("bm-local-search",{staticStyle:{display:"none"},attrs:{keyword:t.addressKeyword,"auto-viewport":!0}})],1)],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"price",label:"参考价格","label-width":"110px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}}),t._v("元/㎡\n      ")],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"price_str",label:"参考价格","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入参考价格描述"},model:{value:t.formData.price_str,callback:function(e){t.$set(t.formData,"price_str",e)},expression:"formData.price_str"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"house_type",label:"户型","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入户型(如：5/7居)"},model:{value:t.formData.house_type,callback:function(e){t.$set(t.formData,"house_type",e)},expression:"formData.house_type"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"built_area",label:"户型建面","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入户型建面范围(如：78-127㎡)"},model:{value:t.formData.built_area,callback:function(e){t.$set(t.formData,"built_area",e)},expression:"formData.built_area"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:12,xs:24}},[a("mycity-select",{attrs:{"label-width":"110px",province_no:t.formData.province,city_no:t.formData.city,area_no:t.formData.area,isMy:!0,model:"2",siteAreasUrl:"city/siteAreas"},on:{"update:province_no":function(e){t.$set(t.formData,"province",e)},"update:city_no":function(e){t.$set(t.formData,"city",e)},"update:area_no":function(e){t.$set(t.formData,"area",e)}}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"status",label:"是否启用","label-width":"110px"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sale_status",label:"销售状态","label-width":"110px"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("待售")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("在售")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("售罄")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.formData.sale_status,callback:function(e){t.$set(t.formData,"sale_status",e)},expression:"formData.sale_status"}},[t._v("尾盘")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"house_purpose",label:"建筑用途","label-width":"110px"}},[a("el-checkbox-group",{model:{value:t.formData.house_purpose,callback:function(e){t.$set(t.formData,"house_purpose",e)},expression:"formData.house_purpose"}},[a("el-checkbox",{attrs:{label:"1"}},[t._v("住宅")]),t._v(" "),a("el-checkbox",{attrs:{label:"2"}},[t._v("别墅")]),t._v(" "),a("el-checkbox",{attrs:{label:"3"}},[t._v("商住")]),t._v(" "),a("el-checkbox",{attrs:{label:"4"}},[t._v("写字楼")]),t._v(" "),a("el-checkbox",{attrs:{label:"5"}},[t._v("公寓")]),t._v(" "),a("el-checkbox",{attrs:{label:"6"}},[t._v("车位")]),t._v(" "),a("el-checkbox",{attrs:{label:"7"}},[t._v("花园住宅")]),t._v(" "),a("el-checkbox",{attrs:{label:"8"}},[t._v("地皮商铺")])],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"feature_tag",label:"基本属性","label-width":"110px"}},[a("el-checkbox-group",{model:{value:t.formData.base_tag,callback:function(e){t.$set(t.formData,"base_tag",e)},expression:"formData.base_tag"}},t._l(t.base_tag,function(e){return a("el-checkbox",{key:e.id,attrs:{label:String(e.id)}},[t._v(t._s(e.name))])}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"selling_point_tag",label:"卖点标签","label-width":"110px"}},[a("el-checkbox-group",{model:{value:t.formData.selling_point_tag,callback:function(e){t.$set(t.formData,"selling_point_tag",e)},expression:"formData.selling_point_tag"}},t._l(t.selling_point_tag,function(e){return a("el-checkbox",{key:e.id,attrs:{label:String(e.id)}},[t._v(t._s(e.name))])}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:24,sm:24,xs:24}},[a("el-form-item",{attrs:{prop:"feature_tag",label:"特色标签","label-width":"110px"}},[a("el-checkbox-group",{model:{value:t.formData.feature_tag,callback:function(e){t.$set(t.formData,"feature_tag",e)},expression:"formData.feature_tag"}},t._l(t.feature_tag,function(e){return a("el-checkbox",{key:e.id,attrs:{label:String(e.id)}},[t._v(t._s(e.name))])}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"developers",label:"开发商","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入开发商"},model:{value:t.formData.developers,callback:function(e){t.$set(t.formData,"developers",e)},expression:"formData.developers"}})],1)],1),t._v(" "),a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sales_telephone",label:"售楼电话","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入售楼电话"},model:{value:t.formData.sales_telephone,callback:function(e){t.$set(t.formData,"sales_telephone",e)},expression:"formData.sales_telephone"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:11,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"bind_building",label:"绑定楼栋","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入楼栋"},model:{value:t.formData.bind_building,callback:function(e){t.$set(t.formData,"bind_building",e)},expression:"formData.bind_building"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("建筑信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"sizelayout",label:"大小户型","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入户型描述(如：86-120m高层复式)"},model:{value:t.formData.sizelayout,callback:function(e){t.$set(t.formData,"sizelayout",e)},expression:"formData.sizelayout"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"planning_number",label:"规划户数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"规划户数"},model:{value:t.formData.planning_number,callback:function(e){t.$set(t.formData,"planning_number",e)},expression:"formData.planning_number"}}),t._v("户\n      ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"building_type",label:"建筑类型？","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入建筑类型"},model:{value:t.formData.building_type,callback:function(e){t.$set(t.formData,"building_type",e)},expression:"formData.building_type"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"total_area",label:"占地总面积","label-width":"110px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.total_area,callback:function(e){t.$set(t.formData,"total_area",e)},expression:"formData.total_area"}}),t._v("㎡\n      ")],1)],1),t._v(" "),a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"total_construction_area",label:"建筑总面积","label-width":"110px"}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.formData.total_construction_area,callback:function(e){t.$set(t.formData,"total_construction_area",e)},expression:"formData.total_construction_area"}}),t._v("㎡\n      ")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"floor_condition",label:"楼层状况","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入楼层状况描述(如：高层19-34F/叠拼6-8F)"},model:{value:t.formData.floor_condition,callback:function(e){t.$set(t.formData,"floor_condition",e)},expression:"formData.floor_condition"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"floor_height",label:"层高","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入层高描述(如：叠拼约5.8-6m、高层约2.9m)"},model:{value:t.formData.floor_height,callback:function(e){t.$set(t.formData,"floor_height",e)},expression:"formData.floor_height"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"decoration",label:"装修情况","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入装修情况"},model:{value:t.formData.decoration,callback:function(e){t.$set(t.formData,"decoration",e)},expression:"formData.decoration"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"progress_project",label:"项目进度","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入项目进度"},model:{value:t.formData.progress_project,callback:function(e){t.$set(t.formData,"progress_project",e)},expression:"formData.progress_project"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"public_bear",label:"公摊","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入公摊"},model:{value:t.formData.public_bear,callback:function(e){t.$set(t.formData,"public_bear",e)},expression:"formData.public_bear"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mapeditor-title"},[t._v("物业参数")]),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"property_company",label:"物业公司","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入物业公司"},model:{value:t.formData.property_company,callback:function(e){t.$set(t.formData,"property_company",e)},expression:"formData.property_company"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"property_type",label:"物业类型","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入物业类型"},model:{value:t.formData.property_type,callback:function(e){t.$set(t.formData,"property_type",e)},expression:"formData.property_type"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"property_charges",label:"物业费","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入物业费"},model:{value:t.formData.property_charges,callback:function(e){t.$set(t.formData,"property_charges",e)},expression:"formData.property_charges"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"volume_rate",label:"容积率","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入容积率"},model:{value:t.formData.volume_rate,callback:function(e){t.$set(t.formData,"volume_rate",e)},expression:"formData.volume_rate"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"greening_rate",label:"绿化率","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入绿化率"},model:{value:t.formData.greening_rate,callback:function(e){t.$set(t.formData,"greening_rate",e)},expression:"formData.greening_rate"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"parking_space_number",label:"车位数","label-width":"110px"}},[a("el-input-number",{attrs:{label:"车位数"},model:{value:t.formData.parking_space_number,callback:function(e){t.$set(t.formData,"parking_space_number",e)},expression:"formData.parking_space_number"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:10,sm:12,xs:24}},[a("el-form-item",{attrs:{prop:"parking_space_proportion",label:"车位比","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入车位比"},model:{value:t.formData.parking_space_proportion,callback:function(e){t.$set(t.formData,"parking_space_proportion",e)},expression:"formData.parking_space_proportion"}})],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("保存")]),t._v(" "),t.formData.id?t._e():a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm("formData")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:function(e){t.openPage({url:-1,hreftype:"navigateBack"})}}},[t._v("返回")])],1)],1)},[],!1,null,"78d1d0ca",null);u.options.__file="EstatesnewEdit.vue";e.default=u.exports},zUHS:function(t,e,a){},zwlo:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),l=a.n(i),o=a("GQeE"),s=a.n(o),n=a("Z1g7"),r=(a("Zd91"),a("kxxL")),c=a("7QZd"),u=a("bC1q"),d=a("ygAv"),m={components:{"img-upload":n.default,"img-preview":c.default,"mycity-select":u.default},mixins:[r.a],data:function(){return{dialogVisibleEdit:!1,formLabelWidth:"123px",src:"",default_src:"",page_loading:"",thumb:{},rules:{title:[{required:!0,message:"请输入名称",trigger:"change"}]},searchData:{status:"-1",type:"-1"},tableData:[],formData:{name:"",status:"0",page_title:"",page_keywords:"",page_desc:"",region_no:"",type:"0"},old_region_no:"",type_list:[0,1],previewShow:!1,previewSrc:""}},created:function(){var t=this;t.resetData({formData:this.formData,default_src:""},function(){t.$nextTick(function(){t.$refs.imgUpload&&t.$refs.imgUpload.resetData()})}),t.getList(t.searchData)},methods:{changeCity:function(){},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;d.requests("post",{url:"Subject/getList",data:t}).then(function(t){e.tableData=t.data.list})},getRealImgUrl:function(t){return this.$getRealImgUrl(t)},doEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.old_region_no="",s()(t).length>0&&(this.formData=l()({},t),this.formData.status=String(this.formData.status),this.formData.type=String(this.formData.type),this.old_region_no=t.region_no),this.dialogVisibleEdit=!0},doEditCancel:function(t){this.$refs[t].resetFields(),this.resetData(),1==this.dialogVisibleEdit&&(this.dialogVisibleEdit=!1)},onUploadedImg:function(t){this.formData.cover=t.res.info.url,this.$refs.cover.clearValidate()},onSearch:function(){this.getList(this.searchData)},switchChange:function(t,e){var a=this;d.requests("post",{url:"Subject/enable",data:{id:t,status:e}}).then(function(t){a.page_loading=!1,1==t.code?d.Message.success("操作成功"):d.Message.error(t.msg)})},del:function(t,e){var a=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.requests("post",{url:"Subject/del",data:{id:t}}).then(function(t){0!=t.data.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):alert("删除失败："+t.data.msg)})})},doSubmit:function(t){var e=this;this.old_region_no!=this.formData.region_no&&this.formData.id?e.$confirm("检测到变更新的城市将会重置配置信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(a){e.formSubmit(t)}):e.formSubmit(t)},formSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.page_loading||(a.page_loading=!0,d.requests("post",{url:"Subject/edit",data:a.formData}).then(function(t){a.page_loading=!1,1==t.code?(a.$message({type:"success",message:"操作成功!"}),a.dialogVisibleEdit=!1,a.onSearch()):a.$message({type:"error",message:t.msg})}))})},openPage:d.openPage,doPreviewShow:function(t){this.previewShow=!0,this.previewSrc=t}}},p=(a("vam2"),a("KHd+")),f=Object(p.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container"},[a("div",{staticClass:"tb-top"},[a("el-form",{staticClass:"form-serch",attrs:{inline:!0,model:t.searchData}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchData.status,callback:function(e){t.$set(t.searchData,"status",e)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.doEdit()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticClass:"tb-title",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"版面类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          版面"+t._s(e.row.type+1)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.switchChange(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.openPage({url:"/marketing/subjectConfig",data:{id:e.row.id,subject_type:e.row.type}})}}},[t._v("配置")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.formData.id?"编辑":"新增",visible:t.dialogVisibleEdit,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisibleEdit=e},close:function(e){t.doEditCancel("formData")}}},[a("el-form",{ref:"formData",staticStyle:{"padding-right":"50px"},attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("mycity-select",{attrs:{"label-width":t.formLabelWidth,city_no:t.formData.region_no,isMy:!0,model:"3",siteAreasUrl:"city/siteAreas"},on:{changeCity:t.changeCity,"update:city_no":function(e){t.$set(t.formData,"region_no",e)}}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"页面标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_title,callback:function(e){t.$set(t.formData,"page_title",e)},expression:"formData.page_title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"页面关键字","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.page_keywords,callback:function(e){t.$set(t.formData,"page_keywords",e)},expression:"formData.page_keywords"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"页面描述","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:t.formData.page_desc,callback:function(e){t.$set(t.formData,"page_desc",e)},expression:"formData.page_desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("禁用")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"版面选择","label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},t._l(t.type_list,function(e){return a("div",{key:e,staticClass:"radio-item"},[a("el-image",{staticClass:"radio-img",attrs:{src:t.getRealImgUrl("/static/images/admin/subject_"+e+".jpg")},on:{click:function(a){t.doPreviewShow("/static/images/admin/subject_"+e+".jpg")}}}),t._v(" "),a("div",{staticClass:"radio-el"},[a("el-radio",{attrs:{label:String(e)}},[t._v("版面"+t._s(e+1))])],1)],1)}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doSubmit("formData")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.doEditCancel("formData")}}},[t._v("取 消")])],1)],1),t._v(" "),a("img-preview",{attrs:{show:t.previewShow,src:t.previewSrc},on:{"update:show":function(e){t.previewShow=e}}})],1)},[],!1,null,"032237cf",null);f.options.__file="subject.vue";e.default=f.exports}}]);